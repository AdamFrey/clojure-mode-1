var shadow$provide = {};
(function(){
shadow$provide[0]=function(na,Pa,lb,D){function Ja(F){Ja="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"===typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A};return Ja(F)}function Ka(F,A){if(A&&("object"===Ja(A)||"function"===typeof A))return A;if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function Ca(F,A,E){Ca="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get:function(O,U,ca){for(;!Object.prototype.hasOwnProperty.call(O,U)&&(O=Ra(O),null!==O););if(O)return U=Object.getOwnPropertyDescriptor(O,U),U.get?U.get.call(ca):U.value};return Ca(F,A,E||F)}function Ra(F){Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)};return Ra(F)}function wa(F,A){if("function"!==typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(A&&A.prototype,
{constructor:{value:F,writable:!0,configurable:!0}});A&&za(F,A)}function za(F,A){za=Object.setPrototypeOf||function(E,O){E.__proto__=O;return E};return za(F,A)}function Fa(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function");}function Ma(F,A){for(var E=0;E<A.length;E++){var O=A[E];O.enumerable=O.enumerable||!1;O.configurable=!0;"value"in O&&(O.writable=!0);Object.defineProperty(F,O.key,O)}}function ra(F,A,E){A&&Ma(F.prototype,A);E&&Ma(F,E);return F}function Ea(F){return 127462<=
F&&127487>=F}function ja(F,A){if(A==F.length)return A;var E;if(E=A)E=F.charCodeAt(A),E=56320<=E&&57344>E;E&&(E=F.charCodeAt(A-1),E=55296<=E&&56320>E);E&&A--;E=Da(F,A);for(A+=ha(E);A<F.length;){var O=Da(F,A),U;if(!(U=E==x||O==x))a:{for(U=1;U<z.length;U+=2)if(z[U]>O){U=z[U-1]<=O;break a}U=!1}if(U)A+=ha(O),E=O;else if(Ea(O)){O=0;for(U=A-2;0<=U&&Ea(Da(F,U));)O++,U-=2;if(0==O%2)break;else A+=2}else break}return A}function Ia(F,A){for(;0<A;){var E=ja(F,A-2);if(E<A)return E;A--}return 0}function Da(F,A){var E=
F.charCodeAt(A);if(!(55296<=E&&56320>E)||A+1==F.length)return E;F=F.charCodeAt(A+1);return 56320<=F&&57344>F?(E-55296<<10)+(F-56320)+65536:E}function ha(F){return 65536>F?1:2}function aa(F){return M[Q=(Q+1)%G]=F}function da(F){var A=-1,E=!0,O=!1,U=void 0;try{for(var ca=F[Symbol.iterator](),ka;!(E=(ka=ca.next()).done);E=!0)A+=ka.value.length+1}catch(xa){O=!0,U=xa}finally{try{if(!E&&null!=ca["return"])ca["return"]()}finally{if(O)throw U;}}return A}function T(F,A){for(var E=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:0,O=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1E9,U=0,ca=0,ka=!0;ca<F.length&&U<=O;ca++){var xa=F[ca],Ga=U+xa.length;Ga>=E&&(Ga>O&&(xa=xa.slice(0,O-U)),U<E&&(xa=xa.slice(E-U)),ka?(A[A.length-1]+=xa,ka=!1):A.push(xa));U=Ga+1}return A}function H(F,A){if(F.length!=A.length||F.lines!=A.lines)return!1;F=new k(F);A=new k(A);for(var E=0,O=0;;){if(F.lineBreak!=A.lineBreak||F.done!=A.done)return!1;if(F.done)return!0;if(F.lineBreak)F.next(),A.next(),E=O=0;else{var U=F.value.slice(E),
ca=A.value.slice(O);if(U.length==ca.length){if(U!=ca)return!1;F.next();A.next();E=O=0}else if(U.length>ca.length){if(U.slice(0,ca.length)!=ca)return!1;E+=ca.length;A.next();O=0}else{if(ca.slice(0,U.length)!=U)return!1;O+=U.length;F.next();E=0}}}}Object.defineProperty(D,"__esModule",{value:!0});D.codePointAt=Da;D.codePointSize=ha;D.countColumn=function(F,A,E){for(var O=0;O<F.length;)9==F.charCodeAt(O)?(A+=E-A%E,O++):(A++,O=ja(F,O));return A};D.findColumn=function(F,A,E,O){for(var U=0;U<F.length;){if(A>=
E)return{offset:U,leftOver:0};A+=9==F.charCodeAt(U)?O-A%O:1;U=ja(F,U)}return{offset:F.length,leftOver:E-A}};D.fromCodePoint=function(F){if(65535>=F)return String.fromCharCode(F);F-=65536;return String.fromCharCode((F>>10)+55296,(F&1023)+56320)};D.nextClusterBreak=ja;D.prevClusterBreak=Ia;D.Text=D.Line=void 0;var z="lc 34 7n 7 7b 19    2  2   20 b 1c l g  2t 7 2 6 2 2  4 z  u r 2j b 1m 9 9  o 4  9  3  5 17 3 3b f  w 1j    4 8 4  3 7 a 2 t  1m    2 4 8  9  a 2 q  2 2 1l  4 2 4 2 2 3 3  u 2 3  b 2 1l  4 5  2 4  k 2 m 6   1m   2  4 8  7 3 a 2 u  1n    c  9  14  3  1l 3 5 3  4 7 2 b 2 t  1m  2  2  3  5 2 7 2 b 2 s 2 1l 2   2 4 8  9  a 2 t  20  4  2 3   8  29  2 7 c 8 2q  2 9 b 6 22 2 r      1j e  5  2 5 b  10 9  2u 4  6  2 2 2 p 2 4 3 g 4 d  2 2 6  f  jj 3 qa 3 t 3 t 2 u 2 1s 2  7 8  2 b 9  19 3 3b 2 y  3a 3 4 2 9  6 3 63 2 2  1m   7     2 8 6 a 2  1c h 1r 4 1c 7   5  14 9 c 2 w 4 2 2  3 1k   2 3   3 1m 8 2 2 48 3  d  7 4  6  3 2 5i 1m  5 ek  5f x 2da 3 3x  2o w fe 6 2x 2 n9w 4  a w 2 28 2 7k  3  4  p 2 5  47 2 q i d  12 8 p b 1a 3 1c  2 4 2 2 13  1v 6 2 2 2 2 c  8  1b  1f   3 2 2 5 2   16 2 8  6m  2  4  fn4  kh g g g a6 2 gt  6a  45 5 1ae 3  2 5 4 14 3 4  4l 2 fx 4 ar 2 49 b 4w  1i f 1k 3 1d 4 2 2 1x 3 10 5  8 1q  c 2 1g 9 a 4 2  2n 3 2   2 6  4g  3 8 l 2 1l 2     m  e 7 3 5 5f 8 2 3   n  29  2 6   2   2  2 6j  2 4 6 2  2 r 2 2d 8 2   2 2y    2 6   2t 3 2 4  5 77 9  2 6t  a 2   4  40 4 2 2 4  w a 14 6 2 4 8  9 6 2 3 1a d  2 ba 7  6   2a m 2 7  2  2 3e 6 3   2  7   20 2 3    9n 2 f0b 5 1n 7 t4  1r 4 29  f5k 2 43q   3 4 5 8 8 2 7 u 4 44 3 1iz 1j 4 1e 8  e  m 5  f 11s 7  h 2 7  2  5 79 7 c5 4 15s 7 31 7 240 5 gx7k 2o 3k 6o".split(" ").map(function(F){return F?
parseInt(F,36):1});for(na=1;na<z.length;na++)z[na]+=z[na-1];var x=8205,y=function(){function F(){Fa(this,F)}ra(F,[{key:"lineAt",value:function(A){if(0>A||A>this.length)throw new RangeError("Invalid position ".concat(A," in document of length ").concat(this.length));var E=!0,O=!1,U=void 0;try{for(var ca=M[Symbol.iterator](),ka;!(E=(ka=ca.next()).done);E=!0){var xa=ka.value;if(xa.doc==this&&xa.from<=A&&xa.to>=A)return xa}}catch(Ga){O=!0,U=Ga}finally{try{if(!E&&null!=ca["return"])ca["return"]()}finally{if(O)throw U;
}}return aa(this.lineInner(A,!1,1,0).finish(this))}},{key:"line",value:function(A){if(1>A||A>this.lines)throw new RangeError("Invalid line number ".concat(A," in ").concat(this.lines,"-line document"));var E=!0,O=!1,U=void 0;try{for(var ca=M[Symbol.iterator](),ka;!(E=(ka=ca.next()).done);E=!0){var xa=ka.value;if(xa.doc==this&&xa.number==A)return xa}}catch(Ga){O=!0,U=Ga}finally{try{if(!E&&null!=ca["return"])ca["return"]()}finally{if(O)throw U;}}return aa(this.lineInner(A,!0,1,0).finish(this))}},{key:"replace",
value:function(A,E,O){var U=[];this.decompose(0,A,U);U.push(O);this.decompose(E,this.length,U);return t.from(U,this.length-(E-A)+O.length)}},{key:"append",value:function(A){return 0==this.length?A:0==A.length?this:t.from([this,A],this.length+A.length)}},{key:"slice",value:function(A){var E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,O=[];this.decompose(A,E,O);return t.from(O,E-A)}},{key:"eq",value:function(A){return this==A||H(this,A)}},{key:"iter",value:function(){return new k(this,
0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)}},{key:"iterRange",value:function(A){return new h(this,A,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length)}},{key:"iterLines",value:function(){return new l(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){for(var A=[],E=this.iterLines();!E.next().done;)A.push(E.value);return A}}],[{key:"of",value:function(A){if(0==
A.length)throw new RangeError("A document must have at least one line");if(1==A.length&&!A[0]&&F.empty)return F.empty;var E=da(A);return 1024>E?new r(A,E):t.from(r.split(A,[]),E)}}]);return F}();D.Text=y;"undefined"!=typeof Symbol&&(y.prototype[Symbol.iterator]=function(){return this.iter()});var M=[],Q=-1,G=10,r=function(F){function A(E){var O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:da(E);Fa(this,A);var U=Ka(this,Ra(A).call(this));U.text=E;U.length=O;return U}wa(A,F);ra(A,[{key:"lineInner",
value:function(E,O,U,ca){for(var ka=0;;ka++){var xa=this.text[ka],Ga=ca+xa.length;if((O?U:Ga)>=E)return new u(ca,Ga,U,xa);ca=Ga+1;U++}}},{key:"decompose",value:function(E,O,U){U.push(new A(T(this.text,[""],E,O),Math.min(O,this.length)-Math.max(0,E)))}},{key:"lastLineLength",value:function(){return this.text[this.text.length-1].length}},{key:"firstLineLength",value:function(){return this.text[0].length}},{key:"replace",value:function(E,O,U){var ca=this.length+U.length-(O-E);return 1024<=ca||!(U instanceof
A)?Ca(Ra(A.prototype),"replace",this).call(this,E,O,U):new A(T(this.text,T(U.text,T(this.text,[""],0,E)),O),ca)}},{key:"sliceString",value:function(E){for(var O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,U=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"\n",ca="",ka=0,xa=0;ka<=O&&xa<this.text.length;xa++){var Ga=this.text[xa],Ta=ka+Ga.length;ka>E&&xa&&(ca+=U);E<Ta&&O>ka&&(ca+=Ga.slice(Math.max(0,E-ka),O-ka));ka=Ta+1}return ca}},{key:"flatten",value:function(E){E[E.length-
1]+=this.text[0];for(var O=1;O<this.text.length;O++)E.push(this.text[O])}},{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}}],[{key:"split",value:function(E,O){var U=[],ca=-1,ka=!0,xa=!1,Ga=void 0;try{for(var Ta=E[Symbol.iterator](),fb;!(ka=(fb=Ta.next()).done);ka=!0)for(var db=fb.value;;){var ub=ca+db.length+1;if(512>ub){ca=ub;U.push(db);break}E=512-ca-1;var nb=db.charCodeAt(E);56320<=nb&&57344>nb&&E++;U.push(db.slice(0,E));O.push(new A(U,512));db=
db.slice(E);ca=-1;U=[]}}catch(wb){xa=!0,Ga=wb}finally{try{if(!ka&&null!=Ta["return"])Ta["return"]()}finally{if(xa)throw Ga;}}-1!=ca&&O.push(new A(U,ca));return O}}]);return A}(y),t=function(F){function A(E,O){Fa(this,A);var U=Ka(this,Ra(A).call(this));U.children=E;U.length=O;U.lines=1;O=!0;var ca=!1,ka=void 0;try{for(var xa=E[Symbol.iterator](),Ga;!(O=(Ga=xa.next()).done);O=!0)U.lines+=Ga.value.lines-1}catch(Ta){ca=!0,ka=Ta}finally{try{if(!O&&null!=xa["return"])xa["return"]()}finally{if(ca)throw ka;
}}return U}wa(A,F);ra(A,[{key:"lineInner",value:function(E,O,U,ca){for(var ka=0;;ka++){var xa=this.children[ka],Ga=ca+xa.length,Ta=U+xa.lines-1;if((O?Ta:Ga)>=E)return E=xa.lineInner(E,O,U,ca),O=void 0,E.from==ca&&(O=this.lineLengthTo(ka))&&(E.from-=O,E.content=null),E.to==Ga&&(O=this.lineLengthFrom(ka+1))&&(E.to+=O,E.content=null),E;ca=Ga;U=Ta}}},{key:"decompose",value:function(E,O,U){for(var ca=0,ka=0;ka<O&&ca<this.children.length;ca++){var xa=this.children[ca],Ga=ka+xa.length;E<Ga&&O>ka&&(ka>=E&&
Ga<=O?U.push(xa):xa.decompose(E-ka,O-ka,U));ka=Ga}}},{key:"lineLengthTo",value:function(E){var O=0;for(--E;0<=E;E--){var U=this.children[E];if(1<U.lines)return O+U.lastLineLength();O+=U.length}return O}},{key:"lastLineLength",value:function(){return this.lineLengthTo(this.children.length)}},{key:"lineLengthFrom",value:function(E){for(var O=0;E<this.children.length;E++){var U=this.children[E];if(1<U.lines)return O+U.firstLineLength();O+=U.length}return O}},{key:"firstLineLength",value:function(){return this.lineLengthFrom(0)}},
{key:"replace",value:function(E,O,U){if(512>U.length&&512>O-E)for(var ca=U.length-(O-E),ka=0,xa=0;ka<this.children.length;ka++){var Ga=this.children[ka],Ta=xa+Ga.length;if(E>=xa&&O<=Ta&&Ga.length+ca<this.length+ca>>2&&0<Ga.length+ca)return Ta=this.children.slice(),Ta[ka]=Ga.replace(E-xa,O-xa,U),new A(Ta,this.length+ca);xa=Ta}return Ca(Ra(A.prototype),"replace",this).call(this,E,O,U)}},{key:"sliceString",value:function(E){for(var O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,
U=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"\n",ca="",ka=0,xa=0;xa<O&&ka<this.children.length;ka++){var Ga=this.children[ka],Ta=xa+Ga.length;if(E<Ta&&O>xa){Ga=Ga.sliceString(E-xa,O-xa,U);if(E>=xa&&O<=Ta)return Ga;ca+=Ga}xa=Ta}return ca}},{key:"flatten",value:function(E){var O=!0,U=!1,ca=void 0;try{for(var ka=this.children[Symbol.iterator](),xa;!(O=(xa=ka.next()).done);O=!0)xa.value.flatten(E)}catch(Ga){U=!0,ca=Ga}finally{try{if(!O&&null!=ka["return"])ka["return"]()}finally{if(U)throw ca;
}}}}],[{key:"from",value:function(E,O){function U(ob){var pb=ob.length;if(pb)if(pb>nb&&ob instanceof A){pb=!0;var qb=!1;var Bb=void 0;try{for(var dc=ob.children[Symbol.iterator](),Cb;!(pb=(Cb=dc.next()).done);pb=!0)U(Cb.value)}catch(lc){qb=!0,Bb=lc}finally{try{if(!pb&&null!=dc["return"])dc["return"]()}finally{if(qb)throw Bb;}}}else pb>wb&&(Db>wb||0==Db)?(ca(),Gb.push(ob)):ob instanceof r&&0<Db&&(qb=xb[xb.length-1])instanceof r&&512>=ob.length+qb.length?(Db+=pb,xb[xb.length-1]=new r(T(ob.text,qb.text.slice()),
ob.length+qb.length)):(Db+pb>ub&&ca(),Db+=pb,xb.push(ob))}function ca(){0!=Db&&(Gb.push(1==xb.length?xb[0]:A.from(xb,Db)),Db=0,xb.length=0)}if(!E.every(function(ob){return ob instanceof y}))throw Error("NOP");if(1024>O){var ka=[""],xa=!0,Ga=!1,Ta=void 0;try{for(var fb=E[Symbol.iterator](),db;!(xa=(db=fb.next()).done);xa=!0)db.value.flatten(ka)}catch(ob){Ga=!0,Ta=ob}finally{try{if(!xa&&null!=fb["return"])fb["return"]()}finally{if(Ga)throw Ta;}}return new r(ka,O)}var ub=Math.max(512,O>>3),nb=ub<<1,
wb=ub>>1,Gb=[],Db=0,xb=[];fb=!0;db=!1;Ga=void 0;try{for(ka=E[Symbol.iterator]();!(fb=(xa=ka.next()).done);fb=!0)U(xa.value)}catch(ob){db=!0,Ga=ob}finally{try{if(!fb&&null!=ka["return"])ka["return"]()}finally{if(db)throw Ga;}}ca();return 1==Gb.length?Gb[0]:new A(Gb,O)}}]);return A}(y);y.empty=y.of([""]);var k=function(){function F(A){var E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;Fa(this,F);this.dir=E;this.lineBreak=this.done=!1;this.value="";this.nodes=[A];this.offsets=[0<E?0:A instanceof
r?A.text.length:A.children.length]}ra(F,[{key:"next",value:function(){for(var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;;){var E=this.nodes.length-1;if(0>E)return this.done=!0,this.value="",this.lineBreak=!1,this;var O=this.nodes[E],U=this.offsets[E];if(O instanceof r)if(U==(0<this.dir?0:O.text.length)||this.lineBreak){var ca=O.text[U-(0>this.dir?1:0)];this.offsets[E]=U+=this.dir;U==(0<this.dir?O.text.length:0)&&(this.nodes.pop(),this.offsets.pop());this.lineBreak=!1;if(ca.length>
Math.max(0,A))return this.value=0==A?ca:0<this.dir?ca.slice(A):ca.slice(0,ca.length-A),this;A-=ca.length}else{this.lineBreak=!0;if(0==A)return this.value="\n",this;A--}else U==(0<this.dir?O.children.length:0)?(this.nodes.pop(),this.offsets.pop()):(O=O.children[0<this.dir?U:U-1],ca=O.length,this.offsets[E]=U+this.dir,A>ca?A-=ca:(this.nodes.push(O),this.offsets.push(0<this.dir?0:O instanceof r?O.text.length:O.children.length)))}}}]);return F}(),h=function(){function F(A,E,O){Fa(this,F);this.value="";
this.cursor=new k(A,E>O?-1:1);E>O?(this.skip=A.length-E,this.limit=E-O):(this.skip=E,this.limit=O-E)}ra(F,[{key:"next",value:function(){if(0>=this.limit)this.limit=-1;else{var A=this.cursor.next(this.skip),E=A.value,O=A.lineBreak;A=A.done;this.skip=0;this.value=E;O=O?1:E.length;O>this.limit&&(this.value=0<this.cursor.dir?E.slice(0,this.limit):E.slice(O-this.limit));this.limit=A||0==this.value.length?-1:this.limit-this.value.length}return this}},{key:"lineBreak",get:function(){return this.cursor.lineBreak}},
{key:"done",get:function(){return 0>this.limit}}]);return F}(),l=function(){function F(A){var E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Fa(this,F);this.value="";this.done=!1;this.cursor=A.iter();this.skip=E}ra(F,[{key:"next",value:function(){if(this.cursor.done)return this.done=!0,this.value="",this;for(this.value="";;){var A=this.cursor.next(this.skip),E=A.value,O=A.lineBreak;A=A.done;this.skip=0;if(A||O)return this;this.value+=E}}},{key:"lineBreak",get:function(){return!1}}]);return F}(),
u=function(){function F(A,E,O,U){Fa(this,F);this.from=A;this.to=E;this.number=O;this.content=U}ra(F,[{key:"slice",value:function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if(A==E)return"";if("string"==typeof this.content)return this.content.slice(A,E);this.content||(this.content=new J(this.doc,this.from));var O=this.content.slice(A,E);0==A&&E==this.length&&(this.content=O);return O}},{key:"finish",value:function(A){this.doc=
A;return this}},{key:"findClusterBreak",value:function(A,E){if(0>A||A>this.length)throw new RangeError("Invalid position given to Line.findClusterBreak");if("string"==this.content){var O=this.from;var U=this.content}else O=Math.max(0,A-256),U=this.slice(O,Math.min(this.length,O+512));return(E?ja:Ia)(U,A-O)+O}},{key:"length",get:function(){return this.to-this.from}}]);return F}();D.Line=u;var J=function(){function F(A,E){Fa(this,F);this.doc=A;this.start=E;this.strings=this.cursor=null}ra(F,[{key:"slice",
value:function(A,E){this.cursor||(this.cursor=this.doc.iter(),this.strings=[this.cursor.next(this.start).value]);for(var O="",U=0,ca=0;;ca++){if(ca==this.strings.length){var ka=this.cursor.next().value;if(!ka)return O;this.strings.push(ka)}ka=this.strings[ca];var xa=U;U+=ka.length;if(!(U<=A)&&(O+=ka.slice(Math.max(0,A-xa),Math.min(ka.length,E-xa)),U>=E))return O}}}]);return F}()};
shadow$provide[1]=function(na,Pa,lb,D){function Ja(T){function H(l,u,J,F,A){for(var E=k.id,O=k.start,U=k.end,ca=k.size;E==A;)k.next(),E=k.id,O=k.start,U=k.end,ca=k.size;var ka=O-l;if(0>ca)J.push(r[E]),F.push(ka),k.next();else{var xa=h[E],Ga;if(Ga=U-O<=G){var Ta=k.pos-u;u=k.fork();var fb=Ga=0,db=0,ub=u.end-G,nb={size:0,start:0,skip:0},wb=u.pos-Ta;a:for(;u.pos>wb;)if(u.id==A)nb.size=Ga,nb.start=fb,nb.skip=db,db+=4,Ga+=4,u.next();else{var Gb=u.size,Db=u.pos-Gb;if(0>Gb||Db<wb||u.start<ub)break;var xb=
u.id>=t?4:0,ob=u.start;for(u.next();u.pos>Db;){if(0>u.size)break a;u.id>=t&&(xb+=4);u.next()}fb=ob;Ga+=Gb;db+=xb}if(0>A||Ga==Ta)nb.size=Ga,nb.start=fb,nb.skip=db;Ga=Ta=4<nb.size?nb:void 0}if(Ga){ka=new Uint16Array(Ta.size-Ta.skip);ca=k.pos-Ta.size;for(O=ka.length;k.pos>ca;)O=z(Ta.start,ka,O,A);U=new Ia(ka,U-Ta.start,y,0>A?Ma.none:h[A]);ka=Ta.start-l}else{ca=k.pos-ca;k.next();l=[];A=[];for(E=E>=t?E:-1;k.pos>ca;)H(O,ca,l,A,E);l.reverse();A.reverse();U=-1<E&&l.length>da?Ka(xa,xa,l,A,0,l.length,0,G,U-
O):new ra(xa,l,A,U-O)}J.push(U);F.push(ka)}}function z(l,u,J,F){var A=k.id,E=k.start,O=k.end,U=k.size;k.next();if(A==F)return J;var ca=J;if(4<U)for(U=k.pos-(U-4);k.pos>U;)J=z(l,u,J,F);A<t&&(u[--J]=ca,u[--J]=O-l,u[--J]=E-l,u[--J]=A);return J}var x=T.buffer,y=T.group,M=T.topID;M=void 0===M?0:M;var Q=T.maxBufferLength,G=void 0===Q?D.DefaultBufferLength:Q;Q=T.reused;var r=void 0===Q?[]:Q;T=T.minRepeatType;var t=void 0===T?y.types.length:T,k=Array.isArray(x)?new aa(x,x.length):x,h=y.types;x=[];for(T=[];0<
k.pos;)H(0,0,x,T,-1);Q=x.length?T[0]+x[0].length:0;return new ra(y.types[M],x.reverse(),T.reverse(),Q)}function Ka(T,H,z,x,y,M,Q,G,r){var t=[],k=[];if(r<=G)for(;y<M;y++)t.push(z[y]),k.push(x[y]-Q);else for(var h=Math.max(G,Math.ceil(1.5*r/da));y<M;){var l=y,u=x[y];for(y++;y<M&&!(x[y]+z[y].length-u>h);y++);if(y==l+1){l=z[l];if(l instanceof ra&&l.type==H&&l.length>h<<1){for(var J=0;J<l.children.length;J++)t.push(l.children[J]),k.push(l.positions[J]+u-Q);continue}t.push(l)}else if(y==l+1)t.push(z[l]);
else{l=Ka(H,H,z,x,l,y,u,G,x[y-1]+z[y-1].length-u);if(J=H!=Ma.none){a:{J=0;for(var F=l.children;J<F.length;J++)if(F[J].type==H){J=!0;break a}J=!1}J=!J}J&&(l=new ra(Ma.none,l.children,l.positions,l.length));t.push(l)}k.push(u-Q)}return new ra(T,t,k,r)}var Ca=this&&this.__extends||function(){var T=function(H,z){T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var M in y)y.hasOwnProperty(M)&&(x[M]=y[M])};return T(H,z)};return function(H,z){function x(){this.constructor=
H}T(H,z);H.prototype=null===z?Object.create(z):(x.prototype=z.prototype,new x)}}();Object.defineProperty(D,"__esModule",{value:!0});D.DefaultBufferLength=1024;var Ra=function(){function T(H,z){this.enter=H;this.leave=z;this.result=void 0}Object.defineProperty(T.prototype,"done",{get:function(){return void 0!==this.result},enumerable:!0,configurable:!0});T.prototype.doEnter=function(H,z,x){H=this.enter(H,z,x);if(void 0===H)return!0;!1!==H&&(this.result=H);return!1};return T}(),wa=0,za=function(){function T(H){H=
(void 0===H?{}:H).deserialize;this.id=wa++;this.deserialize=H||function(){throw Error("This node type doesn't define a deserialize function");}}T.string=function(){return new T({deserialize:function(H){return H}})};T.number=function(){return new T({deserialize:Number})};T.flag=function(){return new T({deserialize:function(){return!0}})};T.prototype.set=function(H,z){H[this.id]=z;return H};T.prototype.add=function(H){return new Fa(this,"function"==typeof H?H:Ma.match(H))};T.error=T.flag();T.skipped=
T.flag();T.closedBy=new T({deserialize:function(H){return H.split(" ")}});T.openedBy=new T({deserialize:function(H){return H.split(" ")}});T.top=T.flag();return T}();D.NodeProp=za;var Fa=function(){return function(T,H){this.prop=T;this.f=H}}();D.NodePropSource=Fa;var Ma=function(){function T(H,z,x){this.name=H;this.props=z;this.id=x}T.prototype.prop=function(H){return this.props[H.id]};T.match=function(H){var z=Object.create(null),x;for(x in H)for(var y=0,M=x.split(" ");y<M.length;y++)z[M[y]]=H[x];
return function(Q){return z[Q.name]}};T.none=new T("",Object.create(null),0);return T}();D.NodeType=Ma;na=function(){function T(H){this.types=H;for(var z=0;z<H.length;z++)if(H[z].id!=z)throw new RangeError("Node type ids should correspond to array positions when creating a node group");}T.prototype.extend=function(){for(var H=[],z=0;z<arguments.length;z++)H[z]=arguments[z];z=[];for(var x=0,y=this.types;x<y.length;x++){for(var M=y[x],Q=null,G=0,r=H;G<r.length;G++){var t=r[G],k=t.f(M);if(void 0!==k){if(!Q){Q=
Object.create(null);for(var h in M.props)Q[h]=M.props[h]}Q[t.prop.id]=k}}z.push(Q?new Ma(M.name,Q,M.id):M)}return new T(z)};return T}();D.NodeGroup=na;na=function(){function T(){}Object.defineProperty(T.prototype,"name",{get:function(){return this.type.name},enumerable:!0,configurable:!0});Object.defineProperty(T.prototype,"depth",{get:function(){for(var H=0,z=this.parent;z;z=z.parent)H++;return H},enumerable:!0,configurable:!0});Object.defineProperty(T.prototype,"root",{get:function(){for(var H=
this;H.parent;)H=H.parent;return H},enumerable:!0,configurable:!0});T.prototype.resolve=function(H,z){void 0===z&&(z=0);var x=this.resolveAt(H);if(0!=z)for(;;){var y=0>z?x.childBefore(H):x.childAfter(H);if(!y||(0>z?y.end:y.start)!=H)break;x=y}return x};Object.defineProperty(T.prototype,"firstChild",{get:function(){return this.childAfter(this.start-1)},enumerable:!0,configurable:!0});Object.defineProperty(T.prototype,"lastChild",{get:function(){return this.childBefore(this.end+1)},enumerable:!0,configurable:!0});
return T}();D.Subtree=na;var ra=function(T){function H(z,x,y,M){var Q=T.call(this)||this;Q.type=z;Q.children=x;Q.positions=y;Q.length=M;return Q}Ca(H,T);Object.defineProperty(H.prototype,"start",{get:function(){return 0},enumerable:!0,configurable:!0});Object.defineProperty(H.prototype,"end",{get:function(){return this.length},enumerable:!0,configurable:!0});H.prototype.toString=function(){var z=this.children.map(function(x){return x.toString()}).join();return this.name?(/\W/.test(this.name)&&!this.type.prop(za.error)?
JSON.stringify(this.name):this.name)+(z.length?"("+z+")":""):z};H.prototype.partial=function(z,x,y,M,Q){for(var G=0;G<this.children.length;G++){var r=this.positions[G];if(r>x)break;var t=this.children[G],k=r+t.length;k<z||(z<=r&&x>=k?(M.push(t),Q.push(r+y)):t instanceof H&&t.partial(z-r,x-r,y+r,M,Q))}};H.prototype.applyChanges=function(z){function x(h,l,u){var J=-1;h.iterate({from:l,to:0>u?0:h.length,enter:function(){return 0>J?void 0:!1},leave:function(F,A,E){0>J&&(0>u?E<=l:A>=l)&&!F.prop(za.error)&&
(J=0>u?Math.min(l,E-1):Math.max(l,A+1))}});return-1<J?J:0>u?0:h.length}if(0==z.length)return this;for(var y=[],M=[],Q=0,G=0,r=0;;G++){var t=G==z.length?null:z[G],k=t?x(this,t.fromA,-1):this.length;k>r&&this.partial(r,k,Q,y,M);if(!t)break;r=x(this,t.toA,1);Q+=t.toB-t.fromB-(t.toA-t.fromA)}return new H(Ma.none,y,M,this.length+Q)};H.prototype.cut=function(z){if(z>=this.length)return this;for(var x=[],y=[],M=0;M<this.children.length;M++){var Q=this.positions[M];if(Q>=z)break;var G=this.children[M];x.push(Q+
G.length<=z?G:G.cut(z-Q));y.push(Q)}return new H(this.type,x,y,z)};H.prototype.iterate=function(z){var x=z.from;x=void 0===x?this.start:x;var y=z.to;y=void 0===y?this.end:y;z=new Ra(z.enter,z.leave);this.iterInner(x,y,0,z);return z.result};H.prototype.iterInner=function(z,x,y,M){if(!this.type.name||M.doEnter(this.type,y,y+this.length)){if(z<=x)for(var Q=0;Q<this.children.length&&!M.done;Q++){var G=this.children[Q],r=this.positions[Q]+y,t=r+G.length;if(r>x)break;t<z||G.iterInner(z,x,r,M)}else for(Q=
this.children.length-1;0<=Q&&!M.done;Q--){G=this.children[Q];r=this.positions[Q]+y;t=r+G.length;if(t<x)break;r>z||G.iterInner(z,x,r,M)}M.leave&&this.type.name&&M.leave(this.type,y,y+this.length)}};H.prototype.resolveAt=function(z){if(Ea==this)for(var x=ja;;){var y=x.parent;if(!y)break;if(x.start<z&&x.end>z)return x.resolve(z);x=y}Ea=this;return ja=this.resolveInner(z,0,this)};H.prototype.childBefore=function(z){return this.findChild(z,-1,0,this)};H.prototype.childAfter=function(z){return this.findChild(z,
1,0,this)};H.prototype.findChild=function(z,x,y,M){for(var Q=0;Q<this.children.length;Q++){var G=this.positions[Q]+y,r=-1;if(G>=z)if(0>x&&0<Q)r=Q-1;else if(0<x)r=Q;else break;0>r&&(G+this.children[Q].length>z||0>x&&Q==this.children.length-1)&&(r=Q);if(0<=r&&(G=this.children[r],r=this.positions[r]+y,0!=G.length||r!=z)){if(G instanceof H)return G.type.name?new Da(G,r,M):G.findChild(z,x,r,M);var t=G.findIndex(z,x,r,0,G.buffer.length);if(-1<t)return new ha(G,r,t,M)}}return null};H.prototype.resolveInner=
function(z,x,y){return(x=this.findChild(z,0,x,y))?x.resolveAt(z):y};H.prototype.append=function(z){if(z.children.length&&z.positions[0]<this.length)throw Error("Can't append overlapping trees");return new H(this.type,this.children.concat(z.children),this.positions.concat(z.positions),z.length)};H.prototype.balance=function(z){void 0===z&&(z=D.DefaultBufferLength);return this.children.length<=da?this:Ka(this.type,Ma.none,this.children,this.positions,0,this.children.length,0,z,this.length)};H.build=
function(z){return Ja(z)};H.empty=new H(Ma.none,[],[],0);return H}(na);D.Tree=ra;ra.prototype.parent=null;var Ea=ra.empty,ja=ra.empty,Ia=function(){function T(H,z,x,y){void 0===y&&(y=Ma.none);this.buffer=H;this.length=z;this.group=x;this.type=y}T.prototype.toString=function(){for(var H=[],z=0;z<this.buffer.length;)z=this.childToString(z,H);return H.join(",")};T.prototype.childToString=function(H,z){var x=this.buffer[H+3],y=this.group.types[this.buffer[H]],M=y.name;/\W/.test(M)&&!y.prop(za.error)&&
(M=JSON.stringify(M));H+=4;if(x>H){for(y=[];H<x;)H=this.childToString(H,y);M+="("+y.join(",")+")"}z.push(M);return H};T.prototype.cut=function(H){for(var z=0;z<this.buffer.length&&this.buffer[z+1]<H;)z+=4;for(var x=new Uint16Array(z),y=0;y<z;y+=4)x[y]=this.buffer[y],x[y+1]=this.buffer[y+1],x[y+2]=Math.min(H,this.buffer[y+2]),x[y+3]=Math.min(this.buffer[y+3],z);return new T(x,Math.min(H,this.length),this.group)};T.prototype.iterate=function(H){var z=H.from;z=void 0===z?0:z;var x=H.to;x=void 0===x?
this.length:x;H=new Ra(H.enter,H.leave);this.iterInner(z,x,0,H);return H.result};T.prototype.iterInner=function(H,z,x,y){if(H<=z)for(var M=0;M<this.buffer.length;)M=this.iterChild(H,z,x,M,y);else this.iterRev(H,z,x,0,this.buffer.length,y)};T.prototype.iterChild=function(H,z,x,y,M){var Q=this.group.types[this.buffer[y++]],G=this.buffer[y++]+x,r=this.buffer[y++]+x,t=this.buffer[y++];if(G>z)return this.buffer.length;if(r>=H&&M.doEnter(Q,G,r)){for(;y<t&&!M.done;)y=this.iterChild(H,z,x,y,M);M.leave&&M.leave(Q,
G,r)}return t};T.prototype.parentNodesByEnd=function(H,z){for(var x=this,y=[],M=function(Q){var G=x.buffer[Q+3];if(G==Q+4)return G;for(var r=Q+4;r<G;)r=M(r);y.push(Q);return G};H<z;)H=M(H);return y};T.prototype.iterRev=function(H,z,x,y,M,Q){var G=this,r=this.parentNodesByEnd(y,M),t=-1,k=-1,h=function(){0<r.length?(t=r.pop(),k=G.buffer[t+3]):k=-1};h();a:for(;M>y&&!Q.done;){for(;k==M;){var l=t,u=this.buffer[l],J=this.buffer[l+1]+x,F=this.buffer[l+2]+x;h();if(J<=H&&F>=z&&!Q.doEnter(this.group.types[u],
J,F)){for(M=l;k>l;)h();continue a}}l=this.buffer[--M];u=this.buffer[--M]+x;J=this.buffer[--M]+x;F=this.buffer[--M];J>H||u<z||(l!=M+4||Q.doEnter(this.group.types[F],J,u))&&Q.leave&&Q.leave(this.group.types[F],J,u)}};T.prototype.findIndex=function(H,z,x,y,M){for(var Q=-1,G=this.buffer;y<M;){var r=G[y+1]+x,t=G[y+2]+x,k=r==t&&r==H;if(r>=H){if(0<z&&!k)return y;break}if(t>H)return y;k||(Q=y);y=G[y+3]}return 0>z?Q:-1};return T}();D.TreeBuffer=Ia;var Da=function(T){function H(z,x,y){var M=T.call(this)||this;
M.node=z;M.start=x;M.parent=y;return M}Ca(H,T);Object.defineProperty(H.prototype,"type",{get:function(){return this.node.type},enumerable:!0,configurable:!0});Object.defineProperty(H.prototype,"end",{get:function(){return this.start+this.node.length},enumerable:!0,configurable:!0});H.prototype.resolveAt=function(z){return z<=this.start||z>=this.end?this.parent.resolveAt(z):this.node.resolveInner(z,this.start,this)};H.prototype.childBefore=function(z){return this.node.findChild(z,-1,this.start,this)};
H.prototype.childAfter=function(z){return this.node.findChild(z,1,this.start,this)};H.prototype.toString=function(){return this.node.toString()};H.prototype.iterate=function(z){var x=z.from;x=void 0===x?this.start:x;var y=z.to;y=void 0===y?this.end:y;z=new Ra(z.enter,z.leave);this.node.iterInner(x,y,this.start,z);return z.result};return H}(na),ha=function(T){function H(z,x,y,M){var Q=T.call(this)||this;Q.buffer=z;Q.bufferStart=x;Q.index=y;Q.parent=M;return Q}Ca(H,T);Object.defineProperty(H.prototype,
"type",{get:function(){return this.buffer.group.types[this.buffer.buffer[this.index]]},enumerable:!0,configurable:!0});Object.defineProperty(H.prototype,"start",{get:function(){return this.buffer.buffer[this.index+1]+this.bufferStart},enumerable:!0,configurable:!0});Object.defineProperty(H.prototype,"end",{get:function(){return this.buffer.buffer[this.index+2]+this.bufferStart},enumerable:!0,configurable:!0});Object.defineProperty(H.prototype,"endIndex",{get:function(){return this.buffer.buffer[this.index+
3]},enumerable:!0,configurable:!0});H.prototype.childBefore=function(z){z=this.buffer.findIndex(z,-1,this.bufferStart,this.index+4,this.endIndex);return 0>z?null:new H(this.buffer,this.bufferStart,z,this)};H.prototype.childAfter=function(z){z=this.buffer.findIndex(z,1,this.bufferStart,this.index+4,this.endIndex);return 0>z?null:new H(this.buffer,this.bufferStart,z,this)};H.prototype.iterate=function(z){var x=z.from;x=void 0===x?this.start:x;var y=z.to;y=void 0===y?this.end:y;z=new Ra(z.enter,z.leave);
x<=y?this.buffer.iterChild(x,y,this.bufferStart,this.index,z):this.buffer.iterRev(x,y,this.bufferStart,this.index,this.endIndex,z);return z.result};H.prototype.resolveAt=function(z){if(z<=this.start||z>=this.end)return this.parent.resolveAt(z);var x=this.buffer.findIndex(z,0,this.bufferStart,this.index+4,this.endIndex);return 0>x?this:(new H(this.buffer,this.bufferStart,x,this)).resolveAt(z)};H.prototype.toString=function(){var z=[];this.buffer.childToString(this.index,z);return z.join("")};return H}(na),
aa=function(){function T(H,z){this.buffer=H;this.index=z}Object.defineProperty(T.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0});Object.defineProperty(T.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0});Object.defineProperty(T.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0});Object.defineProperty(T.prototype,"size",{get:function(){return this.buffer[this.index-
1]},enumerable:!0,configurable:!0});Object.defineProperty(T.prototype,"pos",{get:function(){return this.index},enumerable:!0,configurable:!0});T.prototype.next=function(){this.index-=4};T.prototype.fork=function(){return new T(this.buffer,this.index)};return T}(),da=8};
shadow$provide[2]=function(na,Pa,lb,D){function Ja(Z){Ja="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"===typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L};return Ja(Z)}function Ka(Z){Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)};return Ka(Z)}function Ca(Z,L){if("function"!==typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");
Z.prototype=Object.create(L&&L.prototype,{constructor:{value:Z,writable:!0,configurable:!0}});L&&Ra(Z,L)}function Ra(Z,L){Ra=Object.setPrototypeOf||function(K,C){K.__proto__=C;return K};return Ra(Z,L)}function wa(Z,L){if(!(Z instanceof L))throw new TypeError("Cannot call a class as a function");}function za(Z,L){for(var K=0;K<L.length;K++){var C=L[K];C.enumerable=C.enumerable||!1;C.configurable=!0;"value"in C&&(C.writable=!0);Object.defineProperty(Z,C.key,C)}}function Fa(Z,L,K){L&&za(Z.prototype,
L);K&&za(Z,K);return Z}function Ma(Z,L,K){var C=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;if(!(0==L&&0>=K)){var S=Z.length-2;0<=S&&0>=K&&K==Z[S+1]?Z[S]+=L:0==L&&0==Z[S]?Z[S+1]+=K:C?(Z[S]+=L,Z[S+1]+=K):Z.push(L,K)}}function ra(Z,L,K){if(0!=K.length)if(L=L.length-2>>1,L<Z.length)Z[Z.length-1]=Z[Z.length-1].append(K);else{for(;Z.length<L;)Z.push(k.Text.empty);Z.push(K)}}function Ea(Z,L,K){for(var C=Z.inserted,S=0,W=0,ea=0;ea<Z.sections.length;){var ia=Z.sections[ea++],Aa=Z.sections[ea++];
if(0>Aa)S+=ia,W+=ia;else{for(var Ba=S,Ha=W,ya=k.Text.empty;;){Ba+=ia;Ha+=Aa;Aa&&C&&(ya=ya.append(C[ea-2>>1]));if(K||ea==Z.sections.length||0>Z.sections[ea+1])break;ia=Z.sections[ea++];Aa=Z.sections[ea++]}L(S,Ba,W,Ha,ya);S=Ba;W=Ha}}}function ja(Z,L,K){for(var C=[],S=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?[]:null,W=new A(Z),ea=new A(L),ia=0,Aa=0;;)if(-1==W.ins)ia+=W.len,W.next();else if(-1==ea.ins&&Aa<ia){var Ba=Math.min(ea.len,ia-Aa);ea.forward(Ba);Ma(C,Ba,-1);Aa+=Ba}else if(0<=ea.ins&&
(W.done||Aa<ia||Aa==ia&&(ea.len<W.len||ea.len==W.len&&!K))){for(Ma(C,ea.ins,-1);ia>Aa&&!W.done&&ia+W.len<Aa+ea.len;)ia+=W.len,W.next();Aa+=ea.len;ea.next()}else if(0<=W.ins){Ba=0;for(var Ha=ia+W.len;;)if(0<=ea.ins&&Aa>ia&&Aa+ea.len<Ha)Ba+=ea.ins,Aa+=ea.len,ea.next();else if(-1==ea.ins&&Aa<Ha){var ya=Math.min(ea.len,Ha-Aa);Ba+=ya;ea.forward(ya);Aa+=ya}else break;Ma(C,Ba,W.ins);S&&ra(S,C,W.text);ia=Ha;W.next()}else{if(W.done&&ea.done)return S?new F(C,S):new J(C);throw Error("Mismatched change set lengths");
}}function Ia(Z,L){for(var K=[],C=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?[]:null,S=new A(Z),W=new A(L),ea=!1;;){if(S.done&&W.done)return C?new F(K,C):new J(K);if(0==S.ins)Ma(K,S.len,0,ea),S.next();else if(0!=W.len||W.done){if(S.done||W.done)throw Error("Mismatched change set lengths");var ia=Math.min(S.len2,W.len),Aa=K.length;if(-1==S.ins){var Ba=-1==W.ins?-1:W.off?0:W.ins;Ma(K,ia,Ba,ea);C&&Ba&&ra(C,K,W.text)}else-1==W.ins?(Ma(K,S.off?0:S.len,ia,ea),C&&ra(C,K,S.textBit(ia))):(Ma(K,
S.off?0:S.len,W.off?0:W.ins,ea),C&&!W.off&&ra(C,K,W.text));ea=(S.ins>ia||0<=W.ins&&W.len>ia)&&(ea||K.length>Aa);S.forward2(ia);W.forward(ia)}else Ma(K,0,W.ins,ea),C&&ra(C,K,W.text),W.next()}}function Da(Z){var L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;L=Z[L];Z.sort(function(ea,ia){return ea.from-ia.from});L=Z.indexOf(L);for(var K=1;K<Z.length;K++){var C=Z[K],S=Z[K-1];if(C.empty?C.from<=S.to:C.from<S.to){var W=S.from;S=Math.max(C.to,S.to);K<=L&&L--;Z.splice(--K,2,C.anchor>C.head?O.range(S,
W):O.range(W,S))}}return new O(Z,L)}function ha(Z,L){var K=!0,C=!1,S=void 0;try{for(var W=Z.ranges[Symbol.iterator](),ea;!(K=(ea=W.next()).done);K=!0)if(ea.value.to>L)throw new RangeError("Selection points outside of document");}catch(ia){C=!0,S=ia}finally{try{if(!K&&null!=W["return"])W["return"]()}finally{if(C)throw S;}}}function aa(Z,L){return Z==L||Z.length==L.length&&Z.every(function(K,C){return K===L[C]})}function da(Z,L,K){if(Z.length!=L.length)return!1;for(var C=0;C<Z.length;C++)if(!K(Z[C],
L[C]))return!1;return!0}function T(Z,L,K){var C=K.map(function(ia){return Z[ia.id]}),S=K.map(function(ia){return ia.type}),W=C.filter(function(ia){return!(ia&1)}),ea=Z[L.id]>>1;return function(ia,Aa){var Ba=Aa?Aa.reconfigure?Aa.startState.config.address[L.id]:ea<<1:null,Ha=null==Ba,ya=!0,Sa=!1,Xa=void 0;try{for(var Ya=W[Symbol.iterator](),Va;!(ya=(Va=Ya.next()).done);ya=!0)M(ia,Va.value)&1&&(Ha=!0)}catch(Kb){Sa=!0,Xa=Kb}finally{try{if(!ya&&null!=Ya["return"])Ya["return"]()}finally{if(Sa)throw Xa;
}}if(!Ha)return 0;Ha=[];for(ya=0;ya<C.length;ya++)if(Sa=Q(ia,C[ya]),2==S[ya]){Xa=!0;Ya=!1;Va=void 0;try{for(var cb=Sa[Symbol.iterator](),rb;!(Xa=(rb=cb.next()).done);Xa=!0)Ha.push(rb.value)}catch(Kb){Ya=!0,Va=Kb}finally{try{if(!Xa&&null!=cb["return"])cb["return"]()}finally{if(Ya)throw Va;}}}else Ha.push(Sa);cb=L.combine(Ha);if(null!=Ba&&L.compare(cb,Q(Aa.startState,Ba)))return 0;ia.values[ea]=cb;return 1}}function H(Z,L){if(!Ga.hasOwnProperty(L))throw new RangeError("Invalid precedence: ".concat(L));
return new Ta(Z,Ga[L])}function z(Z,L){return Z?H(L,Z):L}function x(Z){return(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(Z):[]).concat(Object.keys(Z))}function y(Z,L){function K(ya,Sa){var Xa=S.get(ya);if(null!=Xa){if(Xa>=Sa)return;var Ya=C[Xa].indexOf(ya);-1<Ya&&C[Xa].splice(Ya,1)}S.set(ya,Sa);if(Array.isArray(ya)){Xa=!0;Ya=!1;var Va=void 0;try{for(var cb=ya[Symbol.iterator](),rb;!(Xa=(rb=cb.next()).done);Xa=!0)K(rb.value,Sa)}catch(Kb){Ya=!0,Va=Kb}finally{try{if(!Xa&&null!=cb["return"])cb["return"]()}finally{if(Ya)throw Va;
}}}else if(ya instanceof fb){if(ya.tag in W)throw new RangeError("Duplicate use of tag '".concat(String(ya.tag),"' in extensions"));W[ya.tag]=!0;K(L[ya.tag]||ya.extension,Sa)}else ya.extension?K(ya.extension,Sa):ya instanceof Ta?K(ya.e,ya.prec):(C[Sa].push(ya),ya instanceof xa&&K(ya.facets,Sa))}var C=[[],[],[],[]],S=new Map,W=Object.create(null);K(Z,Ga["default"]);Z=!0;var ea=!1,ia=void 0;try{for(var Aa=x(L)[Symbol.iterator](),Ba;!(Z=(Ba=Aa.next()).done);Z=!0){var Ha=Ba.value;Ha in W||"full"==Ha||
!L[Ha]||(W[Ha]=!0,K(L[Ha],Ga["default"]))}}catch(ya){ea=!0,ia=ya}finally{try{if(!Z&&null!=Aa["return"])Aa["return"]()}finally{if(ea)throw ia;}}return C.reduce(function(ya,Sa){return ya.concat(Sa)})}function M(Z,L){if(L&1)return 2;L>>=1;var K=Z.status[L];if(4==K)throw Error("Cyclic dependency between fields and/or facets");if(K&2)return K;Z.status[L]=4;K=Z.config.dynamicSlots[L](Z,Z.applying);return Z.status[L]=2|K}function Q(Z,L){return L&1?Z.config.staticValues[L>>1]:Z.values[L>>1]}function G(Z,
L,K){var C=L.reconfigure;if(C&&C.append){C=Object.assign({},C);var S="undefined"==typeof Symbol?"__append"+Math.floor(4294967295*Math.random()):Symbol("appendConf");C[S]=C.append;C.append=void 0}S=L.selection;return{changes:L.changes instanceof F?L.changes:F.of(L.changes||[],K,Z.facet(nb)),selection:S&&(S instanceof O?S:O.single(S.anchor,S.head)),effects:L.effects?Array.isArray(L.effects)?L.effects:[L.effects]:dc,annotations:L.annotations?Array.isArray(L.annotations)?L.annotations:[L.annotations]:
dc,scrollIntoView:!!L.scrollIntoView,reconfigure:C}}function r(Z,L,K){var C=G(Z,L.length?L[0]:{},Z.doc.length);L.length&&!1===L[0].filter&&(K=!1);for(var S=1;S<L.length;S++){!1===L[S].filter&&(K=!1);var W=!!L[S].sequential,ea=void 0,ia=C;C=G(Z,L[S],W?C.changes.newLength:Z.doc.length);if(W){var Aa=C.changes;var Ba=F.empty(C.changes.length);W=ia.changes.compose(C.changes)}else Aa=C.changes.map(ia.changes),Ba=ia.changes.mapDesc(C.changes,!0),W=ia.changes.compose(Aa);C={changes:W,selection:C.selection?
C.selection.map(Ba):null===(ea=ia.selection)||void 0===ea?void 0:ea.map(Aa),effects:pb.mapEffects(ia.effects,Aa).concat(pb.mapEffects(C.effects,Ba)),annotations:ia.annotations.length?ia.annotations.concat(C.annotations):C.annotations,scrollIntoView:ia.scrollIntoView||C.scrollIntoView,reconfigure:C.reconfigure?C.reconfigure.full||!ia.reconfigure?C.reconfigure:Object.assign({},ia.reconfigure,C.reconfigure):ia.reconfigure}}Z=new Bb(Z,C.changes,C.selection,C.effects,C.annotations,C.reconfigure,C.scrollIntoView);
if(K){K=Z.startState;S=L=!0;ea=!1;ia=void 0;try{var Ha=K.facet(wb)[Symbol.iterator]();for(var ya;!(S=(ya=Ha.next()).done);S=!0){var Sa=ya.value,Xa=Sa(Z);if(!1===Xa){L=!1;break}if(Array.isArray(Xa)){if(!0===L)var Ya=Xa;else a:{C=L;W=Xa;Ba=[];for(var Va=Aa=0;;){if(Aa<C.length&&(Va==W.length||W[Va]>=C[Aa])){var cb=C[Aa++];var rb=C[Aa++]}else if(Va<W.length)cb=W[Va++],rb=W[Va++];else{Ya=Ba;break a}!Ba.length||Ba[Ba.length-1]<cb?Ba.push(cb,rb):Ba[Ba.length-1]<rb&&(Ba[Ba.length-1]=rb)}}L=Ya}}}catch(Kb){ea=
!0,ia=Kb}finally{try{if(!S&&null!=Ha["return"])Ha["return"]()}finally{if(ea)throw ia;}}!0!==L&&(!1===L?(ya=Z.changes.invertedDesc,Ha=F.empty(K.doc.length)):(ya=Z.changes.filter(L),Ha=ya.changes,ya=ya.filtered.invertedDesc),Z=new Bb(K,Ha,Z.selection&&Z.selection.map(ya),pb.mapEffects(Z.effects,ya),Z.annotations,Z.reconfigure,Z.scrollIntoView));Ha=K.facet(Gb);for(ya=Ha.length-1;0<=ya;ya--)Sa=Ha[ya](Z),Z=Sa instanceof Bb?Sa:Array.isArray(Sa)&&1==Sa.length&&Sa[0]instanceof Bb?Sa[0]:r(K,Array.isArray(Sa)?
Sa:[Sa],!1);Ha=Z}else Ha=Z;return Ha}function t(Z){return function(L){if(!/\S/.test(L))return Cb.Space;a:if(rc)var K=rc.test(L);else{for(K=0;K<L.length;K++){var C=L[K];if(/\w/.test(C)||""<C&&(C.toUpperCase()!=C.toLowerCase()||lc.test(C))){K=!0;break a}}K=!1}if(K)return Cb.Word;for(K=0;K<Z.length;K++)if(-1<L.indexOf(Z[K]))return Cb.Word;return Cb.Other}}Object.defineProperty(D,"__esModule",{value:!0});D.combineConfig=function(Z,L){var K=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},C=
{},S=!0,W=!1,ea=void 0;try{for(var ia=Z[Symbol.iterator](),Aa;!(S=(Aa=ia.next()).done);S=!0)for(var Ba=Aa.value,Ha=0,ya=Object.keys(Ba);Ha<ya.length;Ha++){var Sa=ya[Ha],Xa=Ba[Sa],Ya=C[Sa];if(void 0===Ya)C[Sa]=Xa;else if(Ya!==Xa&&void 0!==Xa)if(Object.hasOwnProperty.call(K,Sa))C[Sa]=K[Sa](Ya,Xa);else throw Error("Config merge conflict for field "+Sa);}}catch(cb){W=!0,ea=cb}finally{try{if(!S&&null!=ia["return"])ia["return"]()}finally{if(W)throw ea;}}for(var Va in L)void 0===C[Va]&&(C[Va]=L[Va]);return C};
D.precedence=H;D.tagExtension=function(Z,L){return new fb(Z,L)};Object.defineProperty(D,"Text",{enumerable:!0,get:function(){return k.Text}});D.languageDataProp=D.Transaction=D.StateField=D.StateEffectType=D.StateEffect=D.SelectionRange=D.MapMode=D.IndentContext=D.Facet=D.EditorState=D.EditorSelection=D.CharCategory=D.ChangeSet=D.ChangeDesc=D.AnnotationType=D.Annotation=void 0;var k=Pa(0),h=Pa(1),l=/\r\n?|\n/,u;D.MapMode=u;(function(Z){Z[Z.Simple=0]="Simple";Z[Z.TrackDel=1]="TrackDel";Z[Z.TrackBefore=
2]="TrackBefore";Z[Z.TrackAfter=3]="TrackAfter"})(u||(D.MapMode=u={}));var J=function(){function Z(L){wa(this,Z);this.sections=L}Fa(Z,[{key:"iterGaps",value:function(L){for(var K=0,C=0,S=0;K<this.sections.length;){var W=this.sections[K++],ea=this.sections[K++];0>ea?(L(C,S,W),S+=W):S+=ea;C+=W}}},{key:"iterChangedRanges",value:function(L){Ea(this,L,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}},{key:"composeDesc",value:function(L){return this.empty?L:L.empty?this:Ia(this,L)}},{key:"mapDesc",
value:function(L){var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return L.empty?this:ja(this,L,K)}},{key:"mapPos",value:function(L){for(var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u.Simple,S=0,W=0,ea=0;ea<this.sections.length;){var ia=this.sections[ea++],Aa=this.sections[ea++],Ba=S+ia;if(0>Aa){if(Ba>L)return W+(L-S);W+=ia}else{if(C!=u.Simple&&Ba>=L&&(C==u.TrackDel&&S<L&&Ba>L||C==u.TrackBefore&&S<L||C==u.TrackAfter&&
Ba>L))return-1;if(Ba>L||Ba==L&&0>K&&!ia)return L==S||0>K?W:W+Aa;W+=Aa}S=Ba}if(L>S)throw new RangeError("Position ".concat(L," is out of range for changeset of length ").concat(S));return W}},{key:"mapPosStable",value:function(L){for(var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,C=0,S=0,W=0,ea=0;ea<this.sections.length;){var ia=this.sections[ea++],Aa=this.sections[ea++],Ba=C+ia;if(0>Aa){if(Ba>L)return S+Math.max(0,L-C);W=S+=ia}else{if(0>=K&&Ba>=L)return W;S+=Aa}C=Ba}return S}},{key:"touchesRange",
value:function(L){for(var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:L,C=0,S=0;C<this.sections.length&&S<=K;){var W=this.sections[C++],ea=this.sections[C++];W=S+W;if(0<=ea&&S<=K&&W>=L)return S<L&&W>K?"cover":!0;S=W}return!1}},{key:"toString",value:function(){for(var L="",K=0;K<this.sections.length;){var C=this.sections[K++],S=this.sections[K++];L+=(L?" ":"")+C+(0<=S?":"+S:"")}return L}},{key:"length",get:function(){for(var L=0,K=0;K<this.sections.length;K+=2)L+=this.sections[K];return L}},
{key:"newLength",get:function(){for(var L=0,K=0;K<this.sections.length;K+=2){var C=this.sections[K+1];L+=0>C?this.sections[K]:C}return L}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&0>this.sections[1]}},{key:"invertedDesc",get:function(){for(var L=[],K=0;K<this.sections.length;){var C=this.sections[K++],S=this.sections[K++];0>S?L.push(C,S):L.push(S,C)}return new Z(L)}}]);return Z}();D.ChangeDesc=J;var F=function(Z){function L(K,C){wa(this,L);K=Ka(L).call(this,
K);if(!K||"object"!==Ja(K)&&"function"!==typeof K){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");K=this}K.inserted=C;return K}Ca(L,Z);Fa(L,[{key:"apply",value:function(K){if(this.length!=K.length)throw new RangeError("Applying change set to a document with the wrong length");Ea(this,function(C,S,W,ea,ia){return K=K.replace(W,W+(S-C),ia)},!1);return K}},{key:"mapDesc",value:function(K){return ja(this,K,1<arguments.length&&void 0!==arguments[1]?
arguments[1]:!1,!0)}},{key:"invert",value:function(K){for(var C=this.sections.slice(),S=[],W=0,ea=0;W<C.length;W+=2){var ia=C[W],Aa=C[W+1];if(0<=Aa){C[W]=Aa;C[W+1]=ia;for(Aa=W>>1;S.length<Aa;)S.push(k.Text.empty);S.push(ia?K.slice(ea,ea+ia):k.Text.empty)}ea+=ia}return new L(C,S)}},{key:"compose",value:function(K){return this.empty?K:K.empty?this:Ia(this,K,!0)}},{key:"map",value:function(K){var C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return K.empty?this:ja(this,K,C,!0)}},{key:"iterChanges",
value:function(K){Ea(this,K,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}},{key:"filter",value:function(K){var C=[],S=[],W=[],ea=new A(this),ia=0,Aa=0;a:for(;;){for(var Ba=ia==K.length?1E9:K[ia++];Aa<Ba||Aa==Ba&&0==ea.len;){if(ea.done)break a;var Ha=Math.min(ea.len,Ba-Aa);Ma(W,Ha,-1);var ya=-1==ea.ins?-1:0==ea.off?ea.ins:0;Ma(C,Ha,ya);0<ya&&ra(S,C,ea.text);ea.forward(Ha);Aa+=Ha}for(Ba=K[ia++];Aa<Ba;){if(ea.done)break a;Ha=Math.min(ea.len,Ba-Aa);Ma(C,Ha,-1);Ma(W,Ha,-1==ea.ins?-1:0==ea.off?
ea.ins:0);ea.forward(Ha);Aa+=Ha}}return{changes:new L(C,S),filtered:new J(W)}}},{key:"toJSON",value:function(){for(var K=[],C=0;C<this.sections.length;C+=2){var S=this.sections[C],W=this.sections[C+1];0>W?K.push(S):0==W?K.push([S]):K.push([S,this.inserted[C>>1].toJSON()])}return K}},{key:"desc",get:function(){return new J(this.sections)}}],[{key:"of",value:function(K,C,S){function W(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||ia.length){Ba<C&&Ma(ia,C-Ba,-1);var ya=new L(ia,Aa);Ha=
Ha?Ha.compose(ya.map(Ha)):ya;ia=[];Aa=[];Ba=0}}function ea(ya){if(Array.isArray(ya)){var Sa=!0,Xa=!1,Ya=void 0;try{for(var Va=ya[Symbol.iterator](),cb;!(Sa=(cb=Va.next()).done);Sa=!0)ea(cb.value)}catch(rb){Xa=!0,Ya=rb}finally{try{if(!Sa&&null!=Va["return"])Va["return"]()}finally{if(Xa)throw Ya;}}}else if(ya instanceof L){if(ya.length!=C)throw new RangeError("Mismatched change set length (got ".concat(ya.length,", expected ").concat(C,")"));W();Ha=Ha?Ha.compose(ya.map(Ha)):ya}else{Sa=ya.from;Xa=ya.to;
Xa=void 0===Xa?Sa:Xa;ya=ya.insert;if(Sa>Xa||0>Sa||Xa>C)throw new RangeError("Invalid change range ".concat(Sa," to ").concat(Xa," (in doc of length ").concat(C,")"));ya=ya?"string"==typeof ya?k.Text.of(ya.split(S||l)):ya:k.Text.empty;Ya=ya.length;if(Sa!=Xa||0!=Ya)Sa<Ba&&W(),Sa>Ba&&Ma(ia,Sa-Ba,-1),Ma(ia,Xa-Sa,Ya),ra(Aa,ia,ya),Ba=Xa}}var ia=[],Aa=[],Ba=0,Ha=null;ea(K);W(!Ha);return Ha}},{key:"empty",value:function(K){return new L(K?[K,-1]:[],[])}},{key:"fromJSON",value:function(K){for(var C=[],S=[],
W=0;W<K.length;W++){var ea=K[W];if("number"==typeof ea)C.push(ea,-1);else if(1==ea.length)C.push(ea[0],0);else{for(;S.length<W-1;)S.push(k.Text.empty);S[W]=k.Text.of(ea[1]);C.push(ea[0],S[W].length)}}return new L(C,S)}}]);return L}(J);D.ChangeSet=F;var A=function(){function Z(L){wa(this,Z);this.set=L;this.i=0;this.next()}Fa(Z,[{key:"next",value:function(){var L=this.set.sections;this.i<L.length?(this.len=L[this.i++],this.ins=L[this.i++]):(this.len=0,this.ins=-2);this.off=0}},{key:"textBit",value:function(L){var K=
this.set.inserted,C=this.i-2>>1;return C>=K.length&&!L?k.Text.empty:K[C].slice(this.off,null==L?void 0:this.off+L)}},{key:"forward",value:function(L){L==this.len?this.next():(this.len-=L,this.off+=L)}},{key:"forward2",value:function(L){-1==this.ins?this.forward(L):L==this.ins?this.next():(this.ins-=L,this.off+=L)}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return 0>this.ins?this.len:this.ins}},{key:"text",get:function(){var L=this.set.inserted,K=this.i-2>>1;return K>=
L.length?k.Text.empty:L[K]}}]);return Z}(),E=function(){function Z(L,K,C){wa(this,Z);this.from=L;this.to=K;this.flags=C}Fa(Z,[{key:"map",value:function(L){var K=L.mapPos(this.from);L=L.mapPos(this.to);return K==this.from&&L==this.to?this:new Z(K,L,this.flags)}},{key:"extend",value:function(L){var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:L;return L<=this.anchor&&K>=this.anchor?O.range(L,K):O.range(this.anchor,Math.abs(L-this.anchor)>Math.abs(K-this.anchor)?L:K)}},{key:"eq",value:function(L){return this.anchor==
L.anchor&&this.head==L.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}},{key:"anchor",get:function(){return this.flags&16?this.to:this.from}},{key:"head",get:function(){return this.flags&16?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return this.flags&4?-1:this.flags&8?1:0}},{key:"bidiLevel",get:function(){var L=this.flags&3;return 3==L?null:L}},{key:"goalColumn",get:function(){var L=this.flags>>5;return 33554431==
L?void 0:L}}],[{key:"fromJSON",value:function(L){if(!L||"number"!=typeof L.anchor||"number"!=typeof L.head)throw new RangeError("Invalid JSON representation for SelectionRange");return O.range(L.anchor,L.head)}}]);return Z}();D.SelectionRange=E;var O=function(){function Z(L){var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;wa(this,Z);this.ranges=L;this.primaryIndex=K}Fa(Z,[{key:"map",value:function(L){return L.empty?this:Z.create(this.ranges.map(function(K){return K.map(L)}),this.primaryIndex)}},
{key:"eq",value:function(L){if(this.ranges.length!=L.ranges.length||this.primaryIndex!=L.primaryIndex)return!1;for(var K=0;K<this.ranges.length;K++)if(!this.ranges[K].eq(L.ranges[K]))return!1;return!0}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new Z([this.primary])}},{key:"addRange",value:function(L){var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Z.create([L].concat(this.ranges),K?0:this.primaryIndex+1)}},{key:"replaceRange",value:function(L){var K=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.primaryIndex,C=this.ranges.slice();C[K]=L;return Z.create(C,this.primaryIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(L){return L.toJSON()}),primaryIndex:this.primaryIndex}}},{key:"primary",get:function(){return this.ranges[this.primaryIndex]}}],[{key:"fromJSON",value:function(L){if(!L||!Array.isArray(L.ranges)||"number"!=typeof L.primaryIndex||L.primaryIndex>=L.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");
return new Z(L.ranges.map(function(K){return E.fromJSON(K)}),L.primaryIndex)}},{key:"single",value:function(L){return new Z([Z.range(L,1<arguments.length&&void 0!==arguments[1]?arguments[1]:L)],0)}},{key:"create",value:function(L){var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(0==L.length)throw new RangeError("A selection needs at least one range");for(var C=0,S=0;S<L.length;S++){var W=L[S];if(W.empty?W.from<=C:W.from<C)return Da(L.slice(),K);C=W.to}return new Z(L,K)}},{key:"cursor",
value:function(L){var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,C=2<arguments.length?arguments[2]:void 0,S=3<arguments.length?arguments[3]:void 0;return new E(L,L,(0==K?0:0>K?4:8)|(null==C?3:Math.min(2,C))|(null!==S&&void 0!==S?S:33554431)<<5)}},{key:"range",value:function(L,K,C){C=(null!==C&&void 0!==C?C:33554431)<<5;return K<L?new E(K,L,16|C):new E(L,K,C)}}]);return Z}();D.EditorSelection=O;var U=0,ca=function(){function Z(L,K,C,S){wa(this,Z);this.combine=L;this.compareInput=K;
this.compare=C;this.isStatic=S;this.id=U++;this["default"]=L([])}Fa(Z,[{key:"of",value:function(L){return new ka([],this,0,L)}},{key:"compute",value:function(L,K){if(this.isStatic)throw Error("Can't compute a static facet");return new ka(L,this,1,K)}},{key:"computeN",value:function(L,K){if(this.isStatic)throw Error("Can't compute a static facet");return new ka(L,this,2,K)}},{key:"from",value:function(L,K){var C=this;return function(S){return z(K,C.compute([S],function(W){return L(W.field(S))}))}}},
{key:"nFrom",value:function(L,K){var C=this;return function(S){return z(K,C.computeN([S],function(W){return L(W.field(S))}))}}}],[{key:"define",value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Z(L.combine||function(K){return K},L.compareInput||function(K,C){return K===C},L.compare||(L.combine?function(K,C){return K===C}:aa),!!L["static"])}}]);return Z}();D.Facet=ca;var ka=function(){function Z(L,K,C,S){wa(this,Z);this.dependencies=L;this.facet=K;this.type=
C;this.value=S;this.id=U++}Fa(Z,[{key:"dynamicSlot",value:function(L){var K=this.value,C=this.facet.compareInput,S=L[this.id]>>1,W=2==this.type,ea=!1,ia=!1,Aa=[],Ba=!0,Ha=!1,ya=void 0;try{for(var Sa=this.dependencies[Symbol.iterator](),Xa;!(Ba=(Xa=Sa.next()).done);Ba=!0){var Ya=Xa.value;"doc"==Ya?ea=!0:"selection"==Ya?ia=!0:0==(L[Ya.id]&1)&&Aa.push(L[Ya.id])}}catch(Va){Ha=!0,ya=Va}finally{try{if(!Ba&&null!=Sa["return"])Sa["return"]()}finally{if(Ha)throw ya;}}return function(Va,cb){if(!cb||cb.reconfigure)Va.values[S]=
K(Va);else{if(!(ea&&cb.docChanged||ia&&(cb.docChanged||cb.selection)||Aa.some(function(Kb){return 0<(M(Va,Kb)&1)})))return 0;var rb=K(Va);cb=cb.startState.values[S];if(W?da(rb,cb,C):C(rb,cb))return 0;Va.values[S]=rb}return 1}}}]);return Z}(),xa=function(){function Z(L,K,C,S,W){wa(this,Z);this.id=L;this.createF=K;this.updateF=C;this.compareF=S;this.facets=W}Fa(Z,[{key:"slot",value:function(L){var K=this,C=L[this.id]>>1;return function(S,W){if(!W)return S.values[C]=K.createF(S),1;var ea=0;if(W.reconfigure){var ia=
W.startState.config.address[K.id];ia=null==ia?null:ia>>1;ia=null==ia?K.createF(W.startState):W.startState.values[ia];ea=1}else ia=W.startState.values[C];W=K.updateF(ia,W);ea||K.compareF(ia,W)||(ea=1);ea&&(S.values[C]=W);return ea}}}],[{key:"define",value:function(L){var K=[],C=new Z(U++,L.create,L.update,L.compare||function(Ha,ya){return Ha===ya},K);if(L.provide){var S=!0,W=!1,ea=void 0;try{for(var ia=L.provide[Symbol.iterator](),Aa;!(S=(Aa=ia.next()).done);S=!0){var Ba=Aa.value;Ba instanceof ca?
K.push(Ba.compute([C],function(Ha){return Ha.field(C)})):K.push(Ba(C))}}catch(Ha){W=!0,ea=Ha}finally{try{if(!S&&null!=ia["return"])ia["return"]()}finally{if(W)throw ea;}}}return C}}]);return Z}();D.StateField=xa;var Ga={fallback:3,"default":2,extend:1,override:0},Ta=function C(L,K){wa(this,C);this.e=L;this.prec=K},fb=function S(K,C){wa(this,S);this.tag=K;this.extension=C},db=function(){function K(C,S,W,ea,ia){wa(this,K);this.source=C;this.replacements=S;this.dynamicSlots=W;this.address=ea;this.staticValues=
ia;for(this.statusTemplate=[];this.statusTemplate.length<ia.length;)this.statusTemplate.push(0)}Fa(K,[{key:"staticFacet",value:function(C){var S=this.address[C.id];return null==S?C["default"]:this.staticValues[S>>1]}}],[{key:"resolve",value:function(C){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object.create(null),W=2<arguments.length?arguments[2]:void 0,ea=[],ia=Object.create(null),Aa=!0,Ba=!1,Ha=void 0;try{for(var ya=y(C,S)[Symbol.iterator](),Sa;!(Aa=(Sa=ya.next()).done);Aa=!0){var Xa=
Sa.value;Xa instanceof xa?ea.push(Xa):(ia[Xa.facet.id]||(ia[Xa.facet.id]=[])).push(Xa)}}catch(yb){Ba=!0,Ha=yb}finally{try{if(!Aa&&null!=ya["return"])ya["return"]()}finally{if(Ba)throw Ha;}}var Ya=Object.create(null),Va=[],cb=[];Aa=function(){var yb=Kb[rb];Ya[yb.id]=cb.length<<1;cb.push(function($b){return yb.slot($b)})};for(var rb=0,Kb=ea;rb<Kb.length;rb++)Aa();ea=function(yb){var $b=ia[yb],Rb=$b[0].facet;if($b.every(function(Y){return 0==Y.type})){Ya[Rb.id]=Va.length<<1|1;var ac=Rb.combine($b.map(function(Y){return Y.value}));
yb=W?W.config.address[Rb.id]:null;null!=yb&&(yb=Q(W,yb),Rb.compare(ac,yb)&&(ac=yb));Va.push(ac)}else{yb=!0;var Qa=!1,bc=void 0;try{var Lb=function(){var Y=I.value;0==Y.type?(Ya[Y.id]=Va.length<<1|1,Va.push(Y.value)):(Ya[Y.id]=cb.length<<1,cb.push(function(ta){return Y.dynamicSlot(ta)}))};ac=$b[Symbol.iterator]();for(var I;!(yb=(I=ac.next()).done);yb=!0)Lb()}catch(Y){Qa=!0,bc=Y}finally{try{if(!yb&&null!=ac["return"])ac["return"]()}finally{if(Qa)throw bc;}}Ya[Rb.id]=cb.length<<1;cb.push(function(Y){return T(Y,
Rb,$b)})}};for(var sc in ia)ea(sc);return new K(C,S,cb.map(function(yb){return yb(Ya)}),Ya,Va)}}]);return K}(),ub=ca.define({combine:function(K){return K.some(function(C){return C})},"static":!0}),nb=ca.define({combine:function(K){return K.length?K[0]:void 0},"static":!0}),wb=ca.define(),Gb=ca.define();na=new h.NodeProp;D.languageDataProp=na;var Db=ca.define();na=function(){function K(C){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};wa(this,K);this.state=C;this.options=S}Fa(K,[{key:"textAfterPos",
value:function(C){var S,W,ea=null===(S=this.options)||void 0===S?void 0:S.simulateBreak;return C==ea&&(null===(W=this.options)||void 0===W?0:W.simulateDoubleBreak)?"":this.state.sliceDoc(C,Math.min(C+100,null!=ea&&ea>C?ea:1E9,this.state.doc.lineAt(C).to))}},{key:"countColumn",value:function(C,S){return(0,k.countColumn)(0>S?C:C.slice(0,S),0,this.state.tabSize)}},{key:"lineIndent",value:function(C){var S,W=null===(S=this.options)||void 0===S?void 0:S.overrideIndentation;if(W&&(S=W(C.from),-1<S))return S;
C=C.slice(0,Math.min(100,C.length));return this.countColumn(C,C.search(/\S/))}},{key:"column",value:function(C){var S,W=this.state.doc.lineAt(C),ea=W.slice(0,C-W.from);C=this.countColumn(ea,C-W.from);W=(null===(S=this.options)||void 0===S?0:S.overrideIndentation)?this.options.overrideIndentation(W.from):-1;-1<W&&(C+=W-this.countColumn(ea,ea.search(/\S/)));return C}},{key:"unit",get:function(){return this.state.indentUnit}}]);return K}();D.IndentContext=na;var xb=function(){function K(C,S){wa(this,
K);this.type=C;this.value=S}Fa(K,null,[{key:"define",value:function(){return new ob}}]);return K}();D.Annotation=xb;var ob=function(){function K(){wa(this,K)}Fa(K,[{key:"of",value:function(C){return new xb(this,C)}}]);return K}();D.AnnotationType=ob;var pb=function(){function K(C,S){wa(this,K);this.type=C;this.value=S}Fa(K,[{key:"map",value:function(C){C=this.type.map(this.value,C);return void 0===C?void 0:C==this.value?this:new K(this.type,C)}},{key:"is",value:function(C){return this.type==C}}],
[{key:"define",value:function(){return new qb((0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).map||function(C){return C})}},{key:"mapEffects",value:function(C,S){if(!C.length)return C;var W=[],ea=!0,ia=!1,Aa=void 0;try{for(var Ba=C[Symbol.iterator](),Ha;!(ea=(Ha=Ba.next()).done);ea=!0){var ya=Ha.value.map(S);ya&&W.push(ya)}}catch(Sa){ia=!0,Aa=Sa}finally{try{if(!ea&&null!=Ba["return"])Ba["return"]()}finally{if(ia)throw Aa;}}return W}}]);return K}();D.StateEffect=pb;var qb=function(){function K(C){wa(this,
K);this.map=C}Fa(K,[{key:"of",value:function(C){return new pb(this,C)}}]);return K}();D.StateEffectType=qb;var Bb=function(){function K(C,S,W,ea,ia,Aa,Ba){wa(this,K);this.startState=C;this.changes=S;this.selection=W;this.effects=ea;this.annotations=ia;this.reconfigure=Aa;this.scrollIntoView=Ba;this._state=this._doc=null;W&&ha(W,S.newLength);ia.some(function(Ha){return Ha.type==K.time})||(this.annotations=ia.concat(K.time.of(Date.now())))}Fa(K,[{key:"annotation",value:function(C){var S=!0,W=!1,ea=
void 0;try{for(var ia=this.annotations[Symbol.iterator](),Aa;!(S=(Aa=ia.next()).done);S=!0){var Ba=Aa.value;if(Ba.type==C)return Ba.value}}catch(Ha){W=!0,ea=Ha}finally{try{if(!S&&null!=ia["return"])ia["return"]()}finally{if(W)throw ea;}}}},{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){this._state||this.startState.applyTransaction(this);
return this._state}},{key:"docChanged",get:function(){return!this.changes.empty}}]);return K}();D.Transaction=Bb;Bb.time=xb.define();Bb.userEvent=xb.define();Bb.addToHistory=xb.define();var dc=[],Cb;D.CharCategory=Cb;(function(K){K[K.Word=0]="Word";K[K.Space=1]="Space";K[K.Other=2]="Other"})(Cb||(D.CharCategory=Cb={}));var lc=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{var rc=RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(K){}na=
function(){function K(C,S,W){var ea=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;wa(this,K);this.config=C;this.doc=S;this.selection=W;this.applying=null;this.status=C.statusTemplate.slice();if(ea&&!ea.reconfigure)this.values=ea.startState.values.slice();else if(this.values=C.dynamicSlots.map(function(Ha){return null}),ea)for(var ia in C.address){var Aa=C.address[ia],Ba=ea.startState.config.address[ia];null!=Ba&&0==(Aa&1)&&(this.values[Aa>>1]=Q(ea.startState,Ba))}if(this.applying=ea)ea._state=
this;for(ea=0;ea<this.config.dynamicSlots.length;ea++)M(this,ea<<1);this.applying=null}Fa(K,[{key:"field",value:function(C){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,W=this.config.address[C.id];if(null==W){if(S)throw new RangeError("Field is not present in this state");}else return M(this,W),Q(this,W)}},{key:"update",value:function(){for(var C=arguments.length,S=Array(C),W=0;W<C;W++)S[W]=arguments[W];return r(this,S,!0)}},{key:"applyTransaction",value:function(C){var S=this.config;
C.reconfigure&&(S=db.resolve(C.reconfigure.full||S.source,Object.assign(S.replacements,C.reconfigure,{full:void 0}),this));new K(S,C.newDoc,C.newSelection,C)}},{key:"replaceSelection",value:function(C){"string"==typeof C&&(C=this.toText(C));return this.changeByRange(function(S){return{changes:{from:S.from,to:S.to,insert:C},range:O.cursor(S.from+C.length)}})}},{key:"changeByRange",value:function(C){var S=this.selection,W=C(S.ranges[0]),ea=this.changes(W.changes);W=[W.range];for(var ia=1;ia<S.ranges.length;ia++){for(var Aa=
C(S.ranges[ia]),Ba=this.changes(Aa.changes),Ha=Ba.map(ea),ya=0;ya<ia;ya++)W[ya]=W[ya].map(Ha);W.push(Aa.range.map(ea.mapDesc(Ba,!0)));ea=ea.compose(Ha)}return{changes:ea,selection:O.create(W,S.primaryIndex)}}},{key:"changes",value:function(){var C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return C instanceof F?C:F.of(C,this.doc.length,this.facet(K.lineSeparator))}},{key:"toText",value:function(C){return k.Text.of(C.split(this.facet(K.lineSeparator)||l))}},{key:"sliceDoc",value:function(){return this.doc.sliceString(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.doc.length,this.lineBreak)}},{key:"facet",value:function(C){var S=this.config.address[C.id];if(null==S)return C["default"];M(this,S);return Q(this,S)}},{key:"toJSON",value:function(){return{doc:this.sliceDoc(),selection:this.selection.toJSON()}}},{key:"indentString",value:function(C){var S="";if(9==this.facet(K.indentUnit).charCodeAt(0))for(;C>=this.tabSize;)S+="\t",C-=this.tabSize;for(var W=
0;W<C;W++)S+=" ";return S}},{key:"phrase",value:function(C){var S=!0,W=!1,ea=void 0;try{for(var ia=this.facet(K.phrases)[Symbol.iterator](),Aa;!(S=(Aa=ia.next()).done);S=!0){var Ba=Aa.value;if(Object.prototype.hasOwnProperty.call(Ba,C))return Ba[C]}}catch(Ha){W=!0,ea=Ha}finally{try{if(!S&&null!=ia["return"])ia["return"]()}finally{if(W)throw ea;}}return C}},{key:"charCategorizer",value:function(C){return t(this.languageDataAt("wordChars",C).join(""))}},{key:"languageDataAt",value:function(C,S){for(var W=
[],ea=this.facet(K.syntax),ia=ea.length?0:1;2>ia;ia++){var Aa=this.facet(ia?Db:ea[0].languageDataFacetAt(this,S)),Ba=!0,Ha=!1,ya=void 0;try{for(var Sa=Aa[Symbol.iterator](),Xa;!(Ba=(Xa=Sa.next()).done);Ba=!0){var Ya=Xa.value;Object.prototype.hasOwnProperty.call(Ya,C)&&W.push(Ya[C])}}catch(Va){Ha=!0,ya=Va}finally{try{if(!Ba&&null!=Sa["return"])Sa["return"]()}finally{if(Ha)throw ya;}}}return W}},{key:"tabSize",get:function(){return this.facet(K.tabSize)}},{key:"lineBreak",get:function(){return this.facet(K.lineSeparator)||
"\n"}},{key:"indentUnit",get:function(){var C=this.facet(K.indentUnit);return 9==C.charCodeAt(0)?this.tabSize*C.length:C.length}},{key:"tree",get:function(){var C=this.facet(K.syntax);return C.length?C[0].getTree(this):h.Tree.empty}}],[{key:"fromJSON",value:function(C){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!C||"string"!=typeof C.doc)throw new RangeError("Invalid JSON representation for EditorState");return K.create({doc:C.doc,selection:O.fromJSON(C.selection),extensions:S.extensions})}},
{key:"create",value:function(){var C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},S=db.resolve(C.extensions||[]),W=C.doc instanceof k.Text?C.doc:k.Text.of((C.doc||"").split(S.staticFacet(K.lineSeparator)||l));C=C.selection?C.selection instanceof O?C.selection:O.single(C.selection.anchor,C.selection.head):O.single(0);ha(C,W.length);S.staticFacet(ub)||(C=C.asSingle());return new K(S,W,C)}}]);return K}();D.EditorState=na;na.allowMultipleSelections=ub;na.indentation=ca.define();na.tabSize=
ca.define({combine:function(K){return K.length?K[0]:4}});na.lineSeparator=nb;na.indentUnit=ca.define({combine:function(K){if(!K.length)return"  ";if(!/^(?: +|\t+)$/.test(K[0]))throw Error("Invalid indent unit: "+JSON.stringify(K[0]));return K[0]}});na.phrases=ca.define();na.syntax=ca.define();na.globalLanguageData=Db;na.foldable=ca.define();na.changeFilter=wb;na.transactionFilter=Gb};
shadow$provide[3]=function(na,Pa,lb,D){function Ja(Ea,ja){return"undefined"==typeof Symbol?"__"+Ea+(ja?Math.floor(1E8*Math.random()):""):ja?Symbol(Ea):Symbol.for(Ea)}function Ka(Ea,ja,Ia){if("object"!=typeof ja)throw new RangeError("Expected style object, got "+JSON.stringify(ja));var Da=[],ha=function(da){if(/^@/.test(da)){var T=[];Ka(Ea,ja[da],T);Ia.push(da+" {"+T.join(" ")+"}")}else if(/&/.test(da))Ka(Ea.split(/\s*,\s*/).map(function(H){return da.replace(/&/g,H)}).join(", "),ja[da],Ia);else if("specificity"!=
da){if("object"==typeof ja[da])throw new RangeError("The value of a property ("+da+") should be a primitive value.");Da.push(da.replace(/_.*/,"").replace(/[A-Z]/g,function(H){return"-"+H.toLowerCase()})+": "+ja[da])}},aa;for(aa in ja)ha(aa);Da.length&&Ia.push(Ea+" {"+Da.join("; ")+"}")}var Ca=Ja("ͼ"),Ra=Ja("styleSet",1),wa=Ja("rules",1),za="undefined"==typeof na?window:na,Fa=D.StyleModule=function(Ea,ja){this[wa]=[];for(var Ia in Ea){var Da=Ea[Ia].specificity||0,ha=Fa.newName(),aa=Ia;if(!1!==(ja&&
ja.generateClasses)){var da=ha;aa="."+ha;for(ha=0;ha<Da;ha++){var T="ͼ_"+(ha?ha.toString(36):"");aa+="."+T;da+=" "+T}this[Ia]=da}Ka(aa,Ea[Ia],this[wa])}};Fa.newName=function(){var Ea=za[Ca]||1;za[Ca]=Ea+1;return"ͼ"+Ea.toString(36)};Fa.prototype=Object.create(null);Fa.mount=function(Ea,ja){(Ea[Ra]||new ra(Ea)).mount(Array.isArray(ja)?ja:[ja])};var Ma=null,ra=function(Ea){if(Ea.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Ma)return Ea.adoptedStyleSheets=[Ma.sheet].concat(Ea.adoptedStyleSheets),
Ea[Ra]=Ma;this.sheet=new CSSStyleSheet;Ea.adoptedStyleSheets=[this.sheet].concat(Ea.adoptedStyleSheets);Ma=this}else this.styleTag=(Ea.ownerDocument||Ea).createElement("style"),Ea=Ea.head||Ea,Ea.insertBefore(this.styleTag,Ea.firstChild);this.modules=[]};ra.prototype.mount=function(Ea){for(var ja=this.sheet,Ia=0,Da=0,ha=0;ha<Ea.length;ha++){var aa=Ea[ha],da=this.modules.indexOf(aa);da<Da&&-1<da&&(this.modules.splice(da,1),Da--,da=-1);if(-1==da){if(this.modules.splice(Da++,0,aa),ja)for(da=0;da<aa[wa].length;da++)ja.insertRule(aa[wa][da],
Ia++)}else{for(;Da<da;)Ia+=this.modules[Da++][wa].length;Ia+=aa[wa].length;Da++}}if(!ja){Ea="";for(ja=0;ja<this.modules.length;ja++)Ea+=this.modules[ja][wa].join("\n")+"\n";this.styleTag.textContent=Ea}}};
shadow$provide[4]=function(na,Pa,lb,D){function Ja(H,z){if(!(H instanceof z))throw new TypeError("Cannot call a class as a function");}function Ka(H,z){for(var x=0;x<z.length;x++){var y=z[x];y.enumerable=y.enumerable||!1;y.configurable=!0;"value"in y&&(y.writable=!0);Object.defineProperty(H,y.key,y)}}function Ca(H,z,x){z&&Ka(H.prototype,z);x&&Ka(H,x);return H}function Ra(H,z){return H.from-z.from||H.value.startSide-z.value.startSide}function wa(H,z){var x=new Map,y=!0,M=!1,Q=void 0;try{for(var G=
H[Symbol.iterator](),r;!(y=(r=G.next()).done);y=!0){var t=r.value;for(H=0;H<t.chunk.length;H++)500>t.chunk[H].maxPoint&&x.set(t.chunk[H],t.chunkPos[H])}}catch(u){M=!0,Q=u}finally{try{if(!y&&null!=G["return"])G["return"]()}finally{if(M)throw Q;}}y=new Set;M=!0;Q=!1;G=void 0;try{for(var k=z[Symbol.iterator](),h;!(M=(h=k.next()).done);M=!0){var l=h.value;for(z=0;z<l.chunk.length;z++)x.get(l.chunk[z])==l.chunkPos[z]&&y.add(l.chunk[z])}}catch(u){Q=!0,G=u}finally{try{if(!M&&null!=k["return"])k["return"]()}finally{if(Q)throw G;
}}return y}function za(H,z){for(var x=H[z];;){var y=(z<<1)+1;if(y>=H.length)break;var M=H[y];y+1<H.length&&0<=M.compare(H[y+1])&&(M=H[y+1],y++);if(0>x.compare(M))break;H[y]=x;H[z]=M;z=y}}function Fa(H,z,x,y,M,Q){H["goto"](z);x["goto"](y);M=y+M;var G=y;for(z=y-z;;){y=H.to+z-x.to||H.endSide-x.endSide;var r=0>y?H.to+z:x.to,t=Math.min(r,M);if(H.point||x.point)H.point&&x.point&&(H.point==x.point||H.point.eq(x.point))||Q.comparePoint(G,t,H.point,x.point);else{var k;if(k=t>G){a:{k=H.active;var h=x.active;
if(k.length!=h.length)k=!1;else{for(var l=0;l<k.length;l++)if(k[l]!=h[l]&&!k[l].eq(h[l])){k=!1;break a}k=!0}}k=!k}k&&Q.compareRange(G,t,H.active,x.active)}if(r>M)break;G=r;0>=y&&H.next();0<=y&&x.next()}}function Ma(H,z){for(var x=H.length-1;z<x;z++)H[z]=H[z+1];H.pop()}function ra(H,z,x){for(var y=H.length-1;y>=z;y--)H[y+1]=H[y];H[z]=x}function Ea(H,z){for(var x=-1,y=1E9,M=0;M<z.length;M++)0>(z[M]-y||H[M].endSide-H[x].endSide)&&(x=M,y=z[M]);return x}Object.defineProperty(D,"__esModule",{value:!0});
D.RangeValue=D.RangeSetBuilder=D.RangeSet=D.Range=void 0;na=Pa(2);Pa=function(){function H(){Ja(this,H)}Ca(H,[{key:"eq",value:function(z){return this==z}},{key:"range",value:function(z){return new ja(z,1<arguments.length&&void 0!==arguments[1]?arguments[1]:z,this)}}]);return H}();D.RangeValue=Pa;Pa.prototype.startSide=Pa.prototype.endSide=0;Pa.prototype.point=!1;Pa.prototype.mapMode=na.MapMode.TrackDel;var ja=function M(z,x,y){Ja(this,M);this.from=z;this.to=x;this.value=y};D.Range=ja;var Ia=function(){function z(x,
y,M,Q){Ja(this,z);this.from=x;this.to=y;this.value=M;this.maxPoint=Q}Ca(z,[{key:"findIndex",value:function(x,y){var M=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1E9*y,Q=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(0>=x)return Q;for(var G=0>y?this.to:this.from,r=G.length;;){if(Q==r)return Q;var t=Q+r>>1,k=G[t]-x||(0>y?this.value[t].startSide:this.value[t].endSide)-M;if(t==Q)return 0<=k?Q:r;0<=k?r=t:Q=t+1}}},{key:"between",value:function(x,y,M,Q){y=this.findIndex(y,-1);for(M=
this.findIndex(M,1,void 0,y);y<M;y++)if(!1===Q(this.from[y]+x,this.to[y]+x,this.value[y]))return!1}},{key:"map",value:function(x,y){for(var M=[],Q=[],G=[],r=-1,t=-1,k=0;k<this.value.length;k++){var h=this.value[k],l=this.from[k]+x,u=this.to[k]+x;if(l==u){u=y.mapPos(l,h.startSide,h.mapMode);if(0>u)continue;l=u}else if(l=y.mapPos(l,h.startSide),u=y.mapPos(u,h.endSide),l>u||l==u&&0<h.startSide&&0>=h.endSide)continue;0>(u-l||h.endSide-h.startSide)||(0>r&&(r=l),h.point&&(t=Math.max(t,u-l)),M.push(h),Q.push(l-
r),G.push(u-r))}return{mapped:M.length?new z(Q,G,M,t):null,pos:r}}},{key:"length",get:function(){return this.to[this.to.length-1]}}]);return z}(),Da=function(){function z(x,y){var M=2<arguments.length&&void 0!==arguments[2]?arguments[2]:z.empty,Q=3<arguments.length?arguments[3]:void 0;Ja(this,z);this.chunkPos=x;this.chunk=y;this.nextLayer=M;this.maxPoint=Q}Ca(z,[{key:"chunkEnd",value:function(x){return this.chunkPos[x]+this.chunk[x].length}},{key:"update",value:function(x){var y=x.add;y=void 0===
y?[]:y;var M=x.sort,Q=x.filter,G=x.filterFrom;G=void 0===G?0:G;x=x.filterTo;x=void 0===x?this.length:x;if(0==y.length&&!Q)return this;(void 0===M?0:M)&&y.slice().sort(Ra);if(this==z.empty)return y.length?z.of(y):this;M=(new aa(this,null,-1))["goto"](0);for(var r=0,t=[],k=new ha;M.value||r<y.length;)if(r<y.length&&0<=(M.from-y[r].from||M.startSide-y[r].value.startSide)){var h=y[r++];k.addInner(h.from,h.to,h.value)||t.push(h)}else if(1==M.rangeIndex&&M.chunkIndex<this.chunk.length&&(r==y.length||this.chunkEnd(M.chunkIndex)<
y[r].from)&&(!Q||G>this.chunkEnd(M.chunkIndex)||x<this.chunkPos[M.chunkIndex])&&k.addChunk(this.chunkPos[M.chunkIndex],this.chunk[M.chunkIndex]))M.nextChunk();else{if(!Q||G>M.to||x<M.from||Q(M.from,M.to,M.value))k.addInner(M.from,M.to,M.value)||t.push(new ja(M.from,M.to,M.value));M.next()}return k.finishInner(this.nextLayer!=z.empty||t.length?this.nextLayer.update({add:t,filter:Q,filterFrom:G,filterTo:x}):z.empty)}},{key:"map",value:function(x){if(0==x.length||this==z.empty)return this;for(var y=
[],M=[],Q=-1,G=0;G<this.chunk.length;G++){var r=this.chunkPos[G],t=this.chunk[G],k=x.touchesRange(r,r+t.length);!1===k?(Q=Math.max(Q,t.maxPoint),y.push(t),M.push(x.mapPos(r))):!0===k&&(t=t.map(r,x),r=t.mapped,t=t.pos,r&&(Q=Math.max(Q,r.maxPoint),y.push(r),M.push(t)))}x=this.nextLayer.map(x);return 0==y.length?x:new z(M,y,x,Q)}},{key:"between",value:function(x,y,M){if(this!=z.empty){for(var Q=0;Q<this.chunk.length;Q++){var G=this.chunkPos[Q],r=this.chunk[Q];if(y>=G&&x<=G+r.length&&!1===r.between(G,
x-G,y-G,M))return}this.nextLayer.between(x,y,M)}}},{key:"iter",value:function(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return da.from([this])["goto"](x)}},{key:"length",get:function(){var x=this.chunk.length-1;return 0>x?0:Math.max(this.chunkEnd(x),this.nextLayer.length)}},{key:"size",get:function(){if(this==z.empty)return 0;var x=this.nextLayer.size,y=!0,M=!1,Q=void 0;try{for(var G=this.chunk[Symbol.iterator](),r;!(y=(r=G.next()).done);y=!0)x+=r.value.value.length}catch(t){M=
!0,Q=t}finally{try{if(!y&&null!=G["return"])G["return"]()}finally{if(M)throw Q;}}return x}}],[{key:"iter",value:function(x){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return da.from(x)["goto"](y)}},{key:"compare",value:function(x,y,M,Q){var G,r=null!==(G=Q.minPointSize)&&void 0!==G?G:-1;G=x.filter(function(u){return 500<=u.maxPoint||u!=z.empty&&0>y.indexOf(u)&&u.maxPoint>=r});var t=y.filter(function(u){return 500<=u.maxPoint||u!=z.empty&&0>x.indexOf(u)&&u.maxPoint>=r}),k=wa(G,
t),h=new T(G,k,r),l=new T(t,k,r);M.iterGaps(function(u,J,F){return Fa(h,u,l,J,F,Q)});M.empty&&0==M.length&&Fa(h,0,l,0,0,Q)}},{key:"spans",value:function(x,y,M,Q){var G;x=(new T(x,null,null!==(G=Q.minPointSize)&&void 0!==G?G:-1))["goto"](y);for(G=x.openStart;;){var r=Math.min(x.to,M);x.point?(Q.point(y,r,x.point,x.activeForPoint(x.to),G),G=x.openEnd(r)+(x.to>r?1:0)):r>y&&(Q.span(y,r,x.active,G),G=x.openEnd(r));if(x.to>M)break;y=x.to;x.next()}return G}},{key:"of",value:function(x){var y=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:!1,M=new ha,Q=!0,G=!1,r=void 0;try{for(var t=(x instanceof ja?[x]:y?x.slice().sort(Ra):x)[Symbol.iterator](),k;!(Q=(k=t.next()).done);Q=!0){var h=k.value;M.add(h.from,h.to,h.value)}}catch(l){G=!0,r=l}finally{try{if(!Q&&null!=t["return"])t["return"]()}finally{if(G)throw r;}}return M.finish()}}]);return z}();D.RangeSet=Da;Da.empty=new Da([],[],null,-1);Da.empty.nextLayer=Da.empty;var ha=function(){function z(){Ja(this,z);this.chunks=[];this.chunkPos=[];this.chunkStart=
-1;this.last=null;this.lastTo=this.lastFrom=-1E9;this.from=[];this.to=[];this.value=[];this.setMaxPoint=this.maxPoint=-1;this.nextLayer=null}Ca(z,[{key:"finishChunk",value:function(x){this.chunks.push(new Ia(this.from,this.to,this.value,this.maxPoint));this.chunkPos.push(this.chunkStart);this.chunkStart=-1;this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint);this.maxPoint=-1;x&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(x,y,M){this.addInner(x,y,M)||(this.nextLayer||(this.nextLayer=
new z)).add(x,y,M)}},{key:"addInner",value:function(x,y,M){var Q=x-this.lastTo||M.startSide-this.last.endSide;if(0>=Q&&0>(x-this.lastFrom||M.startSide-this.last.startSide))throw Error("Ranges must be added sorted by `from` position and `startSide`");if(0>Q)return!1;250==this.from.length&&this.finishChunk(!0);0>this.chunkStart&&(this.chunkStart=x);this.from.push(x-this.chunkStart);this.to.push(y-this.chunkStart);this.last=M;this.lastFrom=x;this.lastTo=y;this.value.push(M);M.point&&(this.maxPoint=Math.max(this.maxPoint,
y-x));return!0}},{key:"addChunk",value:function(x,y){if(0>(x-this.lastTo||y.value[0].startSide-this.last.endSide))return!1;this.from.length&&this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,y.maxPoint);this.chunks.push(y);this.chunkPos.push(x);var M=y.value.length-1;this.last=y.value[M];this.lastFrom=y.from[M]+x;this.lastTo=y.to[M]+x;return!0}},{key:"finish",value:function(){return this.finishInner(Da.empty)}},{key:"finishInner",value:function(x){this.from.length&&this.finishChunk(!1);
if(0==this.chunks.length)return x;x=new Da(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(x):x,this.setMaxPoint);this.from=null;return x}}]);return z}();D.RangeSetBuilder=ha;var aa=function(){function z(x,y,M){var Q=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;Ja(this,z);this.layer=x;this.skip=y;this.minPoint=M;this.rank=Q}Ca(z,[{key:"goto",value:function(x){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.chunkIndex=this.rangeIndex=0;this.gotoInner(x,
y,!1);return this}},{key:"gotoInner",value:function(x,y,M){for(;this.chunkIndex<this.layer.chunk.length;){var Q=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(Q)||this.layer.chunkEnd(this.chunkIndex)<x||Q.maxPoint<this.minPoint))break;this.chunkIndex++;M=!1}x=this.chunkIndex==this.layer.chunk.length?0:this.layer.chunk[this.chunkIndex].findIndex(x-this.layer.chunkPos[this.chunkIndex],-1,y);if(!M||this.rangeIndex<x)this.rangeIndex=x;this.next()}},{key:"forward",value:function(x,y){0>
(this.to-x||this.endSide-y)&&this.gotoInner(x,y,!0)}},{key:"next",value:function(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1E9;this.value=null;break}else{var x=this.layer.chunkPos[this.chunkIndex],y=this.layer.chunk[this.chunkIndex];this.from=x+y.from[this.rangeIndex];this.to=x+y.to[this.rangeIndex];this.value=y.value[this.rangeIndex];if(++this.rangeIndex==y.value.length){this.chunkIndex++;if(this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;
this.rangeIndex=0}if(0>this.minPoint||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"nextChunk",value:function(){this.chunkIndex++;this.rangeIndex=0;this.next()}},{key:"compare",value:function(x){return this.from-x.from||this.startSide-x.startSide||this.to-x.to||this.endSide-x.endSide}},{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}}]);return z}(),da=function(){function z(x){Ja(this,
z);this.heap=x}Ca(z,[{key:"goto",value:function(x){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9,M=!0,Q=!1,G=void 0;try{for(var r=this.heap[Symbol.iterator](),t;!(M=(t=r.next()).done);M=!0)t.value["goto"](x,y)}catch(k){Q=!0,G=k}finally{try{if(!M&&null!=r["return"])r["return"]()}finally{if(Q)throw G;}}for(y=this.heap.length>>1;0<=y;y--)za(this.heap,y);this.next();return this}},{key:"forward",value:function(x,y){var M=!0,Q=!1,G=void 0;try{for(var r=this.heap[Symbol.iterator](),t;!(M=
(t=r.next()).done);M=!0)t.value.forward(x,y)}catch(k){Q=!0,G=k}finally{try{if(!M&&null!=r["return"])r["return"]()}finally{if(Q)throw G;}}for(M=this.heap.length>>1;0<=M;M--)za(this.heap,M);0>(this.to-x||this.value.endSide-y)&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1E9,this.value=null,this.rank=-1;else{var x=this.heap[0];this.from=x.from;this.to=x.to;this.value=x.value;this.rank=x.rank;x.value&&x.next();za(this.heap,0)}}},{key:"startSide",get:function(){return this.value?
this.value.startSide:0}}],[{key:"from",value:function(x){for(var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,M=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,Q=[],G=0;G<x.length;G++)for(var r=x[G];r!=Da.empty;r=r.nextLayer)r.maxPoint>=M&&Q.push(new aa(r,y,M,G));return 1==Q.length?Q[0]:new z(Q)}}]);return z}(),T=function(){function z(x,y,M){Ja(this,z);this.minPoint=M;this.active=[];this.activeTo=[];this.activeRank=[];this.minActive=-1;this.point=null;this.pointRank=this.pointFrom=
0;this.to=-1E9;this.endSide=0;this.openStart=-1;this.cursor=da.from(x,y,M)}Ca(z,[{key:"goto",value:function(x){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.cursor["goto"](x,y);this.active.length=this.activeTo.length=this.activeRank.length=0;this.minActive=-1;this.to=x;this.endSide=y;this.openStart=-1;this.next();return this}},{key:"forward",value:function(x,y){for(;-1<this.minActive&&0>(this.activeTo[this.minActive]-x||this.active[this.minActive].endSide-y);)this.removeActive(this.minActive);
this.cursor.forward(x,y)}},{key:"removeActive",value:function(x){Ma(this.active,x);Ma(this.activeTo,x);Ma(this.activeRank,x);this.minActive=Ea(this.active,this.activeTo)}},{key:"addActive",value:function(x){var y=0,M=this.cursor,Q=M.value,G=M.to;for(M=M.rank;y<this.activeRank.length&&this.activeRank[y]<=M;)y++;ra(this.active,y,Q);ra(this.activeTo,y,G);ra(this.activeRank,y,M);x&&ra(x,y,this.cursor.from);this.minActive=Ea(this.active,this.activeTo)}},{key:"next",value:function(){var x=this.to;this.point=
null;for(var y=0>this.openStart?[]:null,M=0;;){var Q=this.minActive;if(-1<Q&&0>(this.activeTo[Q]-this.cursor.from||this.active[Q].endSide-this.cursor.startSide)){if(this.activeTo[Q]>x){this.to=this.activeTo[Q];this.endSide=this.active[Q].endSide;break}this.removeActive(Q);y&&Ma(y,Q)}else if(this.cursor.value)if(this.cursor.from>x){this.to=this.cursor.from;this.endSide=this.cursor.startSide;break}else if(Q=this.cursor.value,Q.point){this.point=Q;this.pointFrom=this.cursor.from;this.pointRank=this.cursor.rank;
this.to=this.cursor.to;this.endSide=Q.endSide;this.cursor.from<x&&(M=1);this.cursor.next();this.to>x&&this.forward(this.to,this.endSide);break}else this.addActive(y),this.cursor.next();else{this.to=this.endSide=1E9;break}}if(y){for(Q=0;Q<y.length&&y[Q]<x;)Q++;this.openStart=Q+M}}},{key:"activeForPoint",value:function(x){if(!this.active.length)return this.active;for(var y=[],M=0;M<this.active.length&&!(this.activeRank[M]>this.pointRank);M++)(this.activeTo[M]>x||this.activeTo[M]==x&&this.active[M].endSide>
this.point.endSide)&&y.push(this.active[M]);return y}},{key:"openEnd",value:function(x){for(var y=0;y<this.activeTo.length&&this.activeTo[y]>x;)y++;return y}}]);return z}()};
shadow$provide[5]=function(na,Pa,lb,D){Object.defineProperty(D,"__esModule",{value:!0});var Ja={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",
162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Ka={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"\x26",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"\x3c",189:"_",190:"\x3e",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};na="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent);var Ca="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor);
Pa="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent);lb="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var Ra="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),wa=na&&(lb||57>+na[1])||Pa&&lb;for(na=0;10>na;na++)Ja[48+na]=Ja[96+na]=String(na);for(na=1;24>=na;na++)Ja[na+111]="F"+na;for(na=65;90>=na;na++)Ja[na]=String.fromCharCode(na+32),Ka[na]=String.fromCharCode(na);for(var za in Ja)Ka.hasOwnProperty(za)||(Ka[za]=
Ja[za]);D.base=Ja;D.keyName=function(Fa){Fa=!(wa&&(Fa.ctrlKey||Fa.altKey||Fa.metaKey)||(Ca||Ra)&&Fa.shiftKey&&Fa.key&&1==Fa.key.length)&&Fa.key||(Fa.shiftKey?Ka:Ja)[Fa.keyCode]||Fa.key||"Unidentified";"Esc"==Fa&&(Fa="Escape");"Del"==Fa&&(Fa="Delete");"Left"==Fa&&(Fa="ArrowLeft");"Up"==Fa&&(Fa="ArrowUp");"Right"==Fa&&(Fa="ArrowRight");"Down"==Fa&&(Fa="ArrowDown");return Fa};D.shift=Ka};
shadow$provide[6]=function(na,Pa,lb,D){function Ja(q,e,a){Ja="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(c,d,g){for(;!Object.prototype.hasOwnProperty.call(c,d)&&(c=wa(c),null!==c););if(c)return d=Object.getOwnPropertyDescriptor(c,d),d.get?d.get.call(g):d.value};return Ja(q,e,a||q)}function Ka(q){Ka="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?
"symbol":typeof e};return Ka(q)}function Ca(q,e){return!e||"object"!==Ka(e)&&"function"!==typeof e?Ra(q):e}function Ra(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function wa(q){wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return wa(q)}function za(q,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");q.prototype=
Object.create(e&&e.prototype,{constructor:{value:q,writable:!0,configurable:!0}});e&&Fa(q,e)}function Fa(q,e){Fa=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return Fa(q,e)}function Ma(q){if(Array.isArray(q)){var e=0;for(var a=Array(q.length);e<q.length;e++)a[e]=q[e];e=a}else e=void 0;e||(e=Symbol.iterator in Object(q)||"[object Arguments]"===Object.prototype.toString.call(q)?Array.from(q):void 0);if(!(q=e))throw new TypeError("Invalid attempt to spread non-iterable instance");return q}
function ra(q,e){if(!(q instanceof e))throw new TypeError("Cannot call a class as a function");}function Ea(q,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(q,c.key,c)}}function ja(q,e,a){e&&Ea(q.prototype,e);a&&Ea(q,a);return q}function Ia(q){return q.getSelection?q.getSelection():document.getSelection()}function Da(q){var e=q.isCollapsed;e&&jb.chrome&&q.rangeCount&&!q.getRangeAt(0).collapsed&&(e=!1);return e}
function ha(q,e){if(!e.anchorNode)return!1;try{return q.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)}catch(a){return!1}}function aa(q){if(3==q.nodeType){var e=document.createRange();e.setEnd(q,q.nodeValue.length);e.setStart(q,0);return e.getClientRects()}return 1==q.nodeType?q.getClientRects():[]}function da(q,e,a,c){return a?H(q,e,a,c,-1)||H(q,e,a,c,1):!1}function T(q){for(var e=0;;e++)if(q=q.previousSibling,!q)return e}function H(q,e,a,c,d){for(;;){if(q==a&&e==c)return!0;
if(e==(0>d?0:z(q))){if("DIV"==q.nodeName)return!1;var g=q.parentNode;if(!g||1!=g.nodeType)return!1;e=T(q)+(0>d?0:1);q=g}else if(1==q.nodeType)q=q.childNodes[e+(0>d?-1:0)],e=0>d?z(q):0;else return!1}}function z(q){return 3==q.nodeType?q.nodeValue.length:q.childNodes.length}function x(q,e){e=e?q.left:q.right;return{left:e,right:e,top:q.top,bottom:q.bottom}}function y(q){if(q.setActive)return q.setActive();if(Ab)return q.focus(Ab);for(var e=[],a=q;a&&(e.push(a,a.scrollTop,a.scrollLeft),a!=a.ownerDocument);a=
a.parentNode);q.focus(null==Ab?{get preventScroll(){Ab={preventScroll:!0};return!0}}:void 0);if(!Ab)for(Ab=!1,q=0;q<e.length;){a=e[q++];var c=e[q++],d=e[q++];a.scrollTop!=c&&(a.scrollTop=c);a.scrollLeft!=d&&(a.scrollLeft=d)}}function M(q){var e=q.nextSibling;q.parentNode.removeChild(q);return e}function Q(q,e,a){for(var c=0,d=0;d<q.children.length;d++){var g=q.children[d],m=c+g.length;if(m!=c&&(0>=a||m==q.length?m>=e:m>e))return g.coordsAt(e-c,a);c=m}return q.dom.lastChild.getBoundingClientRect()}
function G(q,e,a,c){var d=e,g=e,m=0;0==e&&0>a||e==c&&0<=a?jb.chrome||jb.gecko||(e?(d--,m=1):(g++,m=-1)):0>a?d--:g++;e=document.createRange();e.setEnd(q,g);e.setStart(q,d);q=e.getBoundingClientRect();return m?x(q,0>m):q}function r(q,e,a,c,d,g){var m=q.childCursor(),v=m.findPos(a,1),N=v.i;v=v.off;var R=m.findPos(e,-1);m=R.i;R=R.off;e-=a;a=!0;var X=!1,ba=void 0;try{for(var qa=c[Symbol.iterator](),va;!(a=(va=qa.next()).done);a=!0)e+=va.value.length}catch(La){X=!0,ba=La}finally{try{if(!a&&null!=qa["return"])qa["return"]()}finally{if(X)throw ba;
}}q.length+=e;qa=q.children;if(m==N&&R){va=qa[m];if(1==c.length&&va.merge(R,v,c[0],d,g))return;if(0==c.length){va.merge(R,v,null,d,g);return}v=va.slice(v);v.merge(0,0,c[c.length-1],0,g)?c[c.length-1]=v:c.push(v);N++;g=v=0}v?(va=qa[N],c.length&&va.merge(0,v,c[c.length-1],0,g)?(c.pop(),g=0):va.merge(0,v,null,0,0)):N<qa.length&&c.length&&qa[N].merge(0,0,c[c.length-1],0,g)&&(c.pop(),g=0);R?(v=qa[m],c.length&&v.merge(R,v.length,c[0],d,0)?(c.shift(),d=0):v.merge(R,v.length,null,0,0),m++):m&&c.length&&(v=
qa[m-1],v.merge(v.length,v.length,c[0],d,0)&&(c.shift(),d=0));for(;m<N&&c.length&&qa[N-1].become(c[c.length-1]);)c.pop(),N--,g=0;for(;m<N&&c.length&&qa[m].become(c[0]);)c.shift(),m++,d=0;!c.length&&m&&N<qa.length&&d&&g&&qa[N].merge(0,0,qa[m-1],d,g)&&m--;(c.length||m!=N)&&q.replaceChildren(m,N,c)}function t(q,e,a){for(var c=0,d=0;c<e.length;c++){var g=e[c],m=d+g.length;if(!(m==d&&0>=g.getSide())){if(a>d&&a<m&&g.dom.parentNode==q)return g.domAtPos(a-d);if(a<=d)break;d=m}}for(;0<c;c--)if(a=e[c-1].dom,
a.parentNode==q)return gc.after(a);return new gc(q,0)}function k(q,e,a){var c,d=q.children;0<a&&e instanceof Mc&&d.length&&(c=d[d.length-1])instanceof Mc&&c.mark.eq(e.mark)?k(c,e.children[0],a-1):(d.push(e),e.setParent(q));q.length+=e.length}function h(q,e){for(var a in q)"class"==a&&e["class"]?e["class"]+=" "+q["class"]:"style"==a&&e.style?e.style+=";"+q.style:e[a]=q[a];return e}function l(q,e){if(q==e)return!0;if(!q||!e)return!1;var a=Object.keys(q),c=Object.keys(e);if(a.length!=c.length)return!1;
for(var d=0;d<a.length;d++){var g=a[d];if(-1==c.indexOf(g)||q[g]!==e[g])return!1}return!0}function u(q,e,a){if(e)for(var c in e)a&&c in a||q.removeAttribute(c);if(a)for(var d in a)e&&e[d]==a[d]||q.setAttribute(d,a[d])}function J(q){var e=q.inclusiveStart,a=q.inclusiveEnd;null==e&&(e=q.inclusive);null==a&&(a=q.inclusive);return{start:e||!1,end:a||!1}}function F(q,e,a){var c=a.length-1;0<=c&&a[c]+4>q?a[c]=Math.max(a[c],e):a.push(q,e)}function A(q,e){var a=Object.create(null),c;for(c in e){var d=c.split(/\s*,\s*/).map(function(g){var m=
q,v;m==Cc&&(v=/^(.*?)@(light|dark)$/.exec(g))&&(m="dark"==v[2]?Tc:Uc,g=v[1]);g=g.split(".");m="."+m+("wrap"==g[0]?"":" /*|*/ ");for(v=1;v<=g.length;v++)m+=".cm-"+g.slice(0,v).join("-");return m}).join(", ");a[d]=e[c]}return new bc.StyleModule(a,{generateClasses:!1})}function E(q){q=q.split(".");for(var e="",a=1;a<=q.length;a++)e+=(e?" ":"")+"cm-"+q.slice(0,a).join("-");return e}function O(q){for(var e=[],a=0;a<q.length;a++)e.push(1<<+q[a]);return e}function U(q,e){var a=q.length;e=e==Vc?1:2;if(!q||
1==e&&!cd.test(q))return[new tc(0,a,0)];for(var c=0,d=e,g=e;c<a;c++){var m=q.charCodeAt(c);m=247>=m?dd[m]:1424<=m&&1524>=m?2:1536<=m&&1785>=m?ed[m-1536]:1774<=m&&2220>=m?4:8192<=m&&8203>=m?256:8204==m?256:1;512==m?m=d:8==m&&4==g&&(m=16);Eb[c]=4==m?2:m;m&7&&(g=m);d=m}g=0;for(q=m=e;g<a;g++){c=Eb[g];if(128==c)g<a-1&&m==Eb[g+1]&&m&24?c=Eb[g]=m:Eb[g]=256;else if(64==c){for(d=g+1;d<a&&64==Eb[d];)d++;for(m=g&&8==m||d<a&&8==Eb[d]?1==q?1:8:256;g<d;g++)Eb[g]=m;g=d-1}else 8==c&&1==q&&(Eb[g]=1);m=c;c&7&&(q=c)}for(c=
0;c<a;c++)if(256==Eb[c]){for(q=c+1;q<a&&256==Eb[q];)q++;d=1==(c?Eb[c-1]:e);for(d=d==(1==(q<a?Eb[q]:e))?d?1:2:e;c<q;c++)Eb[c]=d;c=q-1}q=[];if(1==e)for(e=0;e<a;){c=e;for(d=1!=Eb[e++];e<a&&d==(1!=Eb[e]);)e++;if(d)for(d=e;d>c;){g=d;for(m=2!=Eb[--d];d>c&&m==(2!=Eb[d-1]);)d--;q.push(new tc(d,g,m?2:1))}else q.push(new tc(c,e,0))}else for(e=0;e<a;){c=e;for(d=2==Eb[e++];e<a&&d==(2==Eb[e]);)e++;q.push(new tc(c,e,d?1:2))}return q}function ca(q,e,a,c,d){var g,m=c.head-q.from,v=-1;if(0==m){if(!d||!q.length)return null;
e[0].level!=a&&(m=e[0].side(!1,a),v=0)}else if(m==q.length){if(d)return null;var N=e[e.length-1];N.level!=a&&(m=N.side(!0,a),v=e.length-1)}0>v&&(v=tc.find(e,m,null!==(g=c.bidiLevel)&&void 0!==g?g:-1,c.assoc));c=e[v];m==c.side(d,a)&&(c=e[v+=d?1:-1],m=c.side(!d,a));N=d==(c.dir==a);g=q.findClusterBreak(m,N);Wc=q.slice(Math.min(m,g),Math.max(m,g));return g!=c.side(d,a)?Qa.EditorSelection.cursor(g+q.from,N?-1:1,c.level):(e=v==(d?e.length-1:0)?null:e[v+(d?1:-1)])||c.level==a?e&&e.level<c.level?Qa.EditorSelection.cursor(e.side(!d,
a)+q.from,0,e.level):Qa.EditorSelection.cursor(g+q.from,0,c.level):Qa.EditorSelection.cursor(d?q.to:q.from,d?-1:1,a)}function ka(q,e){var a,c;null==q[e]&&(a=q[e-1])instanceof w&&(c=q[e+1])instanceof w&&q.splice(e-1,3,new w(a.length+1+c.length))}function xa(q,e,a){var c=new V;Lb.RangeSet.compare(q,e,a,c);return c.changes}function Ga(q,e,a){q=q.facet(Na);if(q.length)q[0](e);else if(window.onerror)window.onerror(String(e),a,void 0,void 0,e);else a?console.error(a+":",e):console.error(e)}function Ta(q,
e,a){var c=[],d=q,g=0;Lb.RangeSet.spans(a.facet(Fb),q,e,{span:function(){},point:function(m,v){m>d&&(c.push({from:d,to:m}),g+=m-d);d=v},minPointSize:20});d<e&&(c.push({from:d,to:e}),g+=e-d);return{total:g,ranges:c}}function fb(q,e){var a=q.ranges;if(0>=e)return a[0].from;if(1<=e)return a[a.length-1].to;q=Math.floor(q.total*e);for(e=0;;e++){var c=a[e],d=c.from;c=c.to-d;if(q<=c)return d+q;q-=c}}function db(q,e){var a=0,c=!0,d=!1,g=void 0;try{for(var m=q.ranges[Symbol.iterator](),v;!(c=(v=m.next()).done);c=
!0){var N=v.value,R=N.from,X=N.to;if(e<=X){a+=e-R;break}a+=X-R}}catch(ba){d=!0,g=ba}finally{try{if(!c&&null!=m["return"])m["return"]()}finally{if(d)throw g;}}return a/q.total}function ub(q,e){var a=!0,c=!1,d=void 0;try{for(var g=q[Symbol.iterator](),m;!(a=(m=g.next()).done);a=!0){var v=m.value;if(e(v))return v}}catch(N){c=!0,d=N}finally{try{if(!a&&null!=g["return"])g["return"]()}finally{if(c)throw d;}}}function nb(q,e){var a=Ia(q.root);a=a.focusNode&&wb(a.focusNode,a.focusOffset,0);if(!a)return mb.none;
var c=q.docView.nearest(a),d=a;if(c instanceof yc){for(;c.parent instanceof yc;)c=c.parent;var g=c.posAtStart;var m=g+c.length;d=c.dom}else if(c instanceof sb){for(;d.parentNode!=c.dom;)d=d.parentNode;for(m=d.previousSibling;m&&!Sb.get(m);)m=m.previousSibling;g=m=m?Sb.get(m).posAtEnd:c.posAtStart}else return mb.none;c=e.mapPos(g,1);e=Math.max(c,e.mapPos(m,-1));m=a.nodeValue;q=q.state;if(e-c<m.length)if(q.sliceDoc(c,Math.min(q.doc.length,c+m.length))==m)e=c+m.length;else if(q.sliceDoc(Math.max(0,e-
m.length),e)==m)c=e-m.length;else return mb.none;else if(q.sliceDoc(c,e)!=m)return mb.none;return mb.set(mb.replace({widget:new Bd({top:d,text:a})}).range(c,e))}function wb(q,e,a){for(;;){if(3==q.nodeType)return q;if(1==q.nodeType&&0<e&&0>=a)q=q.childNodes[e-1],e=z(q);else if(1==q.nodeType&&e<q.childNodes.length&&0<=a)q=q.childNodes[e],e=0;else return null}}function Gb(q,e){return 1!=q.nodeType?0:(e&&"false"==q.childNodes[e-1].contentEditable?1:0)|(e<q.childNodes.length&&"false"==q.childNodes[e].contentEditable?
2:0)}function Db(q,e,a){var c=new Cd;Lb.RangeSet.compare(q,e,a,c);return c.changes}function xb(q,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,c=q.charCategorizer(e),d=q.doc.lineAt(e),g=e-d.from;if(0==d.length)return Qa.EditorSelection.cursor(e);0==g?a=1:g==d.length&&(a=-1);var m=g,v=g;0>a?m=d.findClusterBreak(g,!1):v=d.findClusterBreak(g,!0);for(a=c(d.slice(m,v));0<m;){g=d.findClusterBreak(m,!1);if(c(d.slice(g,m))!=a)break;m=g}for(;v<d.length;){g=d.findClusterBreak(v,!0);if(c(d.slice(v,
g))!=a)break;v=g}return Qa.EditorSelection.range(m+d.from,v+d.from)}function ob(q,e){return q.top<e.bottom-1&&q.bottom>e.top+1}function pb(q,e){return e<q.top?{top:e,left:q.left,right:q.right,bottom:q.bottom}:q}function qb(q,e){return e>q.bottom?{top:q.top,left:q.left,right:q.right,bottom:e}:q}function Bb(q,e,a){for(var c,d,g,m,v,N,R,X,ba=q.firstChild;ba;ba=ba.nextSibling)for(var qa=aa(ba),va=0;va<qa.length;va++){var La=qa[va];d&&ob(d,La)&&(La=pb(qb(La,d.bottom),d.top));var ab=La.left>e?La.left-e:
Math.max(0,e-La.right),kb=La.top>a?La.top-a:Math.max(0,a-La.bottom);if(0==ab&&0==kb)return 3==ba.nodeType?dc(ba,e,a):Bb(ba,e,a);if(!c||m>kb||m==kb&&g>ab)c=ba,d=La,g=ab,m=kb;0==ab?a>La.bottom&&(!R||R.bottom<La.bottom)?(v=ba,R=La):a<La.top&&(!X||X.top>La.top)&&(N=ba,X=La):R&&ob(R,La)?R=qb(R,La.bottom):X&&ob(X,La)&&(X=pb(X,La.top))}R&&R.bottom>=a?(c=v,d=R):X&&X.top<=a&&(c=N,d=X);if(!c)return{node:q,offset:0};m=Math.max(d.left,Math.min(d.right,e));if(3==c.nodeType)return dc(c,m,a);if(!g&&"true"==c.contentEditable)return Bb(c,
m,a);e=Array.prototype.indexOf.call(q.childNodes,c)+(e>=(d.left+d.right)/2?1:0);return{node:q,offset:e}}function dc(q,e,a){for(var c=q.nodeValue.length,d=document.createRange(),g=0;g<c;g++){d.setEnd(q,g+1);d.setStart(q,g);for(var m=d.getClientRects(),v=0;v<m.length;v++){var N=m[v];if(N.top!=N.bottom&&N.left-1<=e&&N.right+1>=e&&N.top-1<=a&&N.bottom+1>=a){a=e=e>=(N.left+N.right)/2;if(jb.chrome||jb.gecko)d.setEnd(q,g),d.getBoundingClientRect().left==N.right&&(a=!e);return{node:q,offset:g+(a?1:0)}}}}return{node:q,
offset:0}}function Cb(q,e){for(var a=e.x,c=e.y,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,g=q.contentDOM.getBoundingClientRect(),m,v=q.defaultLineHeight/2,N=!1;;){m=q.blockAtHeight(c,g.top);if(m.top>c||m.bottom<c){d=m.top>c?-1:1;c=Math.min(m.bottom-v,Math.max(m.top+v,c));if(N)return-1;N=!0}if(m.type==Hb.Text)break;c=0<d?m.bottom+v:m.top-v}d=m.from;if(d<q.viewport.from)return 0==q.viewport.from?0:-1;if(d>q.viewport.to)return q.viewport.to==q.state.doc.length?q.state.doc.length:-1;
a=Math.max(g.left+1,Math.min(g.right-1,a));m=q.root;v=m.elementFromPoint(a,c);g=-1;if(v&&q.contentDOM.contains(v)&&!(q.docView.nearest(v)instanceof Dc))if(m.caretPositionFromPoint){if(m=m.caretPositionFromPoint(a,c)){var R=m.offsetNode;g=m.offset}}else m.caretRangeFromPoint&&(m=m.caretRangeFromPoint(a,c))&&(R=m.startContainer,g=m.startOffset);R||(R=sb.find(q.docView,d),a=Bb(R.dom,a,c),R=a.node,g=a.offset);return q.docView.posFromDOM(R,g)}function lc(q,e,a,c){for(var d=q.state.doc.lineAt(e.head),g=
q.bidiSpans(d),m=null;;){var v=ca(d,g,q.textDirection,e,a),N=Wc;if(!v){if(d.number==(a?q.state.doc.lines:1))return e;N="\n";d=q.state.doc.line(d.number+(a?1:-1));g=q.bidiSpans(d);v=Qa.EditorSelection.cursor(a?d.from:d.to)}if(!m){if(!c)return v;m=c(N)}else if(!m(N))return e;e=v}}function rc(q,e,a){var c=q.state.charCategorizer(e),d=c(a);return function(g){g=c(g);d==Qa.CharCategory.Space&&(d=g);return d==g}}function Z(q,e){if(q.state.selection.primary.empty)return!1;q=Ia(q.root);if(0==q.rangeCount)return!0;
q=q.getRangeAt(0).getClientRects();for(var a=0;a<q.length;a++){var c=q[a];if(c.left<=e.clientX&&c.right>=e.clientX&&c.top<=e.clientY&&c.bottom>=e.clientY)return!0}return!1}function L(q,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var a=e.target,c;a!=q.contentDOM;a=a.parentNode)if(!a||11==a.nodeType||(c=Sb.get(a))&&c.ignoreEvent(e))return!1;return!0}function K(q){var e=q.dom.parentNode;if(e){var a=e.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px";
a.focus();setTimeout(function(){q.focus();a.remove();C(q,a.value)},50)}}function C(q,e){var a=q.state,c=1,d=a.toText(e),g=d.lines==a.selection.ranges.length;var m=fd&&a.selection.ranges.every(function(v){return v.empty})&&fd==d.toString()?{changes:a.selection.ranges.map(function(v){return a.doc.lineAt(v.from)}).filter(function(v,N,R){return 0==N||R[N-1]!=v}).map(function(v){return{from:v.from,insert:(g?d.line(c++).slice():e)+a.lineBreak}})}:g?a.changeByRange(function(v){var N=d.line(c++);return{changes:{from:v.from,
to:v.to,insert:N.slice()},range:Qa.EditorSelection.cursor(v.from+N.length)}}):a.replaceSelection(d);q.dispatch(m,{annotations:Qa.Transaction.userEvent.of("paste"),scrollIntoView:!0})}function S(q,e,a,c){if(1==c)return Qa.EditorSelection.cursor(e,a);if(2==c)return xb(q.state,e,a);if(a=sb.find(q.docView,e))return Qa.EditorSelection.range(a.posAtStart,a.posAtEnd);q=q.state.doc.lineAt(e);return Qa.EditorSelection.range(q.from,q.to)}function W(q,e){var a=q.posAtCoords({x:e.clientX,y:e.clientY});if(0>a)a=
null;else{var c=e.clientX;e=e.clientY;var d=sb.find(q.docView,a);if(d){var g=a-d.posAtStart;c=0==g?1:g==d.length?-1:(q=d.coordsAt(g,-1))&&e>=q.top&&e<=q.bottom&&c>=q.left&&c<=q.right?-1:(d=d.coordsAt(g,1))&&e>=d.top&&e<=d.bottom&&c>=d.left&&c<=d.right?1:q&&e>=q.top&&e<=q.bottom?-1:1}else c=1;a={pos:a,bias:c}}return a}function ea(q){if(!Dd)return q.detail;var e=rd;rd=q;return sd=!e||e.timeStamp>Date.now()-400&&2>Math.abs(e.clientX-q.clientX)&&2>Math.abs(e.clientY-q.clientY)?(sd+1)%3:1}function ia(q,
e){var a=W(q,e),c=ea(e),d=q.state.selection,g=a,m=e;return{update:function(v){v.changes&&(a&&(a.pos=v.changes.mapPos(a.pos)),d=d.map(v.changes))},get:function(v,N,R){if(v.clientX==m.clientX&&v.clientY==m.clientY)var X=g;else X=g=W(q,v),m=v;if(!X||!a)return d;v=S(q,X.pos,X.bias,c);if(a.pos!=X.pos&&!N){var ba=S(q,a.pos,a.bias,c);X=Math.min(ba.from,v.from);ba=Math.max(ba.to,v.to);v=X<v.from?Qa.EditorSelection.range(X,ba):Qa.EditorSelection.range(ba,X)}return N?d.replaceRange(d.primary.extend(v.from,
v.to)):R?d.addRange(v):Qa.EditorSelection.create([v])}}}function Aa(q,e){var a=q.dom.parentNode;if(a){var c=a.appendChild(document.createElement("textarea"));c.style.cssText="position: fixed; left: -10000px; top: 10px";c.value=e;c.focus();c.selectionEnd=e.length;c.selectionStart=0;setTimeout(function(){c.remove();q.focus()},50)}}function Ba(q,e,a){for(;e;){var c=Sb.get(e);if(c&&c.parent==q)return c;c=e.parentNode;e=c!=q.dom?c:0<a?e.nextSibling:e.previousSibling}return null}function Ha(q,e,a,c){var d,
g=q.state.selection.primary,m;if(-1<e&&(m=q.docView.domBoundsAround(e,a,0))){var v=m;e=v.from;var N=v.to;v=q.docView.impreciseHead||q.docView.impreciseAnchor?[]:Xa(q.contentDOM,q.root);a=new Ed(v);a.readRange(m.startDOM,m.endDOM);v=Ya(v,e);m=g.from;var R=null;8===q.inputState.lastKeyCode&&q.inputState.lastKeyTime>Date.now()-100&&(m=g.to,R="end");(m=ya(q.state.doc.sliceString(e,N,"﷚"),a.text,m-e,R))&&(d={from:e+m.from,to:e+m.toA,insert:Qa.Text.of(a.text.slice(m.from,m.toB).split("﷚"))})}else q.hasFocus&&
(e=Ia(q.root),a=q.docView,m=a.impreciseHead,a=a.impreciseAnchor,m=m&&m.node==e.focusNode&&m.offset==e.focusOffset?q.state.selection.primary.head:q.docView.posFromDOM(e.focusNode,e.focusOffset),e=a&&a.node==e.anchorNode&&a.offset==e.anchorOffset?q.state.selection.primary.anchor:Da(e)?m:q.docView.posFromDOM(e.anchorNode,e.anchorOffset),m!=g.head||e!=g.anchor)&&(v=Qa.EditorSelection.single(e,m));if(d||v)if(!d&&c&&!g.empty&&v&&v.primary.empty&&(d={from:g.from,to:g.to,insert:q.state.doc.slice(g.from,g.to)}),
d){var X=q.state;if(!jb.android||!(d.from==g.from&&d.to==g.to&&1==d.insert.length&&2==d.insert.lines&&Va(q,"Enter",10)||d.from==g.from-1&&d.to==g.to&&0==d.insert.length&&Va(q,"Backspace",8)||d.from==g.from&&d.to==g.to+1&&0==d.insert.length&&Va(q,"Delete",46))){var ba=d.insert.toString();q.state.facet(Ua).some(function(qa){return qa(q,d.from,d.to,ba)})||(d.from>=g.from&&d.to<=g.to&&d.to-d.from>=(g.to-g.from)/3?(v=g.from<d.from?X.doc.sliceString(g.from,d.from,"﷚"):"",g=g.to>d.to?X.doc.sliceString(d.to,
g.to,"﷚"):"",g=X.replaceSelection(Qa.Text.of((v+d.insert.sliceString(0,void 0,"﷚")+g).split("﷚")))):(g=X.changes(d),g={changes:g,selection:v&&!X.selection.primary.eq(v.primary)&&v.primary.to<=g.newLength?X.selection.replaceRange(v.primary):void 0}),q.dispatch(g,{scrollIntoView:!0,annotations:Qa.Transaction.userEvent.of("input")}))}}else v&&!v.primary.eq(g)&&(g=!1,q.inputState.lastSelectionTime>Date.now()-50&&("keyboardselection"==q.inputState.lastSelectionOrigin?g=!0:X=Qa.Transaction.userEvent.of(q.inputState.lastSelectionOrigin)),
q.dispatch({selection:v,scrollIntoView:g,annotations:X}))}function ya(q,e,a,c){for(var d=Math.min(q.length,e.length),g=0;g<d&&q.charCodeAt(g)==e.charCodeAt(g);)g++;if(g==d&&q.length==e.length)return null;d=q.length;for(var m=e.length;0<d&&0<m&&q.charCodeAt(d-1)==e.charCodeAt(m-1);)d--,m--;"end"==c&&(a-=d+Math.max(0,g-Math.min(d,m))-g);d<g&&q.length<e.length?(g-=a<=g&&a>=d?g-a:0,m=g+(m-d),d=g):m<g&&(g-=a<=g&&a>=m?g-a:0,d=g+(d-m),m=g);return{from:g,toA:d,toB:m}}function Sa(q){return 1==q.nodeType&&
/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(q.nodeName)}function Xa(q,e){var a=[];if(e.activeElement!=q)return a;var c=Ia(e);q=c.anchorNode;e=c.anchorOffset;var d=c.focusNode;c=c.focusOffset;q&&(a.push(new td(q,e)),d==q&&c==e||a.push(new td(d,c)));return a}function Ya(q,e){if(0==q.length)return null;var a=q[0].pos;q=2==q.length?q[1].pos:a;return-1<a&&-1<q?Qa.EditorSelection.single(a+e,q+e):null}function Va(q,e,a){a={key:e,code:e,keyCode:a,which:a,cancelable:!0};e=new KeyboardEvent("keydown",
a);q.contentDOM.dispatchEvent(e);a=new KeyboardEvent("keyup",a);q.contentDOM.dispatchEvent(a);return e.defaultPrevented||a.defaultPrevented}function cb(q,e){return null==q?e.getBoundingClientRect().top:q}function rb(){window.addEventListener("resize",function(){-1==gd&&(gd=setTimeout(Kb,50))})}function Kb(){gd=-1;for(var q=document.querySelectorAll(".cm-content"),e=0;e<q.length;e++){var a=Sb.get(q[e]);a&&a.editorView.requestMeasure()}}function sc(q,e,a){e.altKey&&(q="Alt-"+q);e.ctrlKey&&(q="Ctrl-"+
q);e.metaKey&&(q="Meta-"+q);!1!==a&&e.shiftKey&&(q="Shift-"+q);return q}function yb(q){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Fd,a=Object.create(null),c=Object.create(null),d=function(Mb,Wb){var Ec=c[Mb];if(null==Ec)c[Mb]=Wb;else if(Ec!=Wb)throw Error("Key binding "+Mb+" is used both as a regular binding and as a multi-stroke prefix");},g=function(Mb,Wb,Ec,hd){var Xc=a[Mb]||(a[Mb]=Object.create(null)),kd=Wb.split(/ (?!$)/).map(function(zc){zc=zc.split(/-(?!$)/);var Xb=zc[zc.length-
1];"Space"==Xb&&(Xb=" ");for(var Yc,Nc,ud,id,jd=0;jd<zc.length-1;++jd){var Fc=zc[jd];if(/^(cmd|meta|m)$/i.test(Fc))id=!0;else if(/^a(lt)?$/i.test(Fc))Yc=!0;else if(/^(c|ctrl|control)$/i.test(Fc))Nc=!0;else if(/^s(hift)?$/i.test(Fc))ud=!0;else if(/^mod$/i.test(Fc))"mac"==e?id=!0:Nc=!0;else throw Error("Unrecognized modifier name: "+Fc);}Yc&&(Xb="Alt-"+Xb);Nc&&(Xb="Ctrl-"+Xb);id&&(Xb="Meta-"+Xb);ud&&(Xb="Shift-"+Xb);return Xb});Wb=function(zc){var Xb=kd.slice(0,zc).join(" ");d(Xb,!0);Xc[Xb]||(Xc[Xb]=
{preventDefault:!0,commands:[function(Yc){var Nc=Ac={view:Yc,prefix:Xb,scope:Mb};setTimeout(function(){Ac==Nc&&(Ac=null)},Gd);return!0}]})};for(var ld=1;ld<kd.length;ld++)Wb(ld);Wb=kd.join(" ");d(Wb,!1);Wb=Xc[Wb]||(Xc[Wb]={preventDefault:!1,commands:[]});Wb.commands.push(Ec);hd&&(Wb.preventDefault=!0)},m=!0,v=!1,N=void 0;try{for(var R=q[Symbol.iterator](),X;!(m=(X=R.next()).done);m=!0){var ba=X.value,qa=ba[e]||ba.key;if(qa){var va=!0,La=!1,ab=void 0;try{for(var kb=(ba.scope?ba.scope.split(" "):["editor"])[Symbol.iterator](),
Nb;!(va=(Nb=kb.next()).done);va=!0){var uc=Nb.value;g(uc,qa,ba.run,ba.preventDefault);ba.shift&&g(uc,"Shift-"+qa,ba.shift,ba.preventDefault)}}catch(Mb){La=!0,ab=Mb}finally{try{if(!va&&null!=kb["return"])kb["return"]()}finally{if(La)throw ab;}}}}}catch(Mb){v=!0,N=Mb}finally{try{if(!m&&null!=R["return"])R["return"]()}finally{if(v)throw N;}}return a}function $b(q,e,a,c){var d=(0,Y.keyName)(e),g=1==d.length&&" "!=d,m="";Ac&&Ac.view==a&&Ac.scope==c&&(m=Ac.prefix+" ",Ac=null);var v=!!m,N=function(ab){if(ab){var kb=
!0,Nb=!1,uc=void 0;try{for(var Mb=ab.commands[Symbol.iterator](),Wb;!(kb=(Wb=Mb.next()).done);kb=!0){var Ec=Wb.value;if(Ec(a))return!0}}catch(hd){Nb=!0,uc=hd}finally{try{if(!kb&&null!=Mb["return"])Mb["return"]()}finally{if(Nb)throw uc;}}ab.preventDefault&&(v=!0)}return!1},R=!0,X=!1,ba=void 0;try{for(var qa=q[Symbol.iterator](),va;!(R=(va=qa.next()).done);R=!0){var La=va.value[c];q=void 0;if(La){if(N(La[m+sc(d,e,!g)]))return!0;if(g&&(e.shiftKey||e.altKey||e.metaKey)&&(q=Y.base[e.keyCode])&&q!=d){if(N(La[m+
sc(q,e,!0)]))return!0}else if(g&&e.shiftKey&&N(La[m+sc(d,e,!0)]))return!0}}}catch(ab){X=!0,ba=ab}finally{try{if(!R&&null!=qa["return"])qa["return"]()}finally{if(X)throw ba;}}return v}function Rb(q){var e=q.ranges;q=q.primaryIndex;if(1==e.length)return mb.none;for(var a=[],c=0;c<e.length;c++)if(c!=q){var d=e[c];a.push(d.empty?md.deco.range(d.from):Hd.range(e[c].from,e[c].to))}return mb.set(a)}function ac(){if(null==nd&&"undefined"!=typeof document&&document.body){var q=document.body.style;nd=null!=
(q.tabSize||q.MozTabSize)}return nd||!1}Object.defineProperty(D,"__esModule",{value:!0});D.highlightSpecialChars=function(){var q=[Zc.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),Id];ac()||q.push(Jd);return q};D.indentOnInput=function(){return Qa.EditorState.transactionFilter.of(function(q){if(!q.docChanged||"input"!=q.annotation(Qa.Transaction.userEvent))return q;var e=q.startState.languageDataAt("indentOnInput",q.startState.selection.primary.head);if(!e.length)return q;var a=q.newDoc,
c=q.newSelection.primary.head,d=a.lineAt(c);if(c>d.from+vd)return q;var g=a.sliceString(d.from,c);if(!e.some(function(ba){return ba.test(g)}))return q;var m=q.state,v=-1,N=[];e=!0;a=!1;c=void 0;try{d=function(){var ba=m.doc.lineAt(X.value.head);if(ba.from==v)return"continue";v=ba.from;var qa=Math.max.apply(Math,Ma(m.facet(Qa.EditorState.indentation).map(function(La){return La(new Qa.IndentContext(m),ba.from)})));if(0>qa)return"continue";var va=/^\s*/.exec(ba.slice(0,Math.min(ba.length,vd)))[0];qa=
m.indentString(qa);va!=qa&&N.push({from:ba.from,to:ba.from+va.length,insert:qa})};for(var R=m.selection.ranges[Symbol.iterator](),X;!(e=(X=R.next()).done);e=!0)d()}catch(ba){a=!0,c=ba}finally{try{if(!e&&null!=R["return"])R["return"]()}finally{if(a)throw c;}}return N.length?[q,{changes:N}]:q})};D.keymap=function(q,e){return[Kd,od.of(yb(q,e))]};D.logException=Ga;D.multipleSelections=function(){return[Qa.EditorState.allowMultipleSelections.of(!0),Ld]};D.runScopeHandlers=function(q,e,a){return $b(q.state.facet(od),
e,q,a)};D.themeClass=E;Object.defineProperty(D,"Range",{enumerable:!0,get:function(){return Lb.Range}});D.__test=D.WidgetType=D.ViewUpdate=D.ViewPlugin=D.PluginFieldProvider=D.PluginField=D.EditorView=D.Direction=D.Decoration=D.BlockType=D.BlockInfo=D.BidiSpan=void 0;var Qa=Pa(2),bc=Pa(3),Lb=Pa(4),I=Pa(0),Y=Pa(5),ta=function(q,e){var a=Array.isArray(q)?q:void 0;if(!a)if(Symbol.iterator in Object(q)||"[object Arguments]"===Object.prototype.toString.call(q)){a=[];var c=!0,d=!1,g=void 0;try{for(var m=
q[Symbol.iterator](),v;!(c=(v=m.next()).done)&&(a.push(v.value),!e||a.length!==e);c=!0);}catch(N){d=!0,g=N}finally{try{if(!c&&null!=m["return"])m["return"]()}finally{if(d)throw g;}}}else a=void 0;if(!(q=a))throw new TypeError("Invalid attempt to destructure non-iterable instance");return q}("undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}],2),la=ta[0],sa=ta[1],oa=/Edge\/(\d+)/.exec(la.userAgent),Oa=/MSIE \d/.test(la.userAgent),bb=
/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(la.userAgent),Za=!!(Oa||bb||oa),hb=!Za&&/gecko\/(\d+)/i.test(la.userAgent),Ib=!Za&&/Chrome\/(\d+)/.exec(la.userAgent),oc="webkitFontSmoothing"in sa.documentElement.style,jb={mac:/Mac/.test(la.platform),ie:Za,ie_version:Oa?sa.documentMode||6:bb?+bb[1]:oa?+oa[1]:0,gecko:hb,gecko_version:hb?+(/Firefox\/(\d+)/.exec(la.userAgent)||[0,0])[1]:0,chrome:!!Ib,chrome_version:Ib?+Ib[1]:0,ios:!Za&&/AppleWebKit/.test(la.userAgent)&&/Mobile\/\w+/.test(la.userAgent),android:/Android\b/.test(la.userAgent),
webkit:oc,safari:/Apple Computer/.test(la.vendor),webkit_version:oc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=sa.documentElement.style.tabSize?"tab-size":"-moz-tab-size"},mc=function(){function q(){ra(this,q);this.anchorNode=null;this.anchorOffset=0;this.focusNode=null;this.focusOffset=0}ja(q,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"set",
value:function(e){this.anchorNode=e.anchorNode;this.anchorOffset=e.anchorOffset;this.focusNode=e.focusNode;this.focusOffset=e.focusOffset}}]);return q}(),Ab=null,gc=function(){function q(e,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;ra(this,q);this.node=e;this.offset=a;this.precise=c}ja(q,null,[{key:"before",value:function(e,a){return new q(e.parentNode,T(e),a)}},{key:"after",value:function(e,a){return new q(e.parentNode,T(e)+1,a)}}]);return q}(),pd=[],Sb=function(){function q(){ra(this,
q);this.dom=this.parent=null;this.dirty=2}ja(q,[{key:"posBefore",value:function(e){var a=this.posAtStart,c=!0,d=!1,g=void 0;try{for(var m=this.children[Symbol.iterator](),v;!(c=(v=m.next()).done);c=!0){var N=v.value;if(N==e)return a;a+=N.length+N.breakAfter}}catch(R){d=!0,g=R}finally{try{if(!c&&null!=m["return"])m["return"]()}finally{if(d)throw g;}}throw new RangeError("Invalid child in posBefore");}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"coordsAt",value:function(e,
a){return null}},{key:"sync",value:function(e){if(this.dirty&2){var a=this.dom,c=null,d=!0,g=!1,m=void 0;try{for(var v=this.children[Symbol.iterator](),N;!(d=(N=v.next()).done);d=!0){var R=N.value;if(R.dirty){var X=c?c.nextSibling:a.firstChild;!X||R.dom||q.get(X)||R.reuseDOM(X);R.sync(e);R.dirty=0}e&&e.node==a&&c!=R.dom&&(e.written=!0);var ba=a,qa=R.dom,va=c?c.nextSibling:ba.firstChild;if(qa.parentNode==ba)for(;va!=qa;)va=M(va);else ba.insertBefore(qa,va);c=R.dom}}catch(La){g=!0,m=La}finally{try{if(!d&&
null!=v["return"])v["return"]()}finally{if(g)throw m;}}(v=c?c.nextSibling:a.firstChild)&&e&&e.node==a&&(e.written=!0);for(;v;)v=M(v)}else if(this.dirty&1){v=!0;N=!1;R=void 0;try{for(a=this.children[Symbol.iterator]();!(v=(c=a.next()).done);v=!0)d=c.value,d.dirty&&(d.sync(e),d.dirty=0)}catch(La){N=!0,R=La}finally{try{if(!v&&null!=a["return"])a["return"]()}finally{if(N)throw R;}}}}},{key:"reuseDOM",value:function(e){return!1}},{key:"localPosFromDOM",value:function(e,a){if(e==this.dom)e=this.dom.childNodes[a];
else{for(a=0==z(e)?0:0==a?-1:1;;){var c=e.parentNode;if(c==this.dom)break;0==a&&c.firstChild!=c.lastChild&&(a=e==c.firstChild?-1:1);e=c}e=0>a?e:e.nextSibling}if(e==this.dom.firstChild)return 0;for(;e&&!q.get(e);)e=e.nextSibling;if(!e)return this.length;for(c=a=0;;a++){var d=this.children[a];if(d.dom==e)return c;c+=d.length+d.breakAfter}}},{key:"domBoundsAround",value:function(e,a){for(var c=-1,d=-1,g=-1,m=-1,v=0,N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;v<this.children.length;v++){var R=
this.children[v],X=N+R.length;if(N<e&&X>a)return R.domBoundsAround(e,a,N);X>=e&&-1==c&&(c=v,d=N);if(X>=a&&-1==g){g=v;m=X;break}N=X+R.breakAfter}return{from:d,to:m,startDOM:(c?this.children[c-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:g<this.children.length-1?this.children[g+1].dom:null}}},{key:"markDirty",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.dirty&2||(this.dirty|=2,this.markParentsDirty(e))}},{key:"markParentsDirty",value:function(e){for(var a=
this.parent;a;a=a.parent){e&&(a.dirty|=2);if(a.dirty&1)break;a.dirty|=1;e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom=e;e.cmView=this}},{key:"replaceChildren",value:function(e,a){var c,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:pd;this.markDirty();for(var g=e;g<a;g++)this.children[g].parent=null;(c=this.children).splice.apply(c,[e,a-e].concat(Ma(d)));for(c=0;c<d.length;c++)d[c].setParent(this)}},
{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){return new $c(this.children,0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,this.children.length)}},{key:"childPos",value:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,a)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?
"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"editorView",get:function(){if(!this.parent)throw Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"rootView",get:function(){for(var e=this;;){var a=
e.parent;if(!a)return e;e=a}}}],[{key:"get",value:function(e){return e.cmView}}]);return q}();Sb.prototype.breakAfter=0;var $c=function(){function q(e,a,c){ra(this,q);this.children=e;this.pos=a;this.i=c;this.off=0}ja(q,[{key:"findPos",value:function(e){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(0<a||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var c=this.children[--this.i];this.pos-=c.length+c.breakAfter}}}]);
return q}(),Ob=[],yc=function(q){function e(){ra(this,e);return Ca(this,wa(e).apply(this,arguments))}za(e,q);ja(e,[{key:"become",value:function(a){return!1}},{key:"getSide",value:function(){return 0}}]);return e}(Sb);yc.prototype.children=Ob;var Gc=function(q){function e(a){ra(this,e);var c=Ca(this,wa(e).call(this));c.text=a;return c}za(e,q);ja(e,[{key:"createDOM",value:function(a){this.setDOM(a||document.createTextNode(this.text))}},{key:"sync",value:function(a){this.dom||this.createDOM();this.dom.nodeValue!=
this.text&&(a&&a.node==this.dom&&(a.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(a){if(3!=a.nodeType)return!1;this.createDOM(a);return!0}},{key:"merge",value:function(a,c,d){if(d&&(!(d instanceof e)||256<this.length-(c-a)+d.length))return!1;this.text=this.text.slice(0,a)+(d?d.text:"")+this.text.slice(c);this.markDirty();return!0}},{key:"slice",value:function(a){return new e(this.text.slice(a))}},{key:"localPosFromDOM",value:function(a,c){return a==this.dom?c:c?this.text.length:
0}},{key:"domAtPos",value:function(a){return new gc(this.dom,a)}},{key:"domBoundsAround",value:function(a,c,d){return{from:d,to:d+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(a,c){return G(this.dom,a,c,this.length)}},{key:"length",get:function(){return this.text.length}}]);return e}(yc),Mc=function(q){function e(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;ra(this,e);var g=
Ca(this,wa(e).call(this));g.mark=a;g.children=c;g.length=d;d=!0;var m=!1,v=void 0;try{for(var N=c[Symbol.iterator](),R;!(d=(R=N.next()).done);d=!0)R.value.setParent(Ra(g))}catch(X){m=!0,v=X}finally{try{if(!d&&null!=N["return"])N["return"]()}finally{if(m)throw v;}}return g}za(e,q);ja(e,[{key:"createDOM",value:function(){var a=document.createElement(this.mark.tagName);this.mark["class"]&&(a.className=this.mark["class"]);if(this.mark.attrs)for(var c in this.mark.attrs)a.setAttribute(c,this.mark.attrs[c]);
this.setDOM(a)}},{key:"sync",value:function(a){this.dom||this.createDOM();Ja(wa(e.prototype),"sync",this).call(this,a)}},{key:"merge",value:function(a,c,d,g,m){if(d&&(!(d instanceof e&&d.mark.eq(this.mark))||a&&0>=g||c<this.length&&0>=m))return!1;r(this,a,c,d?d.children:Ob,g-1,m-1);this.markDirty();return!0}},{key:"slice",value:function(a){var c=this.mark,d=[],g=0,m=!0,v=!1,N=void 0;try{for(var R=this.children[Symbol.iterator](),X;!(m=(X=R.next()).done);m=!0){var ba=X.value,qa=g+ba.length;qa>a&&d.push(g<
a?ba.slice(a-g):ba);g=qa}}catch(va){v=!0,N=va}finally{try{if(!m&&null!=R["return"])R["return"]()}finally{if(v)throw N;}}return new e(c,d,this.length-a)}},{key:"domAtPos",value:function(a){return t(this.dom,this.children,a)}},{key:"coordsAt",value:function(a,c){return Q(this,a,c)}}]);return e}(yc),Dc=function(q){function e(a,c,d){ra(this,e);var g=Ca(this,wa(e).call(this));g.widget=a;g.length=c;g.side=d;return g}za(e,q);ja(e,[{key:"slice",value:function(a){return e.create(this.widget,this.length-a,
this.side)}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(a,c,d,g,m){if(d&&(!(d instanceof e&&this.widget.compare(d.widget))||0<a&&0>=g||c<this.length&&0>=m))return!1;this.length=a+(d?d.length:0)+(this.length-c);return!0}},{key:"become",value:function(a){return a.length==this.length&&a instanceof e&&a.side==this.side&&
this.widget.constructor==a.widget.constructor?(this.widget.eq(a.widget.value)||this.markDirty(!0),this.widget=a.widget,!0):!1}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(a){return this.widget.ignoreEvent(a)}},{key:"domAtPos",value:function(a){return 0==a?gc.before(this.dom):gc.after(this.dom,a==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(a,c){c=this.dom.getClientRects();for(var d,g=0<a?c.length-1:0;!(d=
c[g],0<a?0==g:g==c.length-1||d.top<d.bottom);g+=0<a?-1:1);return d}},{key:"overrideDOMText",get:function(){if(0==this.length)return I.Text.empty;for(var a=this;a.parent;)a=a.parent;a=(a=a.editorView)&&a.state.doc;var c=this.posAtStart;return a?a.slice(c,c+this.length):I.Text.empty}}],[{key:"create",value:function(a,c,d){return new (a.customView||e)(a,c,d)}}]);return e}(yc),Tb=function(q){function e(){ra(this,e);return Ca(this,wa(e).apply(this,arguments))}za(e,q);ja(e,[{key:"domAtPos",value:function(a){return new gc(this.widget.value.text,
a)}},{key:"sync",value:function(){this.dom||this.setDOM(this.widget.toDOM(this.editorView))}},{key:"localPosFromDOM",value:function(a,c){return c?3==a.nodeType?Math.min(c,this.length):this.length:0}},{key:"ignoreMutation",value:function(){return!1}},{key:"coordsAt",value:function(a,c){return G(this.widget.value.text,a,c,this.length)}},{key:"overrideDOMText",get:function(){return null}}]);return e}(Dc),vc=function(){function q(e){ra(this,q);this.value=e}ja(q,[{key:"eq",value:function(e){return this.value===
e}},{key:"updateDOM",value:function(e){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e.value)}},{key:"ignoreEvent",value:function(e){return!0}},{key:"estimatedHeight",get:function(){return-1}},{key:"customView",get:function(){return null}}]);return q}();D.WidgetType=vc;var Hb;D.BlockType=Hb;(function(q){q[q.Text=0]="Text";q[q.WidgetBefore=1]="WidgetBefore";q[q.WidgetAfter=2]="WidgetAfter";q[q.WidgetRange=3]="WidgetRange"})(Hb||(D.BlockType=Hb=
{}));var mb=function(q){function e(a,c,d,g){ra(this,e);var m=Ca(this,wa(e).call(this));m.startSide=a;m.endSide=c;m.widget=d;m.spec=g;return m}za(e,q);ja(e,[{key:"hasHeight",value:function(){return this.widget?-1<this.widget.estimatedHeight:!1}},{key:"heightRelevant",get:function(){return!1}}],[{key:"mark",value:function(a){return new wc(a)}},{key:"widget",value:function(a){var c=a.side||0;a.block&&(c+=(2E8+1)*(0<c?1:-1));return new pc(a,c,c,!!a.block,a.widget||null,!1)}},{key:"replace",value:function(a){var c=
!!a.block,d=J(a),g=d.start;d=d.end;return new pc(a,c?-2E8*(g?2:1):1E8*(g?-1:1),c?2E8*(d?2:1):1E8*(d?1:-1),c,a.widget||null,!0)}},{key:"line",value:function(a){return new Oc(a)}},{key:"set",value:function(a){return Lb.RangeSet.of(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}}]);return e}(Lb.RangeValue);D.Decoration=mb;mb.none=Lb.RangeSet.empty;var wc=function(q){function e(a){ra(this,e);var c=J(a);var d=c.start;c=c.end;d=Ca(this,wa(e).call(this,1E8*(d?-1:1),1E8*(c?1:-1),null,a));d.tagName=
a.tagName||"span";d["class"]=a["class"]||"";d.attrs=a.attributes||null;return d}za(e,q);ja(e,[{key:"eq",value:function(a){return this==a||a instanceof e&&this.tagName==a.tagName&&this["class"]==a["class"]&&l(this.attrs,a.attrs)}},{key:"range",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(a>=c)throw new RangeError("Mark decorations may not be empty");return Ja(wa(e.prototype),"range",this).call(this,a,c)}}]);return e}(mb);wc.prototype.point=!1;var Oc=function(q){function e(a){ra(this,
e);return Ca(this,wa(e).call(this,-1E8,-1E8,null,a))}za(e,q);ja(e,[{key:"eq",value:function(a){return a instanceof e&&l(this.spec.attributes,a.spec.attributes)}},{key:"range",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(c!=a)throw new RangeError("Line decoration ranges must be zero-length");return Ja(wa(e.prototype),"range",this).call(this,a,c)}}]);return e}(mb);Oc.prototype.mapMode=Qa.MapMode.TrackBefore;Oc.prototype.point=!0;var pc=function(q){function e(a,
c,d,g,m,v){ra(this,e);a=Ca(this,wa(e).call(this,c,d,m,a));a.block=g;a.isReplace=v;a.mapMode=g?0>c?Qa.MapMode.TrackBefore:Qa.MapMode.TrackAfter:Qa.MapMode.TrackDel;return a}za(e,q);ja(e,[{key:"eq",value:function(a){var c;if(c=a instanceof e){c=this.widget;var d=a.widget;c=c==d||!!(c&&d&&c.compare(d))}return c&&this.block==a.block&&this.startSide==a.startSide&&this.endSide==a.endSide}},{key:"range",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(this.isReplace&&(a>
c||a==c&&0<this.startSide&&0>this.endSide))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&c!=a)throw new RangeError("Widget decorations can only have zero-length ranges");return Ja(wa(e.prototype),"range",this).call(this,a,c)}},{key:"type",get:function(){return this.startSide<this.endSide?Hb.WidgetRange:0>this.startSide?Hb.WidgetBefore:Hb.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&5<=this.widget.estimatedHeight}}]);return e}(mb);
pc.prototype.point=!0;var ec=Qa.Facet.define({combine:function(q){return q.join(" ")}}),xc=Qa.Facet.define({combine:function(q){return-1<q.indexOf(!0)}}),Cc=bc.StyleModule.newName(),Uc=bc.StyleModule.newName(),Tc=bc.StyleModule.newName(),ad=A(Cc,{wrap:{position:"relative !important",boxSizing:"border-box","\x26.cm-focused":{outline_fallback:"1px dotted #212121",outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},scroller:{display:"flex !important",alignItems:"flex-start !important",
fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto"},content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"content@light":{caretColor:"black"},"content@dark":{caretColor:"white"},line:{display:"block",padding:"0 2px 0 4px"},button:{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"button@light":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888",
"\x26:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"button@dark":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","\x26:active":{backgroundImage:"linear-gradient(#111, #333)"}},textfield:{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"textfield@light":{backgroundColor:"white"},"textfield@dark":{border:"1px solid #555",backgroundColor:"inherit"},secondarySelection:{backgroundColor_fallback:"#3297FD",color_fallback:"white !important",
backgroundColor:"Highlight",color:"HighlightText !important"},secondaryCursor:{display:"inline-block",verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em"},"secondaryCursor@light":{borderLeft:"1.4px solid #555"},"secondaryCursor@dark":{borderLeft:"1.4px solid #ddd"}}),Hc=E("line"),sb=function(q){function e(){ra(this,e);var a=Ca(this,wa(e).apply(this,arguments));a.children=[];a.length=0;a.prevAttrs=void 0;a.attrs=null;a.breakAfter=0;return a}za(e,q);ja(e,[{key:"merge",value:function(a,
c,d,g,m,v){if(d){if(!(d instanceof e))return!1;this.dom||d.transferDOM(this)}g&&this.setDeco(d?d.attrs:null);r(this,a,c,d?d.children:Ic,m,v);return!0}},{key:"split",value:function(a){var c=new e;c.breakAfter=this.breakAfter;if(0==this.length)return c;var d=this.childPos(a),g=d.i;if(d=d.off)c.append(this.children[g].slice(d),0),this.children[g].merge(d,this.children[g].length,null,0,0),g++;for(d=g;d<this.children.length;d++)c.append(this.children[d],0);for(;0<g&&0==this.children[g-1].length;)this.children[g-
1].parent=null,g--;this.children.length=g;this.markDirty();this.length=a;return c}},{key:"transferDOM",value:function(a){this.dom&&(a.setDOM(this.dom),a.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(a){l(this.attrs,a)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=a)}},{key:"append",value:function(a,c){k(this,a,c)}},{key:"addLineDeco",value:function(a){if(a=a.spec.attributes)this.attrs=h(a,this.attrs||
{})}},{key:"domAtPos",value:function(a){return t(this.dom,this.children,a)}},{key:"sync",value:function(a){this.dom||(this.setDOM(document.createElement("div")),this.dom.className=Hc,this.prevAttrs=this.attrs?null:void 0);void 0!==this.prevAttrs&&(u(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(Hc),this.prevAttrs=void 0);Ja(wa(e.prototype),"sync",this).call(this,a);a=this.dom.lastChild;if(!a||"BR"!=a.nodeName&&Sb.get(a)instanceof Dc)a=document.createElement("BR"),a.cmIgnore=!0,this.dom.appendChild(a)}},
{key:"measureTextSize",value:function(){if(0==this.children.length||20<this.length)return null;var a=0,c=!0,d=!1,g=void 0;try{for(var m=this.children[Symbol.iterator](),v;!(c=(v=m.next()).done);c=!0){var N=v.value;if(!(N instanceof Gc))return null;var R=aa(N.dom);if(1!=R.length)return null;a+=R[0].width}}catch(X){d=!0,g=X}finally{try{if(!c&&null!=m["return"])m["return"]()}finally{if(d)throw g;}}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:a/this.length}}},{key:"coordsAt",value:function(a,
c){return Q(this,a,c)}},{key:"match",value:function(a){return!1}},{key:"type",get:function(){return Hb.Text}}],[{key:"find",value:function(a,c){for(var d=0,g=0;;d++){var m=a.children[d];g+=m.length;if(g>=c){if(m instanceof e)return m;if(m.length)return null}g+=m.breakAfter}}}]);return e}(Sb),Ic=[],hc=function(q){function e(a,c,d){ra(this,e);var g=Ca(this,wa(e).call(this));g.widget=a;g.length=c;g.type=d;g.breakAfter=0;return g}za(e,q);ja(e,[{key:"merge",value:function(a,c,d,g,m,v){if(d&&(!(d instanceof
e&&this.widget.compare(d.widget))||0<a&&0>=m||c<this.length&&0>=v))return!1;this.length=a+(d?d.length:0)+(this.length-c);return!0}},{key:"domAtPos",value:function(a){return 0==a?gc.before(this.dom):gc.after(this.dom,a==this.length)}},{key:"split",value:function(a){var c=this.length-a;this.length=a;return new e(this.widget,c,this.type)}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"domBoundsAround",
value:function(){return null}},{key:"match",value:function(a){return a instanceof e&&a.type==this.type&&a.widget.constructor==this.widget.constructor?(a.widget.eq(this.widget.value)||this.markDirty(!0),this.widget=a.widget,this.length=a.length,this.breakAfter=a.breakAfter,!0):!1}},{key:"children",get:function(){return Ic}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Qa.Text.empty}}]);return e}(Sb),Jc=function(){function q(e,
a,c){ra(this,q);this.doc=e;this.pos=a;this.end=c;this.content=[];this.curLine=null;this.breakAtStart=0;this.openEnd=this.openStart=-1;this.text="";this.textOff=0;this.cursor=e.iter();this.skip=a}ja(q,[{key:"posCovered",value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof hc&&e.type==Hb.WidgetBefore)}},{key:"getLine",value:function(){this.curLine||this.content.push(this.curLine=
new sb);return this.curLine}},{key:"addWidget",value:function(e){this.curLine=null;this.content.push(e)}},{key:"finish",value:function(){this.posCovered()||this.getLine()}},{key:"wrapMarks",value:function(e,a){for(var c=a.length-1;0<=c;c--)e=new Mc(a[c],[e],e.length);return e}},{key:"buildText",value:function(e,a,c){for(;0<e;){if(this.textOff==this.text.length){var d=this.cursor.next(this.skip),g=d.value,m=d.lineBreak;d=d.done;this.skip=0;if(d)throw Error("Ran out of text content when drawing inline views");
if(m){this.posCovered()||this.getLine();this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1;this.curLine=null;e--;continue}else this.text=g,this.textOff=0}g=Math.min(this.text.length-this.textOff,e);this.getLine().append(this.wrapMarks(new Gc(this.text.slice(this.textOff,this.textOff+g)),a),c);e-=g;this.textOff+=g}}},{key:"span",value:function(e,a,c,d){this.buildText(a-e,c,d);this.pos=a;0>this.openStart&&(this.openStart=d)}},{key:"point",value:function(e,a,c,d,
g){e=a-e;c instanceof pc?c.block?(d=c.type,d!=Hb.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new hc(c.widget||new Pc("div"),e,d))):(c=this.wrapMarks(Dc.create(c.widget||new Pc("span"),e,c.startSide),d),this.getLine().append(c,g)):this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(c);e&&(this.textOff+e<=this.text.length?this.textOff+=e:(this.skip+=e-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=a);0>this.openStart&&(this.openStart=g)}}],[{key:"build",
value:function(e,a,c,d){e=new q(e,a,c);e.openEnd=Lb.RangeSet.spans(d,a,c,e);0>e.openStart&&(e.openStart=e.openEnd);e.finish();return e}}]);return q}(),Pc=function(q){function e(){ra(this,e);return Ca(this,wa(e).apply(this,arguments))}za(e,q);ja(e,[{key:"toDOM",value:function(){return document.createElement(this.value)}},{key:"updateDOM",value:function(a){return a.nodeName.toLowerCase()==this.value}}]);return e}(vc),cc;D.Direction=cc;(function(q){q[q.LTR=0]="LTR";q[q.RTL=1]="RTL"})(cc||(D.Direction=
cc={}));var Vc=cc.LTR,bd=cc.RTL,dd=O("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ed=O("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),
cd=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,tc=function(){function q(e,a,c){ra(this,q);this.from=e;this.to=a;this.level=c}ja(q,[{key:"side",value:function(e,a){return this.dir==a==e?this.to:this.from}},{key:"dir",get:function(){return this.level%2?bd:Vc}}],[{key:"find",value:function(e,a,c,d){for(var g=-1,m=0;m<e.length;m++){var v=e[m];if(v.from<=a&&v.to>=a){if(v.level==c)return m;if(0>g||(0!=d?0>d?v.from<a:v.to>a:e[g].level>v.level))g=m}}if(0>g)throw new RangeError("Index out of range");return g}}]);
return q}();D.BidiSpan=tc;var Eb=[],Wc="",Qc=["pre-wrap","normal","pre-line"],Rc=function(){function q(){ra(this,q);this.doc=I.Text.empty;this.lineWrapping=!1;this.direction=cc.LTR;this.heightSamples={};this.lineHeight=14;this.charWidth=7;this.lineLength=30;this.heightChanged=!1}ja(q,[{key:"heightForGap",value:function(e,a){var c=this.doc.lineAt(a).number-this.doc.lineAt(e).number+1;this.lineWrapping&&(c+=Math.ceil((a-e-c*this.lineLength*.5)/this.lineLength));return this.lineHeight*c}},{key:"heightForLine",
value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){this.doc=e;return this}},{key:"mustRefresh",value:function(e,a,c){for(var d=!1,g=0;g<e.length;g++){var m=e[g];0>m?g++:this.heightSamples[Math.floor(10*m)]||(d=!0,this.heightSamples[Math.floor(10*m)]=!0)}return d||-1<Qc.indexOf(a)!=this.lineWrapping||this.direction!=c}},{key:"refresh",value:function(e,a,c,d,g,m){var v=-1<Qc.indexOf(e);
e=Math.round(c)!=Math.round(this.lineHeight)||this.lineWrapping!=v||this.direction!=a;this.lineWrapping=v;this.direction=a;this.lineHeight=c;this.charWidth=d;this.lineLength=g;if(e)for(this.heightSamples={},a=0;a<m.length;a++)c=m[a],0>c?a++:this.heightSamples[Math.floor(10*c)]=!0;return e}}]);return q}(),Kc=function(){function q(e,a){ra(this,q);this.from=e;this.heights=a;this.index=0}ja(q,[{key:"more",get:function(){return this.index<this.heights.length}}]);return q}(),Bc=function(){function q(e,
a,c,d,g){ra(this,q);this.from=e;this.length=a;this.top=c;this.height=d;this.type=g}ja(q,[{key:"join",value:function(e){var a=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new q(this.from,this.length+e.length,this.top,this.height+e.height,a)}},{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}}]);return q}();D.BlockInfo=Bc;var b;(function(q){q[q.ByPos=0]="ByPos";q[q.ByHeight=1]="ByHeight";q[q.ByPosNoHeight=
2]="ByPosNoHeight"})(b||(b={}));var f=function(){function q(e,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2;ra(this,q);this.length=e;this.height=a;this.flags=c}ja(q,[{key:"setHeight",value:function(e,a){this.height!=a&&(1E-4<Math.abs(this.height-a)&&(e.heightChanged=!0),this.height=a)}},{key:"replace",value:function(e,a,c){return q.of(c)}},{key:"decomposeLeft",value:function(e,a){a.push(this)}},{key:"decomposeRight",value:function(e,a){a.push(this)}},{key:"applyChanges",value:function(e,
a,c,d){for(var g=this,m=d.length-1;0<=m;m--){var v=d[m],N=v.fromA,R=v.toA,X=v.fromB;v=v.toB;var ba=g.lineAt(N,b.ByPosNoHeight,a,0,0),qa=ba.to>=R?ba:g.lineAt(R,b.ByPosNoHeight,a,0,0);v+=qa.to-R;for(R=qa.to;0<m&&ba.from<=d[m-1].toA;)N=d[m-1].fromA,X=d[m-1].fromB,m--,N<ba.from&&(ba=g.lineAt(N,b.ByPosNoHeight,a,0,0));X+=ba.from-N;N=ba.from;X=P.build(c,e,X,v);g=g.replace(N,R,X)}return g.updateHeight(c,0)}},{key:"outdated",get:function(){return 0<(this.flags&2)},set:function(e){this.flags=(e?2:0)|this.flags&
-3}}],[{key:"empty",value:function(){return new p(0,0)}},{key:"of",value:function(e){if(1==e.length)return e[0];for(var a=0,c=e.length,d=0,g=0;;)if(a==c)if(d>2*g){var m=e[a-1];m["break"]?e.splice(--a,1,m.left,null,m.right):e.splice(--a,1,m.left,m.right);c+=1+m["break"];d-=m.size}else if(g>2*d)m=e[c],m["break"]?e.splice(c,1,m.left,null,m.right):e.splice(c,1,m.left,m.right),c+=2+m["break"],g-=m.size;else break;else d<g?(m=e[a++])&&(d+=m.size):(m=e[--c])&&(g+=m.size);d=0;null==e[a-1]?(d=1,a--):null==
e[a]&&(d=1,c++);return new B(q.of(e.slice(0,a)),d,q.of(e.slice(c)))}}]);return q}();f.prototype.size=1;var n=function(q){function e(a,c,d){ra(this,e);a=Ca(this,wa(e).call(this,a,c));a.type=d;return a}za(e,q);ja(e,[{key:"blockAt",value:function(a,c,d,g){return new Bc(g,this.length,d,this.height,this.type)}},{key:"lineAt",value:function(a,c,d,g,m){return this.blockAt(0,d,g,m)}},{key:"forEachLine",value:function(a,c,d,g,m,v){v(this.blockAt(0,d,g,m))}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:0,d=3<arguments.length?arguments[3]:void 0;d&&d.from<=c&&d.more&&this.setHeight(a,d.heights[d.index++]);this.outdated=!1;return this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]);return e}(f),p=function(q){function e(a,c){ra(this,e);a=Ca(this,wa(e).call(this,a,c,Hb.Text));a.collapsed=0;a.widgetHeight=0;return a}za(e,q);ja(e,[{key:"replace",value:function(a,c,d){a=d[0];return 1==d.length&&(a instanceof e||a instanceof w&&a.flags&4)&&
10>Math.abs(this.length-a.length)?(a instanceof w?a=new e(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):f.of(d)}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,g=3<arguments.length?arguments[3]:void 0;g&&g.from<=c&&g.more?this.setHeight(a,g.heights[g.index++]):(d||this.outdated)&&this.setHeight(a,Math.max(this.widgetHeight,a.heightForLine(this.length-this.collapsed)));
this.outdated=!1;return this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]);return e}(n),w=function(q){function e(a){ra(this,e);return Ca(this,wa(e).call(this,a,0))}za(e,q);ja(e,[{key:"lines",value:function(a,c){var d=a.lineAt(c).number;a=a.lineAt(c+this.length).number;return{firstLine:d,lastLine:a,lineHeight:this.height/(a-d+1)}}},{key:"blockAt",value:function(a,c,d,g){var m=
this.lines(c,g),v=m.firstLine;g=m.lineHeight;a=Math.max(0,Math.min(m.lastLine-v,Math.floor((a-d)/g)));c=c.line(v+a);return new Bc(c.from,c.length,d+g*a,g,Hb.Text)}},{key:"lineAt",value:function(a,c,d,g,m){if(c==b.ByHeight)return this.blockAt(a,d,g,m);if(c==b.ByPosNoHeight)return g=d.lineAt(a),a=g.from,new Bc(a,g.to-a,0,0,Hb.Text);m=this.lines(d,m);c=m.firstLine;m=m.lineHeight;a=d.lineAt(a);return new Bc(a.from,a.length,g+m*(a.number-c),m,Hb.Text)}},{key:"forEachLine",value:function(a,c,d,g,m,v){var N=
this.lines(d,m);m=N.firstLine;N=N.lineHeight;for(var R=a;R<c;){var X=d.lineAt(R);R==a&&(g+=N*(X.number-m));v(new Bc(X.from,X.length,g,g+=N,Hb.Text));R=X.to+1}}},{key:"replace",value:function(a,c,d){c=this.length-c;if(0<c){var g=d[d.length-1];g instanceof e?d[d.length-1]=new e(g.length+c):d.push(null,new e(c-1))}0<a&&(c=d[0],c instanceof e?d[0]=new e(a+c.length):d.unshift(new e(a-1),null));return f.of(d)}},{key:"decomposeLeft",value:function(a,c){c.push(new e(a-1),null)}},{key:"decomposeRight",value:function(a,
c){c.push(null,new e(this.length-a-1))}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,g=3<arguments.length?arguments[3]:void 0,m=c+this.length;if(g&&g.from<=c+this.length&&g.more){d=[];var v=Math.max(c,g.from);for(g.from>c&&d.push((new e(g.from-c-1)).updateHeight(a,c));v<=m&&g.more;){c=a.doc.lineAt(v).length;d.length&&d.push(null);var N=new p(c,g.heights[g.index++]);N.outdated=!1;d.push(N);
v+=c+1}v<=m&&d.push(null,(new e(m-v)).updateHeight(a,v));a.heightChanged=!0;return f.of(d)}if(d||this.outdated)this.setHeight(a,a.heightForGap(c,c+this.length)),this.outdated=!1;return this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]);return e}(f),B=function(q){function e(a,c,d){ra(this,e);c=Ca(this,wa(e).call(this,a.length+c+d.length,a.height+d.height,c|(a.outdated||d.outdated?2:0)));c.left=a;c.right=d;c.size=a.size+d.size;return c}za(e,q);ja(e,[{key:"blockAt",value:function(a,
c,d,g){var m=d+this.left.height;return a<m||0==this.right.height?this.left.blockAt(a,c,d,g):this.right.blockAt(a,c,m,g+this.left.length+this["break"])}},{key:"lineAt",value:function(a,c,d,g,m){var v=g+this.left.height,N=m+this.left.length+this["break"],R=c==b.ByHeight?a<v||0==this.right.height:a<N;a=R?this.left.lineAt(a,c,d,g,m):this.right.lineAt(a,c,d,v,N);if(this["break"]||(R?a.to<N:a.from>N))return a;c=c==b.ByPosNoHeight?b.ByPosNoHeight:b.ByPos;return R?a.join(this.right.lineAt(N,c,d,v,N)):this.left.lineAt(N,
c,d,g,m).join(a)}},{key:"forEachLine",value:function(a,c,d,g,m,v){var N=g+this.left.height,R=m+this.left.length+this["break"];if(this["break"])a<R&&this.left.forEachLine(a,c,d,g,m,v),c>=R&&this.right.forEachLine(a,c,d,N,R,v);else{var X=this.lineAt(R,b.ByPos,d,g,m);a<X.from&&this.left.forEachLine(a,X.from-1,d,g,m,v);X.to>=a&&X.from<=c&&v(X);c>X.to&&this.right.forEachLine(X.to+1,c,d,N,R,v)}}},{key:"replace",value:function(a,c,d){var g=this.left.length+this["break"];if(c<g)return this.balanced(this.left.replace(a,
c,d),this.right);if(a>this.left.length)return this.balanced(this.left,this.right.replace(a-g,c-g,d));g=[];0<a&&this.decomposeLeft(a,g);var m=g.length,v=!0,N=!1,R=void 0;try{for(var X=d[Symbol.iterator](),ba;!(v=(ba=X.next()).done);v=!0)g.push(ba.value)}catch(qa){N=!0,R=qa}finally{try{if(!v&&null!=X["return"])X["return"]()}finally{if(N)throw R;}}0<a&&ka(g,m-1);c<this.length&&(a=g.length,this.decomposeRight(c,g),ka(g,a));return f.of(g)}},{key:"decomposeLeft",value:function(a,c){var d=this.left.length;
if(a<=d)return this.left.decomposeLeft(a,c);c.push(this.left);this["break"]&&(d++,a>=d&&c.push(null));a>d&&this.right.decomposeLeft(a-d,c)}},{key:"decomposeRight",value:function(a,c){var d=this.left.length,g=d+this["break"];if(a>=g)return this.right.decomposeRight(a-g,c);a<d&&this.left.decomposeRight(a,c);this["break"]&&a<g&&c.push(null);c.push(this.right)}},{key:"balanced",value:function(a,c){if(a.size>2*c.size||c.size>2*a.size)return f.of(this["break"]?[a,null,c]:[a,c]);this.left=a;this.right=c;
this.height=a.height+c.height;this.outdated=a.outdated||c.outdated;this.size=a.size+c.size;this.length=a.length+this["break"]+c.length;return this}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,g=3<arguments.length?arguments[3]:void 0,m=this.left,v=this.right,N=c+m.length+this["break"],R=null;g&&g.from<=c+m.length&&g.more?R=m=m.updateHeight(a,c,d,g):m.updateHeight(a,c,d);g&&g.from<=
N+v.length&&g.more?R=v=v.updateHeight(a,N,d,g):v.updateHeight(a,N,d);if(R)return this.balanced(m,v);this.height=this.left.height+this.right.height;this.outdated=!1;return this}},{key:"toString",value:function(){return this.left+(this["break"]?" ":"-")+this.right}},{key:"break",get:function(){return this.flags&1}}]);return e}(f),P=function(){function q(e,a){ra(this,q);this.pos=e;this.oracle=a;this.nodes=[];this.lineEnd=this.lineStart=-1;this.covering=null;this.writtenTo=e}ja(q,[{key:"span",value:function(e,
a){if(-1<this.lineStart){e=Math.min(a,this.lineEnd);var c=this.nodes[this.nodes.length-1];c instanceof p?c.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new p(e-this.pos,-1));this.writtenTo=e;a>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=a}},{key:"point",value:function(e,a,c){if(e<a||c.heightRelevant){var d=c.widget?Math.max(0,c.widget.estimatedHeight):0;e=a-e;c.block?this.addBlock(new n(e,d,c.type)):(e||5<=d)&&this.addLineDeco(d,e)}else a>e&&this.span(e,
a);-1<this.lineEnd&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(-1<this.lineStart)){var e=this.oracle.doc.lineAt(this.pos),a=e.from;e=e.to;this.lineStart=a;this.lineEnd=e;this.writtenTo<a&&((this.writtenTo<a-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,a-1)),this.nodes.push(null));this.pos>a&&this.nodes.push(new p(this.pos-a,-1));this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,
a){var c=new w(a-e);this.oracle.doc.lineAt(e).to==a&&(c.flags|=4);return c}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof p)return e;e=new p(0,-1);this.nodes.push(e);return e}},{key:"addBlock",value:function(e){this.enterLine();e.type!=Hb.WidgetAfter||this.isCovered||this.ensureLine();this.nodes.push(e);this.writtenTo=this.pos+=e.length;e.type!=Hb.WidgetBefore&&(this.covering=e)}},{key:"addLineDeco",value:function(e,
a){var c=this.ensureLine();c.length+=a;c.collapsed+=a;c.widgetHeight=Math.max(c.widgetHeight,e);this.writtenTo=this.pos+=a}},{key:"finish",value:function(e){var a=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(-1<this.lineStart)||a instanceof p||this.isCovered?(this.writtenTo<this.pos||null==a)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new p(0,-1));a=!0;var c=!1,d=void 0;try{for(var g=this.nodes[Symbol.iterator](),m;!(a=(m=g.next()).done);a=!0){var v=
m.value;v instanceof p&&v.updateHeight(this.oracle,e);e+=v?v.length:1}}catch(N){c=!0,d=N}finally{try{if(!a&&null!=g["return"])g["return"]()}finally{if(c)throw d;}}return this.nodes}},{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"minPointSize",get:function(){return 0}}],[{key:"build",value:function(e,a,c,d){e=new q(c,e);Lb.RangeSet.spans(a,c,d,e);return e.finish(c)}}]);return q}(),V=function(){function q(){ra(this,q);this.changes=[]}ja(q,
[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,a,c,d){(e<a||c&&c.heightRelevant||d&&d.heightRelevant)&&F(e,a,this.changes)}},{key:"minPointSize",get:function(){return 0}}]);return q}(),fa=[],pa=Qa.Facet.define(),ma=Qa.Facet.define(),ua=Qa.Facet.define(),Na=Qa.Facet.define(),Wa=Qa.Facet.define(),Ua=Qa.Facet.define(),ib=Qa.Facet.define({combine:function(q){return q.length?q[0]:!0}}),Jb=function c(e,a){ra(this,c);this.field=e;this.get=a};D.PluginFieldProvider=Jb;var eb=
function(){function e(){ra(this,e)}ja(e,[{key:"from",value:function(a){return new Jb(this,a)}}],[{key:"define",value:function(){return new e}}]);return e}();D.PluginField=eb;eb.scrollMargins=eb.define();var zb=0,tb=Qa.Facet.define(),gb=function(){function e(a,c,d){ra(this,e);this.id=a;this.create=c;this.fields=d;this.extension=tb.of(this)}ja(e,null,[{key:"define",value:function(a,c){c=c||{};var d=c.eventHandlers,g=c.provide;c=c.decorations;var m=[];if(g){var v=!0,N=!1,R=void 0;try{for(var X=(Array.isArray(g)?
g:[g])[Symbol.iterator](),ba;!(v=(ba=X.next()).done);v=!0)m.push(ba.value)}catch(La){N=!0,R=La}finally{try{if(!v&&null!=X["return"])X["return"]()}finally{if(N)throw R;}}}d&&m.push(ic.from(function(La){return{plugin:La,handlers:d}}));if(c){X=!0;ba=!1;g=void 0;try{for(var qa=(Array.isArray(c)?c:[c])[Symbol.iterator](),va;!(X=(va=qa.next()).done);X=!0)m.push(Pb.from(va.value))}catch(La){ba=!0,g=La}finally{try{if(!X&&null!=qa["return"])qa["return"]()}finally{if(ba)throw g;}}}return new e(zb++,a,m)}},
{key:"fromClass",value:function(a,c){return e.define(function(d){return new a(d)},c)}}]);return e}();D.ViewPlugin=gb;var Pb=eb.define(),ic=eb.define(),Qb=function(){function e(a,c){ra(this,e);this.value=a;this.spec=c}ja(e,[{key:"takeField",value:function(a,c){var d=!0,g=!1,m=void 0;try{for(var v=this.spec.fields[Symbol.iterator](),N;!(d=(N=v.next()).done);d=!0){var R=N.value,X=R.get;R.field==a&&c.push(X(this.value))}}catch(ba){g=!0,m=ba}finally{try{if(!d&&null!=v["return"])v["return"]()}finally{if(g)throw m;
}}}},{key:"update",value:function(a){if(!this.value.update)return this;try{return this.value.update(a),this}catch(c){Ga(a.state,c,"CodeMirror plugin crashed");if(this.value.destroy)try{this.value.destroy()}catch(d){}return e.dummy}}},{key:"destroy",value:function(a){if(this.value.destroy)try{this.value.destroy()}catch(c){Ga(a.state,c,"CodeMirror plugin crashed")}}},{key:"measure",value:function(a){if(this.value.measure)try{this.value.measure()}catch(c){Ga(a.state,c,"CodeMirror plugin crashed")}}}],
[{key:"create",value:function(a,c){try{var d=a.create(c)}catch(g){return Ga(c.state,g,"CodeMirror plugin crashed"),e.dummy}return new e(d,a)}}]);return e}();Qb.dummy=new Qb({},gb.define(function(){return{}}));var jc=Qa.Facet.define({combine:function(e){return e.reduce(function(a,c){return h(c,a)},{})}}),Yb=Qa.Facet.define({combine:function(e){return e.reduce(function(a,c){return h(c,a)},{})}}),Fb=Qa.Facet.define(),fc=Qa.Facet.define(),nc=function(){function e(a,c,d,g){ra(this,e);this.fromA=a;this.toA=
c;this.fromB=d;this.toB=g}ja(e,[{key:"join",value:function(a){return new e(Math.min(this.fromA,a.fromA),Math.max(this.toA,a.toA),Math.min(this.fromB,a.fromB),Math.max(this.toB,a.toB))}},{key:"addToSet",value:function(a){for(var c=a.length,d=this;0<c;c--){var g=a[c-1];if(!(g.fromA>d.toA)){if(g.toA<d.fromA)break;d=d.join(g);a.splice(c-1,1)}}a.splice(c,0,d);return a}}],[{key:"extendWithRanges",value:function(a,c){if(0==c.length)return a;for(var d=[],g=0,m=0,v=0,N=0;;g++){var R=g==a.length?null:a[g];
v-=N;for(var X=R?R.fromB:1E9;m<c.length&&c[m]<X;){var ba=c[m+1],qa=Math.max(N,c[m]),va=Math.min(X,ba);qa<=va&&(new e(qa+v,va+v,qa,va)).addToSet(d);if(ba>X)break;else m+=2}if(!R)return d;(new e(R.fromA,R.toA,R.fromB,R.toB)).addToSet(d);v=R.toA;N=R.toB}}}]);return e}(),qc=function(){function e(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:fa;ra(this,e);this.view=a;this.state=c;this.transactions=d;this.flags=0;this.prevState=a.state;this.changes=Qa.ChangeSet.empty(this.prevState.doc.length);
var g=!0,m=!1,v=void 0;try{for(var N=d[Symbol.iterator](),R;!(g=(R=N.next()).done);g=!0)this.changes=this.changes.compose(R.value.changes)}catch(ba){m=!0,v=ba}finally{try{if(!g&&null!=N["return"])N["return"]()}finally{if(m)throw v;}}var X=[];this.changes.iterChangedRanges(function(ba,qa,va,La){return X.push(new nc(ba,qa,va,La))});this.changedRanges=X;d=a.hasFocus;d!=a.inputState.notifiedFocused&&(a.inputState.notifiedFocused=d,1!=this.flags);this.docChanged&&(this.flags|=2)}ja(e,[{key:"viewportChanged",
get:function(){return 0<(this.flags&4)}},{key:"heightChanged",get:function(){return 0<(this.flags&2)}},{key:"focusChanged",get:function(){return 0<(this.flags&1)}},{key:"docChanged",get:function(){return this.transactions.some(function(a){return a.docChanged})}},{key:"selectionSet",get:function(){return this.transactions.some(function(a){return a.selection})}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}]);return e}();D.ViewUpdate=qc;var Zb=function(){function e(a,
c,d){ra(this,e);this.from=a;this.to=c;this.size=d}ja(e,[{key:"draw",value:function(a){return mb.replace({widget:new $a({size:this.size,vertical:a})}).range(this.from,this.to)}}],[{key:"same",value:function(a,c){if(a.length!=c.length)return!1;for(var d=0;d<a.length;d++){var g=a[d],m=c[d];if(g.from!=m.from||g.to!=m.to||g.size!=m.size)return!1}return!0}}]);return e}(),$a=function(e){function a(){ra(this,a);return Ca(this,wa(a).apply(this,arguments))}za(a,e);ja(a,[{key:"toDOM",value:function(){var c=
document.createElement("div");this.value.vertical?c.style.height=this.value.size+"px":(c.style.width=this.value.size+"px",c.style.height="2px",c.style.display="inline-block");return c}},{key:"eq",value:function(c){return this.value.size==c.size&&this.value.vertical==c.vertical}},{key:"estimatedHeight",get:function(){return this.value.vertical?this.value.size:-1}}]);return a}(vc),vb=function(){function e(a){ra(this,e);this.state=a;this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0};
this.inView=!0;this.paddingBottom=this.paddingTop=0;this.heightOracle=new Rc;this.heightMap=f.empty();this.scrollTo=null;this.printing=!1;this.visibleRanges=[];this.mustEnforceCursorAssoc=!1;this.heightMap=this.heightMap.applyChanges(a.facet(Fb),I.Text.empty,this.heightOracle.setDoc(a.doc),[new nc(0,0,0,a.doc.length)]);this.viewport=this.getViewport(0,null);this.lineGaps=this.ensureLineGaps([]);this.lineGapDeco=mb.set(this.lineGaps.map(function(c){return c.draw(!1)}));this.computeVisibleRanges()}
ja(e,[{key:"update",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=this.state;this.state=a.state;var g=this.state.facet(Fb),m=nc.extendWithRanges(a.changedRanges,xa(a.prevState.facet(Fb),g,a?a.changes:Qa.ChangeSet.empty(this.state.doc.length))),v=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(g,d.doc,this.heightOracle.setDoc(this.state.doc),m);this.heightMap.height!=v&&(a.flags|=2);d=m.length?this.mapViewport(this.viewport,a.changes):this.viewport;
if(c&&(c.head<d.from||c.head>d.to)||!this.viewportIsAppropriate(d))d=this.getViewport(0,c);d.eq(this.viewport)||(this.viewport=d,a.flags|=4);if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)a.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,a.changes)));this.computeVisibleRanges();c&&(this.scrollTo=c);!this.mustEnforceCursorAssoc&&a.selectionSet&&a.view.lineWrapping&&a.state.selection.primary.empty&&a.state.selection.primary.assoc&&(this.mustEnforceCursorAssoc=
!0)}},{key:"measure",value:function(a,c){var d=a.dom,g="",m=cc.LTR;if(!c){var v=window.getComputedStyle(d);g=v.whiteSpace;m="rtl"==v.direction?cc.RTL:cc.LTR;this.paddingTop=parseInt(v.paddingTop)||0;this.paddingBottom=parseInt(v.paddingBottom)||0}if(this.printing)v={top:-1E8,bottom:1E8,left:-1E8,right:1E8};else{v=this.paddingTop;var N=d.getBoundingClientRect(),R=Math.max(0,N.left),X=Math.min(innerWidth,N.right),ba=Math.max(0,N.top),qa=Math.min(innerHeight,N.bottom);for(d=d.parentNode;d;)if(1==d.nodeType){if((d.scrollHeight>
d.clientHeight||d.scrollWidth>d.clientWidth)&&"visible"!=window.getComputedStyle(d).overflow){var va=d.getBoundingClientRect();R=Math.max(R,va.left);X=Math.min(X,va.right);ba=Math.max(ba,va.top);qa=Math.min(qa,va.bottom)}d=d.parentNode}else if(11==d.nodeType)d=d.host;else break;v={left:R-N.left,right:X-N.left,top:ba-(N.top+v),bottom:qa-(N.top+v)}}R=v;v=R.top-this.pixelViewport.top;N=R.bottom-this.pixelViewport.bottom;this.pixelViewport=R;this.inView=this.pixelViewport.bottom>this.pixelViewport.top&&
this.pixelViewport.right>this.pixelViewport.left;if(!this.inView)return 0;X=a.measureVisibleLineHeights();ba=!1;R=0;c||(this.heightOracle.mustRefresh(X,g,m)&&(c=a.measureTextSize(),ba=c.charWidth,ba=this.heightOracle.refresh(g,m,c.lineHeight,ba,a.dom.clientWidth/ba,X))&&(a.minWidth=0),0<v&&0<N?R=Math.max(v,N):0>v&&0>N&&(R=Math.min(v,N)));this.heightOracle.heightChanged=!1;this.heightMap=this.heightMap.updateHeight(this.heightOracle,0,ba,new Kc(this.viewport.from,X));g=this.heightOracle.heightChanged?
2:0;if(!this.viewportIsAppropriate(this.viewport,R)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to))this.viewport=this.getViewport(R,this.scrollTo),g|=4;if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)g|=this.updateLineGaps(this.ensureLineGaps(ba?[]:this.lineGaps));this.computeVisibleRanges();this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,a.enforceCursorAssoc());return g}},{key:"getViewport",value:function(a,c){var d=.5-
Math.max(-.5,Math.min(.5,a/1E3/2));a=this.heightMap;var g=this.state.doc,m=this.pixelViewport,v=m.top;m=m.bottom;d=new kc(a.lineAt(v-1E3*d,b.ByHeight,g,0,0).from,a.lineAt(m+1E3*(1-d),b.ByHeight,g,0,0).to);c&&(c.head<d.from?(c=a.lineAt(c.head,b.ByPos,g,0,0).top,d=new kc(a.lineAt(c-500,b.ByHeight,g,0,0).from,a.lineAt(c+(m-v)+500,b.ByHeight,g,0,0).to)):c.head>d.to&&(c=a.lineAt(c.head,b.ByPos,g,0,0).bottom,d=new kc(a.lineAt(c-(m-v)-500,b.ByHeight,g,0,0).from,a.lineAt(c+500,b.ByHeight,g,0,0).to)));return d}},
{key:"mapViewport",value:function(a,c){var d=c.mapPos(a.from,-1);a=c.mapPos(a.to,1);return new kc(this.heightMap.lineAt(d,b.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(a,b.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(a){var c=a.from,d=a.to,g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,m=this.heightMap.lineAt(c,b.ByPos,this.state.doc,0,0).top,v=this.heightMap.lineAt(d,b.ByPos,this.state.doc,0,0).bottom;return(0==c||m<=this.pixelViewport.top-Math.max(10,
Math.min(-g,250)))&&(d==this.state.doc.length||v>=this.pixelViewport.bottom+Math.max(10,Math.min(g,250)))&&m>this.pixelViewport.top-2E3&&v<this.pixelViewport.bottom+2E3}},{key:"mapLineGaps",value:function(a,c){if(!a.length||c.empty)return a;var d=[],g=!0,m=!1,v=void 0;try{for(var N=a[Symbol.iterator](),R;!(g=(R=N.next()).done);g=!0){var X=R.value;c.touchesRange(X.from,X.to)||d.push(new Zb(c.mapPos(X.from),c.mapPos(X.to),X.size))}}catch(ba){m=!0,v=ba}finally{try{if(!g&&null!=N["return"])N["return"]()}finally{if(m)throw v;
}}return d}},{key:"ensureLineGaps",value:function(a){var c=this,d=[];if(this.heightOracle.direction!=cc.LTR)return d;this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,function(g){if(!(1E4>g.length)){var m=Ta(g.from,g.to,c.state);if(!(1E4>m.total)){if(c.heightOracle.lineWrapping){var v=g.from!=c.viewport.from?g.from:fb(m,(c.pixelViewport.top-g.top)/g.height);var N=g.to!=c.viewport.to?g.to:fb(m,(c.pixelViewport.bottom-g.top)/g.height)}else N=m.total*c.heightOracle.charWidth,
v=fb(m,c.pixelViewport.left/N),N=fb(m,c.pixelViewport.right/N);var R=c.state.selection.primary;R.from<=v&&R.to>=g.from&&(v=R.from);R.from<=g.to&&R.to>=N&&(N=R.to);var X=v-1E4,ba=N+1E4;X>g.from+5E3&&d.push(ub(a,function(qa){return qa.from==g.from&&qa.to>X-5E3&&qa.to<X+5E3})||new Zb(g.from,X,c.gapSize(g,X,!0,m)));ba<g.to-5E3&&d.push(ub(a,function(qa){return qa.to==g.to&&qa.from>ba-5E3&&qa.from<ba+5E3})||new Zb(ba,g.to,c.gapSize(g,ba,!1,m)))}}});return d}},{key:"gapSize",value:function(a,c,d,g){if(this.heightOracle.lineWrapping)return g=
a.height*db(g,c),d?g:a.height-g;a=db(g,c);return g.total*this.heightOracle.charWidth*(d?a:1-a)}},{key:"updateLineGaps",value:function(a){var c=this;return Zb.same(a,this.lineGaps)?0:(this.lineGaps=a,this.lineGapDeco=mb.set(a.map(function(d){return d.draw(c.heightOracle.lineWrapping)})),16)}},{key:"computeVisibleRanges",value:function(){var a=this.state.facet(Fb);this.lineGaps.length&&(a=a.concat(this.lineGapDeco));var c=[];Lb.RangeSet.spans(a,this.viewport.from,this.viewport.to,{span:function(d,g){c.push({from:d,
to:g})},point:function(){},minPointSize:20});this.visibleRanges=c}},{key:"lineAt",value:function(a,c){return this.heightMap.lineAt(a,b.ByPos,this.state.doc,c+this.paddingTop,0)}},{key:"lineAtHeight",value:function(a,c){return this.heightMap.lineAt(a,b.ByHeight,this.state.doc,c+this.paddingTop,0)}},{key:"blockAtHeight",value:function(a,c){return this.heightMap.blockAt(a,this.state.doc,c+this.paddingTop,0)}},{key:"forEachLine",value:function(a,c,d,g){return this.heightMap.forEachLine(a,c,this.state.doc,
g+this.paddingTop,0,d)}}]);return e}(),kc=function(){function e(a,c){ra(this,e);this.from=a;this.to=c}ja(e,[{key:"eq",value:function(a){return this.from==a.from&&this.to==a.to}}]);return e}(),Sc=[],Lc=function(e){function a(c){ra(this,a);var d=Ca(this,wa(a).call(this));d.view=c;d.viewports=Sc;d.compositionDeco=mb.none;d.decorations=[];d.minWidth=0;d.minWidthFrom=0;d.minWidthTo=0;d.impreciseAnchor=null;d.impreciseHead=null;d.setDOM(c.contentDOM);d.children=[new sb];d.children[0].setParent(Ra(d));d.updateInner([new nc(0,
0,0,c.state.doc.length)],d.updateDeco(),0);return d}za(a,e);ja(a,[{key:"update",value:function(c){var d=this,g,m=c.changedRanges;0<this.minWidth&&m.length&&(m.every(function(R){var X=R.fromA;return R.toA<d.minWidthFrom||X>d.minWidthTo})?(this.minWidthFrom=c.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=c.changes.mapPos(this.minWidthTo,1)):this.minWidth=0);null!==(g=this.view.inputState)&&void 0!==g&&g.composing?c.transactions.length&&(this.compositionDeco=nb(this.view,c.changes)):this.compositionDeco=
mb.none;g=(jb.ie||jb.chrome)&&!this.compositionDeco.size&&c&&c.state.doc.lines!=c.prevState.doc.lines;var v=this.decorations,N=this.updateDeco();v=Db(v,N,c.changes);m=nc.extendWithRanges(m,v);v=c.transactions.some(function(R){return"pointerselection"==R.annotation(Qa.Transaction.userEvent)});if(0==this.dirty&&0==m.length&&!(c.flags&20)&&c.state.selection.primary.from>=this.view.viewport.from&&c.state.selection.primary.to<=this.view.viewport.to)return this.updateSelection(g,v),!1;this.updateInner(m,
N,c.prevState.doc.length,g,v);return!0}},{key:"updateInner",value:function(c,d,g){var m=this,v=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,N=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;this.updateChildren(c,d,g);this.view.observer.ignore(function(){m.dom.style.height=m.view.viewState.heightMap.height+"px";m.dom.style.minWidth=m.minWidth?m.minWidth+"px":"";var R=jb.chrome?{node:Ia(m.view.root).focusNode,written:!1}:void 0;m.sync(R);m.dirty=0;if(null===R||void 0===R?0:R.written)v=
!0;m.updateSelection(v,N);m.dom.style.height=""})}},{key:"updateChildren",value:function(c,d,g){g=this.childCursor(g);for(var m=c.length-1;;m--){var v=0<=m?c[m]:null;if(!v)break;var N=v.fromA,R=v.toA,X=Jc.build(this.view.state.doc,v.fromB,v.toB,d);v=X.content;var ba=X.breakAtStart,qa=X.openStart;X=X.openEnd;var va=g.findPos(R,1);R=va.i;va=va.off;N=g.findPos(N,-1);this.replaceRange(N.i,N.off,R,va,v,ba,qa,X)}}},{key:"replaceRange",value:function(c,d,g,m,v,N,R,X){var ba=this.children[c],qa=v.length?
v[v.length-1]:null,va=qa?qa.breakAfter:N;if(c!=g||N||va||!(2>v.length)||!ba.merge(d,m,v.length?qa:null,0==d,R,X)){var La=this.children[g];m<La.length||La.children.length&&0==La.children[La.children.length-1].length?(c==g&&(La=La.split(m),m=0),!va&&qa&&La.merge(0,m,qa,!0,0,X)?v[v.length-1]=La:((m||La.children.length&&0==La.children[0].length)&&La.merge(0,m,null,!1,0,X),v.push(La))):La.breakAfter&&(qa?qa.breakAfter=1:N=1);g++;ba.breakAfter=N;0<d&&(!N&&v.length&&ba.merge(d,ba.length,v[0],!1,R,0)?ba.breakAfter=
v.shift().breakAfter:(d<ba.length||ba.children.length&&0==ba.children[ba.children.length-1].length)&&ba.merge(d,ba.length,null,!1,R,0),c++);for(;c<g&&v.length;)if(this.children[g-1].match(v[v.length-1]))g--,v.pop();else if(this.children[c].match(v[0]))c++,v.shift();else break;(c<g||v.length)&&this.replaceChildren(c,g,v)}}},{key:"updateSelection",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]||this.mayControlSelection()){var d=
this.view.state.selection.primary,g=this.domAtPos(d.anchor),m=this.domAtPos(d.head),v=Ia(this.root);(c||!v.focusNode||jb.gecko&&d.empty&&Gb(v.focusNode,v.focusOffset)||!da(g.node,g.offset,v.anchorNode,v.anchorOffset)||!da(m.node,m.offset,v.focusNode,v.focusOffset))&&this.view.observer.ignore(function(){if(d.empty){if(jb.gecko){var N=Gb(g.node,g.offset);if(N&&3!=N){var R=wb(g.node,g.offset,1==N?1:-1);R&&(g=new gc(R,1==N?0:R.nodeValue.length))}}v.collapse(g.node,g.offset);null!=d.bidiLevel&&null!=v.cursorBidiLevel&&
(v.cursorBidiLevel=d.bidiLevel)}else v.extend?(v.collapse(g.node,g.offset),v.extend(m.node,m.offset)):(N=document.createRange(),d.anchor>d.head&&(R=[m,g],g=R[0],m=R[1]),N.setEnd(m.node,m.offset),N.setStart(g.node,g.offset),v.removeAllRanges(),v.addRange(N))});this.impreciseAnchor=g.precise?null:new gc(v.anchorNode,v.anchorOffset);this.impreciseHead=m.precise?null:new gc(v.focusNode,v.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){var c=this.view.state.selection.primary,d=Ia(this.root);
if(c.empty&&c.assoc&&d.modify){var g=sb.find(this,c.head);if(g){var m=g.posAtStart;c.head!=m&&c.head!=m+g.length&&(g=this.coordsAt(c.head,-1),m=this.coordsAt(c.head,1),!g||!m||g.bottom>m.top||(g=this.domAtPos(c.head+c.assoc),d.collapse(g.node,g.offset),d.modify("move",0>c.assoc?"forward":"backward","lineboundary")))}}}},{key:"mayControlSelection",value:function(){return this.view.state.facet(ib)?this.root.activeElement==this.dom:ha(this.dom,Ia(this.root))}},{key:"nearest",value:function(c){for(;c;){var d=
Sb.get(c);if(d&&d.rootView==this)return d;c=c.parentNode}return null}},{key:"posFromDOM",value:function(c,d){var g=this.nearest(c);if(!g)throw new RangeError("Trying to find position for a DOM position outside of the document");return g.localPosFromDOM(c,d)+g.posAtStart}},{key:"domAtPos",value:function(c){var d=this.childCursor().findPos(c,-1);c=d.i;for(d=d.off;c<this.children.length-1;){var g=this.children[c];if(d<g.length||g instanceof sb)break;c++;d=0}return this.children[c].domAtPos(d)}},{key:"coordsAt",
value:function(c,d){for(var g=this.length,m=this.children.length-1;;m--){var v=this.children[m];g=g-v.breakAfter-v.length;if(c>=g&&v.type!=Hb.WidgetAfter)return v.coordsAt(c-g,d)}}},{key:"measureVisibleLineHeights",value:function(){var c=[],d=this.view.viewState.viewport,g=d.from;d=d.to;for(var m=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,v=0,N=0;N<this.children.length;N++){var R=this.children[N],X=v+R.length;if(X>d)break;if(v>=g){c.push(R.dom.getBoundingClientRect().height);var ba=
R.dom.scrollWidth;ba>m&&(this.minWidth=m=ba,this.minWidthFrom=v,this.minWidthTo=X)}v=X+R.breakAfter}return c}},{key:"measureTextSize",value:function(){var c=this,d=!0,g=!1,m=void 0;try{for(var v=this.children[Symbol.iterator](),N;!(d=(N=v.next()).done);d=!0){var R=N.value;if(R instanceof sb){var X=R.measureTextSize();if(X)return X}}}catch(La){g=!0,m=La}finally{try{if(!d&&null!=v["return"])v["return"]()}finally{if(g)throw m;}}var ba=document.createElement("div"),qa,va;ba.className="cm-line";ba.textContent=
"abc def ghi jkl mno pqr stu";this.view.observer.ignore(function(){c.dom.appendChild(ba);var La=aa(ba.firstChild)[0];qa=ba.getBoundingClientRect().height;va=La?La.width/27:7;ba.remove()});return{lineHeight:qa,charWidth:va}}},{key:"childCursor",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,d=this.children.length;d&&(c-=this.children[--d].length);return new $c(this.children,c,d)}},{key:"computeBlockGapDeco",value:function(){var c=this.view.viewState.viewport,
d=[c],g=this.view.state.selection.primary,m=g.head,v=g.anchor;if(m<c.from||m>c.to)c=this.view.viewState.lineAt(m,0),d.push(new kc(c.from,c.to));d.some(function(ba){var qa=ba.to;return v>=ba.from&&v<=qa})||(c=this.view.viewState.lineAt(v,0),d.push(new kc(c.from,c.to)));this.viewports=d.sort(function(ba,qa){return ba.from-qa.from});c=[];for(m=g=0;;m++){var N=m==d.length?null:d[m],R=N?N.from-1:this.length;if(R>g){var X=this.view.viewState.lineAt(R,0).bottom-this.view.viewState.lineAt(g,0).top;c.push(mb.replace({widget:new Md(X),
block:!0,inclusive:!0}).range(g,R))}if(!N)break;g=N.to+1}return mb.set(c)}},{key:"updateDeco",value:function(){return this.decorations=[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco].concat(Ma(this.view.state.facet(Fb)),Ma(this.view.pluginField(Pb)))}},{key:"scrollPosIntoView",value:function(c,d){var g;if(c=this.coordsAt(c,d)){var m=g=d=0,v=0,N=!0,R=!1,X=void 0;try{for(var ba=this.view.pluginField(eb.scrollMargins)[Symbol.iterator](),qa;!(N=(qa=ba.next()).done);N=
!0){var va=qa.value;if(va){var La=va.left,ab=va.right,kb=va.top;var Nb=va.bottom;null!=La&&(d=Math.max(d,La));null!=ab&&(g=Math.max(g,ab));null!=kb&&(m=Math.max(m,kb));null!=Nb&&(v=Math.max(v,Nb))}}}catch(uc){R=!0,X=uc}finally{try{if(!N&&null!=ba["return"])ba["return"]()}finally{if(R)throw X;}}va=this.dom;ba={left:c.left-d,top:c.top-m,right:c.right+g,bottom:c.bottom+v};qa=va.ownerDocument.defaultView;for(va=va.parentNode;va;)if(1==va.nodeType){if(La=va==document.body)Nb=0,c=qa.innerWidth,d=0,g=qa.innerHeight;
else{if(va.scrollHeight<=va.clientHeight&&va.scrollWidth<=va.clientWidth){va=va.parentNode;continue}ab=va.getBoundingClientRect();Nb=ab.left;c=ab.left+va.clientWidth;d=ab.top;g=ab.top+va.clientHeight}kb=ab=0;ba.top<d?kb=-(d-ba.top+5):ba.bottom>g&&(kb=ba.bottom-g+5);ba.left<Nb?ab=-(Nb-ba.left+5):ba.right>c&&(ab=ba.right-c+5);if(ab||kb)La?qa.scrollBy(ab,kb):(kb&&(Nb=va.scrollTop,va.scrollTop+=kb,kb=va.scrollTop-Nb),ab&&(Nb=va.scrollLeft,va.scrollLeft+=ab,ab=va.scrollLeft-Nb),ba={left:ba.left-ab,top:ba.top-
kb,right:ba.right-ab,bottom:ba.bottom-kb});if(La)break;va=va.parentNode}else if(11==va.nodeType)va=va.host;else break}}},{key:"root",get:function(){return this.view.root}},{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}}]);return a}(Sb),Md=function(e){function a(){ra(this,a);return Ca(this,wa(a).apply(this,arguments))}za(a,e);ja(a,[{key:"toDOM",value:function(){var c=document.createElement("div");this.updateDOM(c);return c}},{key:"updateDOM",
value:function(c){if(1E7>this.value){for(;c.lastChild;)c.lastChild.remove();c.style.height=this.value+"px"}else{c.style.height="";for(var d=this.value;0<d;d-=1E7)c.appendChild(document.createElement("div")).style.height=Math.min(d,1E7)+"px"}return!0}},{key:"estimatedHeight",get:function(){return this.value}}]);return a}(vc),Bd=function(e){function a(){ra(this,a);return Ca(this,wa(a).apply(this,arguments))}za(a,e);ja(a,[{key:"eq",value:function(c){return this.value.top==c.top&&this.value.text==c.text}},
{key:"toDOM",value:function(){return this.value.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return Tb}}]);return a}(vc),Cd=function(){function e(){ra(this,e);this.changes=[]}ja(e,[{key:"compareRange",value:function(a,c){F(a,c,this.changes)}},{key:"comparePoint",value:function(a,c){F(a,c,this.changes)}}]);return e}(),Od=function(){function e(a){var c=this;ra(this,e);this.lastKeyTime=this.lastKeyCode=0;this.lastSelectionOrigin=null;this.lastSelectionTime=0;
this.registeredEvents=[];this.customHandlers=[];this.composing=!1;this.compositionEndedAt=0;this.mouseSelection=null;var d=function(m){var v=Ub[m];a.contentDOM.addEventListener(m,function(N){L(a,N)&&!c.ignoreDuringComposition(N)&&(c.mustFlushObserver(N)&&a.observer.forceFlush(),c.runCustomHandlers(m,a,N)?N.preventDefault():v(a,N))});c.registeredEvents.push(m)},g;for(g in Ub)d(g);a.contentDOM.addEventListener("keydown",function(m){a.inputState.lastKeyCode=m.keyCode;a.inputState.lastKeyTime=Date.now()});
a.root.activeElement==a.contentDOM&&a.dom.classList.add("cm-focused");this.notifiedFocused=a.hasFocus;this.ensureHandlers(a)}ja(e,[{key:"setSelectionOrigin",value:function(a){this.lastSelectionOrigin=a;this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(a){var c=this,d=this.customHandlers=a.pluginField(ic),g=!0,m=!1,v=void 0;try{for(var N=d[Symbol.iterator](),R;!(g=(R=N.next()).done);g=!0){var X=R.value;d=function(qa){0>c.registeredEvents.indexOf(qa)&&(c.registeredEvents.push(qa),
("scroll"!=qa?a.contentDOM:a.scrollDOM).addEventListener(qa,function(va){L(a,va)&&c.runCustomHandlers(qa,a,va)&&va.preventDefault()}))};for(var ba in X.handlers)d(ba)}}catch(qa){m=!0,v=qa}finally{try{if(!g&&null!=N["return"])N["return"]()}finally{if(m)throw v;}}}},{key:"runCustomHandlers",value:function(a,c,d){var g=!0,m=!1,v=void 0;try{for(var N=this.customHandlers[Symbol.iterator](),R;!(g=(R=N.next()).done);g=!0){var X=R.value,ba=X.handlers[a];if(ba)try{if(ba.call(X.plugin,d,c)||d.defaultPrevented)return!0}catch(qa){Ga(c.state,
qa)}}}catch(qa){m=!0,v=qa}finally{try{if(!g&&null!=N["return"])N["return"]()}finally{if(m)throw v;}}return!1}},{key:"ignoreDuringComposition",value:function(a){return/^key/.test(a.type)?this.composing?!0:jb.safari&&500>a.timeStamp-this.compositionEndedAt?(this.compositionEndedAt=0,!0):!1:!1}},{key:"mustFlushObserver",value:function(a){return"keydown"==a.type||"compositionend"==a.type}},{key:"startMouseSelection",value:function(a,c,d){this.mouseSelection&&this.mouseSelection.destroy();this.mouseSelection=
new Nd(this,a,c,d)}},{key:"update",value:function(a){this.mouseSelection&&this.mouseSelection.update(a);this.lastKeyCode=this.lastSelectionTime=0}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]);return e}(),Nd=function(){function e(a,c,d,g){ra(this,e);this.inputState=a;this.view=c;this.startEvent=d;this.style=g;a=c.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this));a.addEventListener("mouseup",this.up=this.up.bind(this));
this.extend=d.shiftKey;if(a=c.state.facet(Qa.EditorState.allowMultipleSelections))a=c.state.facet(pa),a=a.length?a[0](d):jb.mac?d.metaKey:d.ctrlKey;this.multiple=a;a=c.state.facet(ma);this.dragMove=a.length?a[0](d):jb.mac?!d.altKey:!d.ctrlKey;this.dragging=Z(c,d)?null:!1;!1===this.dragging&&(d.preventDefault(),this.select(d))}ja(e,[{key:"move",value:function(a){if(0==a.buttons)return this.destroy();!1===this.dragging&&this.select(a)}},{key:"up",value:function(a){null==this.dragging&&this.select(this.startEvent);
this.dragging||a.preventDefault();this.destroy()}},{key:"destroy",value:function(){var a=this.view.contentDOM.ownerDocument;a.removeEventListener("mousemove",this.move);a.removeEventListener("mouseup",this.up);this.inputState.mouseSelection=null}},{key:"select",value:function(a){a=this.style.get(a,this.extend,this.multiple);a.eq(this.view.state.selection)&&a.primary.assoc==this.view.state.selection.primary.assoc||this.view.dispatch({selection:a,annotations:Qa.Transaction.userEvent.of("pointerselection"),
scrollIntoView:!0})}},{key:"update",value:function(a){a.docChanged&&this.dragging&&(this.dragging=this.dragging.map(a.changes));this.style.update(a)}}]);return e}(),Ub=Object.create(null),wd=jb.ie&&15>jb.ie_version||jb.ios&&604>jb.webkit_version;Ub.keydown=function(e,a){var c=(a.ctrlKey?1:0)|(a.metaKey?8:0)|(a.altKey?2:0)|(a.shiftKey?4:0),d=a.keyCode,g=jb.mac&&1==c;(8==d||g&&72==d||46==d||g&&68==d||27==d||c==(jb.mac?8:1)&&(66==d||73==d||89==d||90==d))&&a.preventDefault();e.inputState.setSelectionOrigin("keyboardselection")};
Ub.touchdown=Ub.touchmove=function(e){e.inputState.setSelectionOrigin("pointerselection")};Ub.mousedown=function(e,a){var c=null,d=!0,g=!1,m=void 0;try{for(var v=e.state.facet(ua)[Symbol.iterator](),N;!(d=(N=v.next()).done);d=!0){var R=N.value;if(c=R(e,a))break}}catch(X){g=!0,m=X}finally{try{if(!d&&null!=v["return"])v["return"]()}finally{if(g)throw m;}}c||0!=a.button||(c=ia(e,a));c&&(e.root.activeElement!=e.contentDOM&&e.observer.ignore(function(){return y(e.contentDOM)}),e.inputState.startMouseSelection(e,
a,c))};var Dd=jb.ie&&11>=jb.ie_version,rd=null,sd=0;Ub.dragstart=function(e,a){var c=e.state.selection.primary,d=e.inputState.mouseSelection;d&&(d.dragging=c);a.dataTransfer&&(a.dataTransfer.setData("Text",e.state.sliceDoc(c.from,c.to)),a.dataTransfer.effectAllowed="copyMove")};Ub.drop=function(e,a){if(a.dataTransfer){var c=e.posAtCoords({x:a.clientX,y:a.clientY}),d=a.dataTransfer.getData("Text");0>c||!d||(a.preventDefault(),a=(a=e.inputState.mouseSelection)&&a.dragging&&a.dragMove?{from:a.dragging.from,
to:a.dragging.to}:null,d={from:c,insert:d},d=e.state.changes(a?[a,d]:d),e.focus(),e.dispatch({changes:d,selection:{anchor:d.mapPos(c,-1),head:d.mapPos(c,1)},annotations:Qa.Transaction.userEvent.of("drop")}))}};Ub.paste=function(e,a){e.observer.flush();var c=wd?null:a.clipboardData;(c=c&&c.getData("text/plain"))?(C(e,c),a.preventDefault()):K(e)};var fd=null;Ub.copy=Ub.cut=function(e,a){var c=e.state;var d=[],g=[],m=!1,v=!0,N=!1,R=void 0;try{for(var X=c.selection.ranges[Symbol.iterator](),ba;!(v=(ba=
X.next()).done);v=!0){var qa=ba.value;qa.empty||(d.push(c.sliceDoc(qa.from,qa.to)),g.push(qa))}}catch(kb){N=!0,R=kb}finally{try{if(!v&&null!=X["return"])X["return"]()}finally{if(N)throw R;}}if(!d.length){m=-1;v=!0;N=!1;R=void 0;try{for(var va=c.selection.ranges[Symbol.iterator](),La;!(v=(La=va.next()).done);v=!0){var ab=c.doc.lineAt(La.value.from);ab.number>m&&(d.push(ab.slice()),g.push({from:ab.from,to:Math.min(c.doc.length,ab.to+1)}));m=ab.number}}catch(kb){N=!0,R=kb}finally{try{if(!v&&null!=va["return"])va["return"]()}finally{if(N)throw R;
}}m=!0}if(c=d.join(c.lineBreak))fd=m?c:null,(d=wd?null:a.clipboardData)?(a.preventDefault(),d.clearData(),d.setData("text/plain",c)):Aa(e,c),"cut"==a.type&&e.dispatch({changes:g,scrollIntoView:!0,annotations:Qa.Transaction.userEvent.of("cut")})};Ub.focus=Ub.blur=function(e){setTimeout(function(){e.hasFocus!=e.inputState.notifiedFocused&&e.update([])},10)};Ub.beforeprint=function(e){e.viewState.printing=!0;e.requestMeasure();setTimeout(function(){e.viewState.printing=!1;e.requestMeasure()},2E3)};Ub.compositionstart=
Ub.compositionupdate=function(e){e.inputState.composing||(e.docView.compositionDeco.size&&(e.observer.flush(),e.docView.compositionDeco.size&&e.update([])),e.inputState.composing=!0)};Ub.compositionend=function(e){e.inputState.composing=!1;e.inputState.compositionEndedAt=Date.now();setTimeout(function(){e.inputState.composing||e.docView.compositionDeco.size&&e.update([])},50)};var Pd={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},qd=jb.ie&&11>=jb.ie_version,Qd=function(){function e(a,
c,d){var g=this;ra(this,e);this.view=a;this.onChange=c;this.onScrollChanged=d;this.active=!1;this.ignoreSelection=new mc;this.delayedFlush=-1;this.queue=[];this.scrollTargets=[];this.intersection=null;this.intersecting=!1;this.parentCheck=-1;this.dom=a.contentDOM;this.observer=new MutationObserver(function(m){var v=!0,N=!1,R=void 0;try{for(var X=m[Symbol.iterator](),ba;!(v=(ba=X.next()).done);v=!0)g.queue.push(ba.value)}catch(qa){N=!0,R=qa}finally{try{if(!v&&null!=X["return"])X["return"]()}finally{if(N)throw R;
}}jb.ie&&11>=jb.ie_version&&m.some(function(qa){return"childList"==qa.type&&qa.removedNodes.length||"characterData"==qa.type&&qa.oldValue.length>qa.target.nodeValue.length})?g.flushSoon():g.flush()});qd&&(this.onCharData=function(m){g.queue.push({target:m.target,type:"characterData",oldValue:m.prevValue});g.flushSoon()});this.onSelectionChange=function(){if(g.view.root.activeElement==g.dom){if(jb.ie&&11>=jb.ie_version&&!g.view.state.selection.primary.empty){var m=Ia(g.view.root);if(m.focusNode&&da(m.focusNode,
m.focusOffset,m.anchorNode,m.anchorOffset))return g.flushSoon()}g.flush()}};this.start();this.onScroll=this.onScroll.bind(this);window.addEventListener("scroll",this.onScroll);"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(function(m){0>g.parentCheck&&(g.parentCheck=setTimeout(g.listenForScroll.bind(g),1E3));0<m[m.length-1].intersectionRatio!=g.intersecting&&(g.intersecting=!g.intersecting,g.onScrollChanged())},{}),this.intersection.observe(this.dom));this.listenForScroll()}
ja(e,[{key:"onScroll",value:function(){this.intersecting&&(this.flush(),this.onScrollChanged())}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var a=0,c=null,d=this.dom;d;)if(1==d.nodeType)!c&&a<this.scrollTargets.length&&this.scrollTargets[a]==d?a++:c||(c=this.scrollTargets.slice(0,a)),c&&c.push(d),d=d.parentNode;else if(11==d.nodeType)d=d.host;else break;a<this.scrollTargets.length&&!c&&(c=this.scrollTargets.slice(0,a));if(c){a=!0;d=!1;var g=void 0;try{for(var m=this.scrollTargets[Symbol.iterator](),
v;!(a=(v=m.next()).done);a=!0)v.value.removeEventListener("scroll",this.onScroll)}catch(X){d=!0,g=X}finally{try{if(!a&&null!=m["return"])m["return"]()}finally{if(d)throw g;}}m=!0;v=!1;a=void 0;try{for(var N=(this.scrollTargets=c)[Symbol.iterator](),R;!(m=(R=N.next()).done);m=!0)R.value.addEventListener("scroll",this.onScroll)}catch(X){v=!0,a=X}finally{try{if(!m&&null!=N["return"])N["return"]()}finally{if(v)throw a;}}}}},{key:"ignore",value:function(a){if(!this.active)return a();try{return this.stop(),
a()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,Pd),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),qd&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),qd&&this.dom.removeEventListener("DOMCharacterDataModified",
this.onCharData))}},{key:"clearSelection",value:function(){this.ignoreSelection.set(Ia(this.view.root))}},{key:"clear",value:function(){this.observer.takeRecords();this.queue.length=0;this.clearSelection()}},{key:"flushSoon",value:function(){var a=this;0>this.delayedFlush&&(this.delayedFlush=window.setTimeout(function(){a.delayedFlush=-1;a.flush()},20))}},{key:"forceFlush",value:function(){0<=this.delayedFlush&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}},{key:"flush",
value:function(){var a=this;if(!(0<=this.delayedFlush)){var c=this.queue,d=!0,g=!1,m=void 0;try{for(var v=this.observer.takeRecords()[Symbol.iterator](),N;!(d=(N=v.next()).done);d=!0)c.push(N.value)}catch(La){g=!0,m=La}finally{try{if(!d&&null!=v["return"])v["return"]()}finally{if(g)throw m;}}c.length&&(this.queue=[]);d=Ia(this.view.root);d=!this.ignoreSelection.eq(d)&&ha(this.dom,d);if(0!=c.length||d){m=g=-1;v=!1;N=!0;var R=!1,X=void 0;try{for(var ba=c[Symbol.iterator](),qa;!(N=(qa=ba.next()).done);N=
!0){var va=this.readMutation(qa.value);va&&(va.typeOver&&(v=!0),-1==g?(g=va.from,m=va.to):(g=Math.min(va.from,g),m=Math.max(va.to,m)))}}catch(La){R=!0,X=La}finally{try{if(!N&&null!=ba["return"])ba["return"]()}finally{if(R)throw X;}}c=this.view.state;if(-1<g||d)this.onChange(g,m,v);this.view.state==c&&(this.view.docView.dirty&&(this.ignore(function(){return a.view.docView.sync()}),this.view.docView.dirty=0),this.view.docView.updateSelection());this.clearSelection()}}}},{key:"readMutation",value:function(a){var c=
this.view.docView.nearest(a.target);if(!c||c.ignoreMutation(a))return null;c.markDirty();if("childList"==a.type){var d=Ba(c,a.previousSibling||a.target.previousSibling,-1);a=Ba(c,a.nextSibling||a.target.nextSibling,1);return{from:d?c.posAfter(d):c.posAtStart,to:a?c.posBefore(a):c.posAtEnd,typeOver:!1}}return{from:c.posAtStart,to:c.posAtEnd,typeOver:a.target.nodeValue==a.oldValue}}},{key:"destroy",value:function(){this.stop();this.intersection&&this.intersection.disconnect();var a=!0,c=!1,d=void 0;
try{for(var g=this.scrollTargets[Symbol.iterator](),m;!(a=(m=g.next()).done);a=!0)m.value.removeEventListener("scroll",this.onScroll)}catch(v){c=!0,d=v}finally{try{if(!a&&null!=g["return"])g["return"]()}finally{if(c)throw d;}}window.removeEventListener("scroll",this.onScroll);clearTimeout(this.parentCheck)}}]);return e}(),Ed=function(){function e(a){ra(this,e);this.points=a;this.text=""}ja(e,[{key:"readRange",value:function(a,c){if(a){for(var d=a.parentNode;;){this.findPointBefore(d,a);this.readNode(a);
var g=a.nextSibling;if(g==c)break;var m=Sb.get(a),v=Sb.get(g);if((m?m.breakAfter:Sa(a))||(v?v.breakAfter:Sa(g))&&("BR"!=a.nodeName||a.cmIgnore))this.text+="﷚";a=g}this.findPointBefore(d,c)}}},{key:"readNode",value:function(a){if(!a.cmIgnore){var c=Sb.get(a);c=c&&c.overrideDOMText;var d;null!=c?d=c.sliceString(0,void 0,"﷚"):3==a.nodeType?d=a.nodeValue:"BR"==a.nodeName?d=a.nextSibling?"﷚":"":1==a.nodeType&&this.readRange(a.firstChild,null);null!=d&&(this.findPointIn(a,d.length),this.text+=d)}}},{key:"findPointBefore",
value:function(a,c){var d=!0,g=!1,m=void 0;try{for(var v=this.points[Symbol.iterator](),N;!(d=(N=v.next()).done);d=!0){var R=N.value;R.node==a&&a.childNodes[R.offset]==c&&(R.pos=this.text.length)}}catch(X){g=!0,m=X}finally{try{if(!d&&null!=v["return"])v["return"]()}finally{if(g)throw m;}}}},{key:"findPointIn",value:function(a,c){var d=!0,g=!1,m=void 0;try{for(var v=this.points[Symbol.iterator](),N;!(d=(N=v.next()).done);d=!0){var R=N.value;R.node==a&&(R.pos=this.text.length+Math.min(R.offset,c))}}catch(X){g=
!0,m=X}finally{try{if(!d&&null!=v["return"])v["return"]()}finally{if(g)throw m;}}}}]);return e}(),td=function d(a,c){ra(this,d);this.node=a;this.offset=c;this.pos=-1},Vb=function(){function a(){var c=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ra(this,a);this.plugins=[];this.editorAttrs={};this.contentAttrs={};this.bidiCache=[];this.updateState=2;this.measureScheduled=-1;this.measureRequests=[];this.contentDOM=document.createElement("div");this.scrollDOM=document.createElement("div");
this.scrollDOM.className=E("scroller");this.scrollDOM.appendChild(this.contentDOM);this.dom=document.createElement("div");this.dom.appendChild(this.scrollDOM);this._dispatch=d.dispatch||function(g){return c.update([g])};this.dispatch=this.dispatch.bind(this);this.root=d.root||document;this.viewState=new vb(d.state||Qa.EditorState.create());this.plugins=this.state.facet(tb).map(function(g){return Qb.create(g,c)});this.observer=new Qd(this,function(g,m,v){return Ha(c,g,m,v)},function(){return c.measure()});
this.docView=new Lc(this);this.inputState=new Od(this);this.mountStyles();this.updateAttrs();this.updateState=0;rb();this.requestMeasure();d.parent&&d.parent.appendChild(this.dom)}ja(a,[{key:"dispatch",value:function(){var c;this._dispatch(1==arguments.length&&(0>=arguments.length?void 0:arguments[0])instanceof Qa.Transaction?0>=arguments.length?void 0:arguments[0]:(c=this.state).update.apply(c,arguments))}},{key:"update",value:function(c){if(0!=this.updateState)throw Error("Calls to EditorView.update are not allowed while an update is in progress");
this.updateState=2;var d=this.state,g=!0,m=!1,v=void 0;try{for(var N=c[Symbol.iterator](),R;!(g=(R=N.next()).done);g=!0){var X=R.value;if(X.startState!=d)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");d=X.state}}catch(La){m=!0,v=La}finally{try{if(!g&&null!=N["return"])N["return"]()}finally{if(m)throw v;}}g=new qc(this,d,c);c=c.some(function(La){return La.scrollIntoView})?d.selection.primary:null;this.viewState.update(g,c);this.bidiCache=
xd.update(this.bidiCache,g.changes);g.empty||this.updatePlugins(g);d=this.docView.update(g);this.state.facet(fc)!=this.styleModules&&this.mountStyles();this.updateAttrs();this.updateState=0;(d||c||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure();c=!0;d=!1;m=void 0;try{for(var ba=this.state.facet(Wa)[Symbol.iterator](),qa;!(c=(qa=ba.next()).done);c=!0){var va=qa.value;va(g)}}catch(La){d=!0,m=La}finally{try{if(!c&&null!=ba["return"])ba["return"]()}finally{if(d)throw m;}}}},{key:"setState",
value:function(c){var d=this;if(0!=this.updateState)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;var g=!0,m=!1,v=void 0;try{for(var N=this.plugins[Symbol.iterator](),R;!(g=(R=N.next()).done);g=!0)R.value.destroy(this)}catch(X){m=!0,v=X}finally{try{if(!g&&null!=N["return"])N["return"]()}finally{if(m)throw v;}}this.viewState=new vb(c);this.plugins=c.facet(tb).map(function(X){return Qb.create(X,d)});this.docView=new Lc(this);this.inputState.ensureHandlers(this);
this.mountStyles();this.updateAttrs();this.bidiCache=[];this.updateState=0;this.requestMeasure()}},{key:"updatePlugins",value:function(c){var d=c.prevState.facet(tb),g=c.state.facet(tb);if(d!=g){var m=[],v=[],N=!0,R=!1,X=void 0;try{for(var ba=g[Symbol.iterator](),qa;!(N=(qa=ba.next()).done);N=!0){var va=qa.value,La=d.indexOf(va);if(0>La)m.push(Qb.create(va,this));else{var ab=this.plugins[La].update(c);v.push(ab);m.push(ab)}}}catch(Mb){R=!0,X=Mb}finally{try{if(!N&&null!=ba["return"])ba["return"]()}finally{if(R)throw X;
}}c=!0;d=!1;g=void 0;try{for(var kb=this.plugins[Symbol.iterator](),Nb;!(c=(Nb=kb.next()).done);c=!0){var uc=Nb.value;0>v.indexOf(uc)&&uc.destroy(this)}}catch(Mb){d=!0,g=Mb}finally{try{if(!c&&null!=kb["return"])kb["return"]()}finally{if(d)throw g;}}this.plugins=m;this.inputState.ensureHandlers(this)}else for(m=0;m<this.plugins.length;m++)this.plugins[m]=this.plugins[m].update(c)}},{key:"measure",value:function(){var c=this;-1<this.measureScheduled&&cancelAnimationFrame(this.measureScheduled);this.measureScheduled=
1;for(var d=null,g=0;;g++){this.updateState=1;var m=this.viewState.measure(this.docView,0<g);if(!g){var v=!0,N=!1,R=void 0;try{for(var X=this.plugins[Symbol.iterator](),ba;!(v=(ba=X.next()).done);v=!0)ba.value.measure(this)}catch(ab){N=!0,R=ab}finally{try{if(!v&&null!=X["return"])X["return"]()}finally{if(N)throw R;}}}v=this.measureRequests;if(!m&&!v.length&&null==this.viewState.scrollTo)break;this.measureRequests=[];if(5<g){console.warn("Viewport failed to stabilize");break}N=v.map(function(ab){try{return ab.read(c)}catch(kb){return Ga(c.state,
kb),yd}});R=new qc(this,this.state);R.flags|=m;d?d.flags|=m:d=R;this.updateState=2;this.updatePlugins(R);m&&this.docView.update(R);for(R=0;R<v.length;R++)if(N[R]!=yd)try{v[R].write(N[R],this)}catch(ab){Ga(this.state,ab)}this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null);if(!(m&4)&&0==this.measureRequests.length)break}this.updateState=0;this.measureScheduled=-1;if(d){g=!0;m=!1;X=void 0;try{for(var qa=this.state.facet(Wa)[Symbol.iterator](),
va;!(g=(va=qa.next()).done);g=!0){var La=va.value;La(d)}}catch(ab){m=!0,X=ab}finally{try{if(!g&&null!=qa["return"])qa["return"]()}finally{if(m)throw X;}}}}},{key:"updateAttrs",value:function(){var c=h(this.state.facet(jc),{"class":E("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});u(this.dom,this.editorAttrs,c);this.editorAttrs=c;c=h(this.state.facet(Yb),{spellcheck:"false",contenteditable:String(this.state.facet(ib)),"class":E("content"),style:"".concat(jb.tabSize,": ").concat(this.state.tabSize),
role:"textbox","aria-multiline":"true"});u(this.contentDOM,this.contentAttrs,c);this.contentAttrs=c}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(fc);bc.StyleModule.mount(this.root,this.styleModules.concat(ad).reverse())}},{key:"domAtPos",value:function(c){return this.docView.domAtPos(c)}},{key:"posAtDOM",value:function(c){return this.docView.posFromDOM(c,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"readMeasured",value:function(){if(2==this.updateState)throw Error("Reading the editor layout isn't allowed during an update");
0==this.updateState&&-1<this.measureScheduled&&this.measure()}},{key:"requestMeasure",value:function(c){var d=this;0>this.measureScheduled&&(this.measureScheduled=requestAnimationFrame(function(){return d.measure()}));if(c){if(null!=c.key)for(var g=0;g<this.measureRequests.length;g++)if(this.measureRequests[g].key===c.key){this.measureRequests[g]=c;return}this.measureRequests.push(c)}}},{key:"pluginField",value:function(c){var d=[],g=!0,m=!1,v=void 0;try{for(var N=this.plugins[Symbol.iterator](),
R;!(g=(R=N.next()).done);g=!0)R.value.takeField(c,d)}catch(X){m=!0,v=X}finally{try{if(!g&&null!=N["return"])N["return"]()}finally{if(m)throw v;}}return d}},{key:"plugin",value:function(c){var d=!0,g=!1,m=void 0;try{for(var v=this.plugins[Symbol.iterator](),N;!(d=(N=v.next()).done);d=!0){var R=N.value;if(R.spec==c)return R.value}}catch(X){g=!0,m=X}finally{try{if(!d&&null!=v["return"])v["return"]()}finally{if(g)throw m;}}return null}},{key:"blockAtHeight",value:function(c,d){this.readMeasured();return this.viewState.blockAtHeight(c,
cb(d,this.contentDOM))}},{key:"visualLineAtHeight",value:function(c,d){this.readMeasured();return this.viewState.lineAtHeight(c,cb(d,this.contentDOM))}},{key:"visualLineAt",value:function(c){return this.viewState.lineAt(c,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"viewportLines",value:function(c,d){var g=this.viewport;this.viewState.forEachLine(g.from,g.to,c,cb(d,this.contentDOM))}},{key:"moveByChar",value:function(c,d,g){return lc(this,c,d,g)}},{key:"moveByGroup",value:function(c,
d){var g=this;return lc(this,c,d,function(m){return rc(g,c.head,m)})}},{key:"moveToLineBoundary",value:function(c,d){a:{var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;var m=this.state.doc.lineAt(c.head);if(g=g&&this.lineWrapping?this.coordsAtPos(0>c.assoc&&c.head>m.from?c.head-1:c.head):null){var v=this.dom.getBoundingClientRect();g=this.posAtCoords({x:d==(this.textDirection==cc.LTR)?v.right-1:v.left+1,y:(g.top+g.bottom)/2});if(-1<g){m=Qa.EditorSelection.cursor(g,d?-1:1);break a}}g=
sb.find(this.docView,c.head);m=Qa.EditorSelection.cursor(g?d?g.posAtEnd:g.posAtStart:d?m.to:m.from,d?-1:1)}return m}},{key:"moveVertically",value:function(c,d,g){a:{var m,v=c.head;var N=d?1:-1;if(v==(d?this.state.doc.length:0))N=Qa.EditorSelection.cursor(v);else{var R=this.coordsAtPos(v);if(R){var X=this.dom.getBoundingClientRect();d=null!==(m=c.goalColumn)&&void 0!==m?m:R.left-X.left;m=X.left+d;g=null!==g&&void 0!==g?g:5;R=0>N?R.top:R.bottom;for(X=0;50>X;X+=10){var ba=Cb(this,{x:m,y:R+(g+X)*N},N);
if(0>ba)break;if(ba!=v){N=Qa.EditorSelection.cursor(ba,void 0,void 0,d);break a}}}g=this.state.doc;R=g.lineAt(v);d=this.state.tabSize;m=c.goalColumn;c=0;if(null==m){for(v=g.iterRange(R.from,v);!v.next().done;)c=(0,I.countColumn)(v.value,c,d);m=c*this.defaultCharacterWidth}else c=Math.round(m/this.defaultCharacterWidth);if(0>N&&0==R.from)N=Qa.EditorSelection.cursor(0);else if(0<N&&R.to==g.length)N=Qa.EditorSelection.cursor(R.to);else{R=g.line(R.number+N);N=R.from;v=0;for(g=g.iterRange(R.from,R.to);v>=
c&&!g.next().done;)v=(0,I.findColumn)(g.value,v,c,d),R=v.offset,v=c-v.leftOver,N+=R;N=Qa.EditorSelection.cursor(N,void 0,void 0,m)}}}return N}},{key:"scrollPosIntoView",value:function(c){this.viewState.scrollTo=Qa.EditorSelection.cursor(c);this.requestMeasure()}},{key:"posAtCoords",value:function(c){this.readMeasured();return Cb(this,c)}},{key:"coordsAtPos",value:function(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var g=this.state.doc.lineAt(c),m=this.bidiSpans(g),
v=this.docView.coordsAt(c,d);if(!v||v.left==v.right)return v;g=m[tc.find(m,c-g.from,-1,d)];return x(v,g.dir==cc.LTR==0<d)}},{key:"bidiSpans",value:function(c){if(c.length>Rd)return[new tc(0,c.length,0)];var d=this.textDirection,g=!0,m=!1,v=void 0;try{for(var N=this.bidiCache[Symbol.iterator](),R;!(g=(R=N.next()).done);g=!0){var X=R.value;if(X.from==c.from&&X.dir==d)return X.order}}catch(ba){m=!0,v=ba}finally{try{if(!g&&null!=N["return"])N["return"]()}finally{if(m)throw v;}}g=U(c.slice(),this.textDirection);
this.bidiCache.push(new xd(c.from,c.to,d,g));return g}},{key:"focus",value:function(){var c=this;this.observer.ignore(function(){y(c.contentDOM);c.docView.updateSelection()})}},{key:"destroy",value:function(){var c=!0,d=!1,g=void 0;try{for(var m=this.plugins[Symbol.iterator](),v;!(c=(v=m.next()).done);c=!0)v.value.destroy(this)}catch(N){d=!0,g=N}finally{try{if(!c&&null!=m["return"])m["return"]()}finally{if(d)throw g;}}this.inputState.destroy();this.dom.remove();this.observer.destroy();-1<this.measureScheduled&&
cancelAnimationFrame(this.measureScheduled)}},{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"themeClasses",get:function(){return Cc+" "+(this.state.facet(xc)?Tc:Uc)+" "+this.state.facet(ec)}},{key:"contentHeight",get:function(){return this.viewState.heightMap.height+this.viewState.paddingTop+
this.viewState.paddingBottom}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.heightOracle.direction}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"hasFocus",get:function(){return this.root.activeElement==this.contentDOM}}],[{key:"domEventHandlers",value:function(c){return gb.define(function(){return{}},
{eventHandlers:c})}},{key:"theme",value:function(c,d){var g=bc.StyleModule.newName();c=[ec.of(g),fc.of(A(g,c))];d&&d.dark&&c.push(xc.of(!0));return c}},{key:"baseTheme",value:function(c){return(0,Qa.precedence)(fc.of(A(Cc,c)),"fallback")}}]);return a}();D.EditorView=Vb;Vb.styleModule=fc;Vb.inputHandler=Ua;Vb.exceptionSink=Na;Vb.updateListener=Wa;Vb.editable=ib;Vb.dragMovesSelection=ma;Vb.clickAddsSelectionRange=pa;Vb.mouseSelectionStyle=ua;Vb.decorations=Fb;Vb.lineWrapping=Vb.theme({content:{whiteSpace:"pre-wrap"}});
Vb.contentAttributes=Yb;Vb.editorAttributes=jc;var Rd=4096,gd=-1,yd={},xd=function(){function a(c,d,g,m){ra(this,a);this.from=c;this.to=d;this.dir=g;this.order=m}ja(a,null,[{key:"update",value:function(c,d){if(d.empty)return c;for(var g=[],m=c.length?c[c.length-1].dir:cc.LTR,v=Math.max(0,c.length-10);v<c.length;v++){var N=c[v];N.dir!=m||d.touchesRange(N.from,N.to)||g.push(new a(d.mapPos(N.from,1),d.mapPos(N.to,-1),N.dir,N.order))}return g}}]);return a}(),Fd="undefined"==typeof navigator?"key":/Mac/.test(navigator.platform)?
"mac":/Win/.test(navigator.platform)?"win":/Linux|X11/.test(navigator.platform)?"linux":"key",od=Qa.Facet.define(),Kd=Vb.domEventHandlers({keydown:function(a,c){return $b(c.state.facet(od),a,c,"editor")}}),Ac=null,Gd=4E3,Ld=Qa.StateField.define({create:function(a){return Rb(a.selection)},update:function(a,c){return c.docChanged||c.selection?Rb(c.state.selection):a},provide:[Vb.decorations]}),md=function(a){function c(){ra(this,c);return Ca(this,wa(c).apply(this,arguments))}za(c,a);ja(c,[{key:"toDOM",
value:function(){var d=document.createElement("span");d.className=E("secondaryCursor");return d}}]);return c}(vc);md.deco=mb.widget({widget:new md(null)});var Hd=mb.mark({"class":E("secondarySelection")}),Sd=/[\0-\x08\n-\x1F\x7F-\x9F\xAD\u061C\u200B\u200C\u200E\u200F\u2028\u2029\uFEFF\uFFF9-\uFFFC]/g,Td={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",
8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},nd=null,zd=null!=/x/.unicode?"gu":"g",Zc=Qa.Facet.define({combine:function(a){a=(0,Qa.combineConfig)(a,{render:null,specialChars:Sd,addSpecialChars:null});if(a.replaceTabs=!ac())a.specialChars=new RegExp("\t|"+a.specialChars.source,zd);a.addSpecialChars&&(a.specialChars=new RegExp(a.specialChars.source+"|"+a.addSpecialChars.source,zd));return a}}),Id=gb.fromClass(function(){function a(c){ra(this,
a);this.view=c;this.decorations=mb.none;this.decorationCache=Object.create(null);this.recompute()}ja(a,[{key:"update",value:function(c){var d=c.prevState.facet(Zc)!=c.state.facet(Zc);d&&(this.decorationCache=Object.create(null));(d||c.changes.length||c.viewportChanged)&&this.recompute()}},{key:"recompute",value:function(){var c=[],d=!0,g=!1,m=void 0;try{for(var v=this.view.visibleRanges[Symbol.iterator](),N;!(d=(N=v.next()).done);d=!0){var R=N.value;this.getDecorationsFor(R.from,R.to,c)}}catch(X){g=
!0,m=X}finally{try{if(!d&&null!=v["return"])v["return"]()}finally{if(g)throw m;}}this.decorations=mb.set(c)}},{key:"getDecorationsFor",value:function(c,d,g){var m=this.view.state.facet(Zc),v=this.view.state.doc,N=c;for(c=v.iterRange(c,d);!c.next().done;){if(!c.lineBreak)for(;d=m.specialChars.exec(c.value);){var R=(0,I.codePointAt)(d[0],0);if(null!=R){if(9==R){var X=v.lineAt(N+d.index);R=this.view.state.tabSize;X=(0,I.countColumn)(v.sliceString(X.from,N+d.index),0,R);R=mb.replace({widget:new Ud((R-
X%R)*this.view.defaultCharacterWidth)})}else R=this.decorationCache[R]||(this.decorationCache[R]=mb.replace({widget:new Vd(m,R)}));g.push(R.range(N+d.index,N+d.index+d[0].length))}}N+=c.value.length}}}]);return a}(),{decorations:function(a){return a.decorations}}),Vd=function(a){function c(d,g){ra(this,c);g=Ca(this,wa(c).call(this,g));g.options=d;return g}za(c,a);ja(c,[{key:"toDOM",value:function(){var d=this.value;d=32<=d?null:10==d?"␤":String.fromCharCode(9216+d);d=d||"•";var g="Control character "+
(Td[this.value]||this.value),m=this.options.render&&this.options.render(this.value,g,d);if(m)return m;m=document.createElement("span");m.textContent=d;m.title=g;m.setAttribute("aria-label",g);m.style.color="red";return m}},{key:"ignoreEvent",value:function(){return!1}}]);return c}(vc),Ud=function(a){function c(){ra(this,c);return Ca(this,wa(c).apply(this,arguments))}za(c,a);ja(c,[{key:"toDOM",value:function(){var d=document.createElement("span");d.textContent="\t";d.className=Ad.tab;d.style.width=
this.value+"px";return d}},{key:"ignoreEvent",value:function(){return!1}}]);return c}(vc),Ad=new bc.StyleModule({tab:{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"}}),Jd=Vb.styleModule.of(Ad),vd=200;D.__test={HeightMap:f,HeightOracle:Rc,MeasuredHeights:Kc,QueryType:b,ChangedRange:nc,computeOrder:U,moveVisually:ca}};
shadow$provide[7]=function(na,Pa,lb,D){function Ja(ha){for(var aa=0;aa<Da.length;aa+=2)if(Da.charCodeAt(aa)==ha)return Da.charAt(aa+1);return(0,ja.fromCodePoint)(128>ha?ha:ha+1)}function Ka(ha,aa,da,T){var H=ha.state.selection.primary;if(2<T.length||2==T.length&&1==(0,ja.codePointSize)((0,ja.codePointAt)(T,0))||aa!=H.from||da!=H.to)return!1;aa=Ca(ha.state,T);if(!aa)return!1;ha.dispatch(aa);return!0}function Ca(ha,aa){var da=ha.languageDataAt("closeBrackets",ha.selection.primary.head)[0]||Ia,T=da.brackets||
Ia.brackets,H=!0,z=!1,x=void 0;try{for(var y=T[Symbol.iterator](),M;!(H=(M=y.next()).done);H=!0){var Q=M.value,G=Ja((0,ja.codePointAt)(Q,0));if(aa==Q)return G==Q?Fa(ha,Q,-1<T.indexOf(Q+Q+Q)):wa(ha,Q,G,da.before||Ia.before);if(aa==G)return za(ha,Q,G)}}catch(r){z=!0,x=r}finally{try{if(!H&&null!=y["return"])y["return"]()}finally{if(z)throw x;}}return null}function Ra(ha,aa){ha=ha.sliceString(aa,aa+2);return ha.slice(0,(0,ja.codePointSize)((0,ja.codePointAt)(ha,0)))}function wa(ha,aa,da,T){var H=null,
z=ha.changeByRange(function(x){if(!x.empty)return{changes:[{insert:aa,from:x.from},{insert:da,from:x.to}],range:Ea.EditorSelection.range(x.anchor+aa.length,x.head+aa.length)};var y=Ra(ha.doc,x.head);return!y||/\s/.test(y)||-1<T.indexOf(y)?{changes:{insert:aa+da,from:x.head},range:Ea.EditorSelection.cursor(x.head+aa.length)}:{range:H=x}});return H?null:ha.update(z,{scrollIntoView:!0})}function za(ha,aa,da){var T=null;aa=ha.selection.ranges.map(function(H){return H.empty&&Ra(ha.doc,H.head)==da?Ea.EditorSelection.cursor(H.head+
da.length):T=H});return T?null:ha.update({selection:Ea.EditorSelection.create(aa,ha.selection.primaryIndex),scrollIntoView:!0})}function Fa(ha,aa,da){var T=null,H=ha.changeByRange(function(z){if(!z.empty)return{changes:[{insert:aa,from:z.from},{insert:aa,from:z.to}],range:Ea.EditorSelection.range(z.anchor+aa.length,z.head+aa.length)};var x=z.head,y=Ra(ha.doc,x);if(y==aa){if(Ma(ha,x))return{changes:{insert:aa+aa,from:x},range:Ea.EditorSelection.cursor(x+aa.length)};z=da&&ha.sliceDoc(x,x+3*aa.length)==
aa+aa+aa;return{range:Ea.EditorSelection.cursor(x+aa.length*(z?3:1))}}return da&&ha.sliceDoc(x-2*aa.length,x)==aa+aa&&Ma(ha,x-2*aa.length)?{changes:{insert:aa+aa+aa+aa,from:x},range:Ea.EditorSelection.cursor(x+aa.length)}:ha.charCategorizer(x)(y)!=Ea.CharCategory.Word&&(y=ha.sliceDoc(x-1,x),y!=aa&&ha.charCategorizer(x)(y)!=Ea.CharCategory.Word)?{changes:{insert:aa+aa,from:x},range:Ea.EditorSelection.cursor(x+aa.length)}:{range:T=z}});return T?null:ha.update(H,{scrollIntoView:!0})}function Ma(ha,aa){ha=
ha.tree.resolve(aa+1);return ha.parent&&ha.start==aa}Object.defineProperty(D,"__esModule",{value:!0});D.closeBrackets=function(){return ra.EditorView.inputHandler.of(Ka)};D.handleInsertion=Ca;D.deleteBracketPair=D.closeBracketsKeymap=void 0;var ra=Pa(6),Ea=Pa(2),ja=Pa(0),Ia={brackets:["(","[","{","'",'"'],before:")]}'\":;\x3e"},Da="()[]{}\x3c\x3e";na=function(ha){var aa=ha.state;ha=ha.dispatch;var da=(aa.languageDataAt("closeBrackets",aa.selection.primary.head)[0]||Ia).brackets||Ia.brackets,T=null,
H=aa.changeByRange(function(z){if(z.empty){var x=z.head;x=aa.doc.sliceString(x-2,x);x=(0,ja.codePointSize)((0,ja.codePointAt)(x,0))==x.length?x:x.slice(1);var y=!0,M=!1,Q=void 0;try{for(var G=da[Symbol.iterator](),r;!(y=(r=G.next()).done);y=!0){var t=r.value;if(t==x&&Ra(aa.doc,z.head)==Ja((0,ja.codePointAt)(t,0)))return{changes:{from:z.head-t.length,to:z.head+t.length},range:Ea.EditorSelection.cursor(z.head-t.length)}}}catch(k){M=!0,Q=k}finally{try{if(!y&&null!=G["return"])G["return"]()}finally{if(M)throw Q;
}}}return{range:T=z}});T||ha(aa.update(H,{scrollIntoView:!0}));return!T};D.deleteBracketPair=na;D.closeBracketsKeymap=[{key:"Backspace",run:na}]};
shadow$provide[8]=function(na,Pa,lb,D){function Ja(k){Ja="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};return Ja(k)}function Ka(k,h){if(!(k instanceof h))throw new TypeError("Cannot call a class as a function");}function Ca(k,h){for(var l=0;l<h.length;l++){var u=h[l];u.enumerable=u.enumerable||!1;u.configurable=!0;"value"in u&&(u.writable=!0);
Object.defineProperty(k,u.key,u)}}function Ra(k,h,l){h&&Ca(k.prototype,h);l&&Ca(k,l);return k}function wa(k,h){if(h&&("object"===Ja(h)||"function"===typeof h))return h;if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function za(k){za=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)};return za(k)}function Fa(k,h){if("function"!==typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");
k.prototype=Object.create(h&&h.prototype,{constructor:{value:k,writable:!0,configurable:!0}});h&&Ma(k,h)}function Ma(k,h){Ma=Object.setPrototypeOf||function(l,u){l.__proto__=u;return l};return Ma(k,h)}function ra(k){return[Ea(),da.of(Object.assign(Object.assign({},aa),k))]}function Ea(k){var h=[z,T];k&&!1===k.fixed&&h.push(H.of(!0));return h}function ja(k){for(var h=9;h<k;)h=10*h+9;return h}Object.defineProperty(D,"__esModule",{value:!0});D.gutter=ra;D.gutters=Ea;D.lineNumbers=function(){return[G.of(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:{}),t]};D.lineNumberMarkers=D.GutterMarker=void 0;var Ia=Pa(6),Da=Pa(4),ha=Pa(2);na=function(k){function h(){Ka(this,h);return wa(this,za(h).apply(this,arguments))}Fa(h,k);Ra(h,[{key:"compare",value:function(l){return this==l||this.constructor==l.constructor&&this.eq(l)}},{key:"toDOM",value:function(l){return null}},{key:"at",value:function(l){return new Da.Range(l,l,this)}}]);return h}(Da.RangeValue);D.GutterMarker=na;na.prototype.elementClass=
"";na.prototype.mapMode=ha.MapMode.TrackBefore;var aa={style:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return Da.RangeSet.empty},lineMarker:function(){return null},initialSpacer:null,updateSpacer:null,domEventHandlers:{}},da=ha.Facet.define(),T=Ia.EditorView.baseTheme({gutters:{display:"flex",height:"100%",boxSizing:"border-box",left:0},"gutters@light":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"gutters@dark":{backgroundColor:"#333338",color:"#ccc"},gutter:{display:"flex !important",
flexDirection:"column",flexShrink:0,boxSizing:"border-box",height:"100%",overflow:"hidden"},gutterElement:{boxSizing:"border-box"},"gutterElement.lineNumber":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"}}),H=ha.Facet.define({combine:function(k){return k.some(function(h){return h})}}),z=Ia.ViewPlugin.fromClass(function(){function k(h){Ka(this,k);this.view=h;this.dom=document.createElement("div");this.dom.className=(0,Ia.themeClass)("gutters");this.dom.setAttribute("aria-hidden",
"true");this.gutters=h.state.facet(da).map(function(E){return new y(h,E)});var l=!0,u=!1,J=void 0;try{for(var F=this.gutters[Symbol.iterator](),A;!(l=(A=F.next()).done);l=!0)this.dom.appendChild(A.value.dom)}catch(E){u=!0,J=E}finally{try{if(!l&&null!=F["return"])F["return"]()}finally{if(u)throw J;}}if(this.fixed=!h.state.facet(H))this.dom.style.position="sticky";h.scrollDOM.insertBefore(this.dom,h.contentDOM)}Ra(k,[{key:"update",value:function(h){var l=this;if(this.updateGutters(h)){var u=this.gutters.map(function(U){return new x(U,
l.view.viewport)});this.view.viewportLines(function(U){if(Array.isArray(U.type)){var ca=!0,ka=!1,xa=void 0;try{for(var Ga=U.type[Symbol.iterator](),Ta;!(ca=(Ta=Ga.next()).done);ca=!0){var fb=Ta.value;if(fb.type==Ia.BlockType.Text){var db=fb;break}}}catch(wb){ka=!0,xa=wb}finally{try{if(!ca&&null!=Ga["return"])Ga["return"]()}finally{if(ka)throw xa;}}}else db=U.type==Ia.BlockType.Text?U:void 0;if(db){U=!0;ca=!1;ka=void 0;try{for(var ub=u[Symbol.iterator](),nb;!(U=(nb=ub.next()).done);U=!0)nb.value.line(l.view,
db)}catch(wb){ca=!0,ka=wb}finally{try{if(!U&&null!=ub["return"])ub["return"]()}finally{if(ca)throw ka;}}}},0);var J=!0,F=!1,A=void 0;try{for(var E=u[Symbol.iterator](),O;!(J=(O=E.next()).done);J=!0)O.value.finish()}catch(U){F=!0,A=U}finally{try{if(!J&&null!=E["return"])E["return"]()}finally{if(F)throw A;}}this.dom.style.minHeight=this.view.contentHeight+"px";h.state.facet(H)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"")}}},{key:"updateGutters",value:function(h){var l=
h.prevState.facet(da),u=h.state.facet(da),J=h.docChanged||h.heightChanged||h.viewportChanged;if(l==u){var F=!0,A=!1;l=void 0;try{for(var E=this.gutters[Symbol.iterator](),O;!(F=(O=E.next()).done);F=!0)O.value.update(h)&&(J=!0)}catch(fb){A=!0,l=fb}finally{try{if(!F&&null!=E["return"])E["return"]()}finally{if(A)throw l;}}}else{J=!0;E=[];O=!0;var U=!1,ca=void 0;try{for(var ka=u[Symbol.iterator](),xa;!(O=(xa=ka.next()).done);O=!0){var Ga=xa.value,Ta=l.indexOf(Ga);0>Ta?E.push(new y(this.view,Ga)):(this.gutters[Ta].update(h),
E.push(this.gutters[Ta]))}}catch(fb){U=!0,ca=fb}finally{try{if(!O&&null!=ka["return"])ka["return"]()}finally{if(U)throw ca;}}h=!0;l=!1;u=void 0;try{for(F=this.gutters[Symbol.iterator]();!(h=(A=F.next()).done);h=!0)A.value.dom.remove()}catch(fb){l=!0,u=fb}finally{try{if(!h&&null!=F["return"])F["return"]()}finally{if(l)throw u;}}for(h=0;h<E.length;h++)this.dom.appendChild(E[h].dom);this.gutters=E}return J}},{key:"destroy",value:function(){this.dom.remove()}}]);return k}(),{provide:Ia.PluginField.scrollMargins.from(function(k){return 0!=
k.gutters.length&&k.fixed?k.view.textDirection==Ia.Direction.LTR?{left:k.dom.offsetWidth}:{right:k.dom.offsetWidth}:null})}),x=function(){function k(h,l){Ka(this,k);this.gutter=h;this.localMarkers=[];this.height=this.i=0;this.cursor=Da.RangeSet.iter(Array.isArray(h.markers)?h.markers:[h.markers],l.from)}Ra(k,[{key:"line",value:function(h,l){this.localMarkers.length&&(this.localMarkers=[]);for(;this.cursor.value&&this.cursor.from<=l.from;)this.cursor.from==l.from&&this.localMarkers.push(this.cursor.value),
this.cursor.next();var u=this.gutter.config.lineMarker(h,l,this.localMarkers);u&&this.localMarkers.unshift(u);u=this.gutter;if(0!=this.localMarkers.length||u.config.renderEmptyElements){var J=l.top-this.height;if(this.i==u.elements.length)h=new M(h,l.height,J,this.localMarkers,u.elementClass),u.elements.push(h),u.dom.appendChild(h.dom);else{var F=this.localMarkers,A=u.elements[this.i];a:{var E=F;var O=A.markers;if(E.length!=O.length)E=!1;else{for(var U=0;U<E.length;U++)if(!E[U].compare(O[U])){E=!1;
break a}E=!0}}E&&(F=A.markers,this.localMarkers.length=0);A.update(h,l.height,J,F,u.elementClass)}this.height=l.bottom;this.i++}}},{key:"finish",value:function(){for(var h=this.gutter;h.elements.length>this.i;)h.dom.removeChild(h.elements.pop().dom)}}]);return k}(),y=function(){function k(h,l){var u=this;Ka(this,k);this.view=h;this.config=l;this.elements=[];this.spacer=null;this.dom=document.createElement("div");this.dom.className=(0,Ia.themeClass)("gutter"+(this.config.style?"."+this.config.style:
""));this.elementClass=(0,Ia.themeClass)("gutterElement"+(this.config.style?"."+this.config.style:""));var J=function(A){u.dom.addEventListener(A,function(E){var O=h.visualLineAtHeight(E.clientY,h.contentDOM.getBoundingClientRect().top);l.domEventHandlers[A](h,O,E)&&E.preventDefault()})},F;for(F in l.domEventHandlers)J(F);this.markers=l.markers(h.state);l.initialSpacer&&(this.spacer=new M(h,0,0,[l.initialSpacer(h)],this.elementClass),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+=
"visibility: hidden; pointer-events: none")}Ra(k,[{key:"update",value:function(h){var l=this.markers;this.markers=this.config.markers(h.state);if(this.spacer&&this.config.updateSpacer){var u=this.config.updateSpacer(this.spacer.markers[0],h);u!=this.spacer.markers[0]&&this.spacer.update(h.view,0,0,[u],this.elementClass)}return this.markers!=l}}]);return k}(),M=function(){function k(h,l,u,J,F){Ka(this,k);this.height=-1;this.above=0;this.dom=document.createElement("div");this.update(h,l,u,J,F)}Ra(k,
[{key:"update",value:function(h,l,u,J,F){this.height!=l&&(this.dom.style.height=(this.height=l)+"px");this.above!=u&&(this.dom.style.marginTop=(this.above=u)?u+"px":"");if(this.markers!=J){for(this.markers=J;l=this.dom.lastChild;)l.remove();l=!0;u=!1;var A=void 0;try{for(var E=J[Symbol.iterator](),O;!(l=(O=E.next()).done);l=!0){var U=O.value,ca=U.toDOM(h);ca&&this.dom.appendChild(ca);var ka=U.elementClass;ka&&(F+=" "+ka)}}catch(xa){u=!0,A=xa}finally{try{if(!l&&null!=E["return"])E["return"]()}finally{if(u)throw A;
}}this.dom.className=F}}}]);return k}(),Q=ha.Facet.define();D.lineNumberMarkers=Q;var G=ha.Facet.define({combine:function(k){return(0,ha.combineConfig)(k,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(h,l){var u=Object.assign({},h);h=function(F){var A=u[F],E=l[F];u[F]=A?function(O,U,ca){return A(O,U,ca)||E(O,U,ca)}:E};for(var J in l)h(J);return u}})}}),r=function(k){function h(l){Ka(this,h);var u=wa(this,za(h).call(this));u.number=l;return u}Fa(h,k);Ra(h,[{key:"eq",value:function(l){return this.number==
l.number}},{key:"toDOM",value:function(l){l=l.state.facet(G);return document.createTextNode(l.formatNumber(this.number))}}]);return h}(na),t=ra({style:"lineNumber",markers:function(k){return k.facet(Q)},lineMarker:function(k,h,l){return l.length?null:new r(k.state.doc.lineAt(h.from).number)},initialSpacer:function(k){return new r(ja(k.state.doc.lines))},updateSpacer:function(k,h){h=ja(h.view.state.doc.lines);return h==k.number?k:new r(h)}})};
shadow$provide[9]=function(na,Pa,lb,D){function Ja(h){Ja="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};return Ja(h)}function Ka(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function");}function Ca(h,l){for(var u=0;u<l.length;u++){var J=l[u];J.enumerable=J.enumerable||!1;J.configurable=!0;"value"in J&&(J.writable=!0);
Object.defineProperty(h,J.key,J)}}function Ra(h,l,u){l&&Ca(h.prototype,l);u&&Ca(h,u);return h}function wa(h,l){if(l&&("object"===Ja(l)||"function"===typeof l))return l;if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function za(h){za=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)};return za(h)}function Fa(h,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");
h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,writable:!0,configurable:!0}});l&&Ma(h,l)}function Ma(h,l){Ma=Object.setPrototypeOf||function(u,J){u.__proto__=J;return u};return Ma(h,l)}function ra(h,l){var u=l.mapPos(h.from,1);h=l.mapPos(h.to,-1);return u>=h?void 0:{from:u,to:h}}function Ea(h){var l=[],u=!0,J=!1,F=void 0;try{for(var A=function(){var U=O.value.head;if(l.some(function(ca){return ca.from<=U&&ca.to>=U}))return"continue";l.push(h.visualLineAt(U))},E=h.state.selection.ranges[Symbol.iterator](),
O;!(u=(O=E.next()).done);u=!0)A()}catch(U){J=!0,F=U}finally{try{if(!u&&null!=E["return"])E["return"]()}finally{if(J)throw F;}}return l}function ja(h,l,u){var J,F=null;null===(J=h.field(x,!1))||void 0===J?void 0:J.between(l,u,function(A,E){if(!F||F.from>A)F={from:A,to:E}});return F}function Ia(h,l,u){var J=!1;h.between(l,l,function(F,A){F==l&&A==u&&(J=!0)});return J}function Da(h,l,u){return h.facet(aa.EditorState.foldable).reduce(function(J,F){return J||F(h,l,u)},null)}function ha(h){var l=[x,k];
h&&l.push(Q.of(h));return l}Object.defineProperty(D,"__esModule",{value:!0});D.codeFolding=ha;D.foldGutter=function(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},l=Object.assign(Object.assign({},r),h),u=new t(l,!0),J=new t(l,!1);return[(0,T.gutter)({style:"foldGutter",lineMarker:function(F,A){return ja(F.state,A.from,A.to)?J:Da(F.state,A.from,A.to)?u:null},initialSpacer:function(){return new t(l,!1)},domEventHandlers:{click:function(F,A){var E=ja(F.state,A.from,A.to);return E?
(F.dispatch({effects:z.of(E)}),!0):(A=Da(F.state,A.from,A.to))?(F.dispatch({effects:H.of(A)}),!0):!1}}}),ha()]};D.unfoldCode=D.unfoldAll=D.foldKeymap=D.foldCode=D.foldAll=void 0;var aa=Pa(2),da=Pa(6),T=Pa(8),H=aa.StateEffect.define({map:ra}),z=aa.StateEffect.define({map:ra}),x=aa.StateField.define({create:function(){return da.Decoration.none},update:function(h,l){h=h.map(l.changes);var u=!0,J=!1,F=void 0;try{for(var A=function(){var ka=O.value;ka.is(H)&&!Ia(h,ka.value.from,ka.value.to)?h=h.update({add:[G.decoration.range(ka.value.from,
ka.value.to)]}):ka.is(z)&&(h=h.update({filter:function(xa,Ga){return ka.value.from!=xa||ka.value.to!=Ga},filterFrom:ka.value.from,filterTo:ka.value.to}))},E=l.effects[Symbol.iterator](),O;!(u=(O=E.next()).done);u=!0)A()}catch(ka){J=!0,F=ka}finally{try{if(!u&&null!=E["return"])E["return"]()}finally{if(J)throw F;}}if(l.selection){var U=!1,ca=l.selection.primary.head;h.between(ca,ca,function(ka,xa){ka<ca&&xa>ca&&(U=!0)});U&&(h=h.update({filterFrom:ca,filterTo:ca,filter:function(ka,xa){return xa<=ca||
ka>=ca}}))}return h},provide:[da.EditorView.decorations]});na=function(h){var l=!0,u=!1,J=void 0;try{for(var F=Ea(h)[Symbol.iterator](),A;!(l=(A=F.next()).done);l=!0){var E=A.value,O=Da(h.state,E.from,E.to);if(O)return h.dispatch({effects:H.of(O),reconfigure:h.state.field(x,!1)?void 0:{append:ha()}}),!0}}catch(U){u=!0,J=U}finally{try{if(!l&&null!=F["return"])F["return"]()}finally{if(u)throw J;}}return!1};D.foldCode=na;Pa=function(h){if(!h.state.field(x,!1))return!1;var l=[],u=!0,J=!1,F=void 0;try{for(var A=
Ea(h)[Symbol.iterator](),E;!(u=(E=A.next()).done);u=!0){var O=E.value,U=ja(h.state,O.from,O.to);U&&l.push(z.of(U))}}catch(ca){J=!0,F=ca}finally{try{if(!u&&null!=A["return"])A["return"]()}finally{if(J)throw F;}}l.length&&h.dispatch({effects:l});return 0<l.length};D.unfoldCode=Pa;lb=function(h){for(var l=h.state,u=[],J=0;J<l.doc.length;){J=h.visualLineAt(J);var F=Da(l,J.from,J.to);F&&u.push(H.of(F));J=(F?h.visualLineAt(F.to):J).to+1}u.length&&h.dispatch({effects:u,reconfigure:h.state.field(x,!1)?void 0:
{append:ha()}});return!!u.length};D.foldAll=lb;var y=function(h){var l=h.state.field(x,!1);if(!l||!l.size)return!1;var u=[];l.between(0,h.state.doc.length,function(J,F){u.push(z.of({from:J,to:F}))});h.dispatch({effects:u});return!0};D.unfoldAll=y;D.foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:na},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Pa},{key:"Ctrl-Alt-[",run:lb},{key:"Ctrl-Alt-]",run:y}];var M={placeholderDOM:null,placeholderText:"…"},Q=aa.Facet.define({combine:function(h){return(0,aa.combineConfig)(h,
M)}}),G=function(h){function l(){Ka(this,l);return wa(this,za(l).apply(this,arguments))}Fa(l,h);Ra(l,[{key:"ignoreEvents",value:function(){return!1}},{key:"toDOM",value:function(u){var J=u.state,F=J.facet(Q);if(F.placeholderDOM)return F.placeholderDOM();var A=document.createElement("span");A.textContent=F.placeholderText;A.setAttribute("aria-label",J.phrase("folded code"));A.title=J.phrase("unfold");A.className=(0,da.themeClass)("foldPlaceholder");A.onclick=function(E){var O=u.visualLineAt(u.posAtDOM(E.target));
(O=ja(u.state,O.from,O.to))&&u.dispatch({effects:z.of(O)});E.preventDefault()};return A}}]);return l}(da.WidgetType);G.decoration=da.Decoration.replace({widget:new G(null)});var r={openText:"⌄",closedText:"›"},t=function(h){function l(u,J){Ka(this,l);var F=wa(this,za(l).call(this));F.config=u;F.open=J;return F}Fa(l,h);Ra(l,[{key:"eq",value:function(u){return this.config==u.config&&this.open==u.open}},{key:"toDOM",value:function(u){var J=document.createElement("span");J.textContent=this.open?this.config.openText:
this.config.closedText;J.title=u.state.phrase(this.open?"Fold line":"Unfold line");return J}}]);return l}(T.GutterMarker),k=da.EditorView.baseTheme({foldPlaceholder:{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},"gutterElement.foldGutter":{padding:"0 1px",cursor:"pointer"}})};
shadow$provide[10]=function(na,Pa,lb,D){function Ja(aa,da){if(!(aa instanceof da))throw new TypeError("Cannot call a class as a function");}function Ka(aa,da){for(var T=0;T<da.length;T++){var H=da[T];H.enumerable=H.enumerable||!1;H.configurable=!0;"value"in H&&(H.writable=!0);Object.defineProperty(aa,H.key,H)}}function Ca(aa,da,T){da&&Ka(aa.prototype,da);T&&Ka(aa,T);return aa}Object.defineProperty(D,"__esModule",{value:!0});D.styleTags=D.highlighter=D.defaultTags=D.defaultHighlighter=D.TagSystem=
void 0;var Ra=Pa(1),wa=Pa(3),za=Pa(6),Fa=Pa(2),Ma=Pa(4);na=function(){function aa(da){var T=this;Ja(this,aa);this.typeNames=[""];this.typeIDs=Object.create(null);this.prop=new Ra.NodeProp;this.flags=da.flags;this.types=da.types;this.flagMask=Math.pow(2,this.flags.length)-1;this.typeShift=this.flags.length;var H=da.subtypes||0,z=[void 0];this.typeIDs[""]=0;var x=1,y=!0,M=!1,Q=void 0;try{for(var G=da.types[Symbol.iterator](),r;!(y=(r=G.next()).done);y=!0){var t=r.value,k=/^([\w\-]+)(?:=([\w-]+))?$/.exec(t);
if(!k)throw new RangeError("Invalid type name "+t);var h=x++;this.typeNames[h]=k[1];this.typeIDs[k[1]]=h;z[h]=k[2];for(da=0;da<H;da++){var l=x++,u=k[1]+"#"+(da+1);this.typeNames[l]=u;this.typeIDs[u]=l;z[l]=k[1]}}}catch(J){M=!0,Q=J}finally{try{if(!y&&null!=G["return"])G["return"]()}finally{if(M)throw Q;}}this.parents=z.map(function(J){if(null==J)return 0;var F=T.typeIDs[J];if(null==F)throw new RangeError("Unknown parent type '".concat(J,"' specified"));return F});if(30<this.flags.length||this.typeNames.length>
Math.pow(2,30-this.flags.length))throw new RangeError("Too many style tag flags to fit in a 30-bit integer");}Ca(aa,[{key:"get",value:function(da){var T=0,H=!0,z=!1,x=void 0;try{for(var y=da.split(" ")[Symbol.iterator](),M;!(H=(M=y.next()).done);H=!0){var Q=M.value;if(Q){var G=this.flags.indexOf(Q);if(-1<G)T+=1<<G;else{var r=this.typeIDs[Q];if(null==r)throw new RangeError("Unknown tag type '".concat(Q,"'"));if(T>>this.typeShift)throw new RangeError("Multiple tag types specified in '".concat(da,"'"));
T+=r<<this.typeShift}}}}catch(t){z=!0,x=t}finally{try{if(!H&&null!=y["return"])y["return"]()}finally{if(z)throw x;}}return T}},{key:"getWithMode",value:function(da){var T="+"==da[0]?1:"!"==da[0]?0:2;return{mode:T,tag:this.get(2==T?da:da.slice(1))}}},{key:"addTagProp",value:function(da){var T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},H=this.getWithMode(da);return this.prop.set(T,new ja(H.tag,H.mode,Ea))}},{key:"add",value:function(da){var T=Object.create(null),H;for(H in da){var z=
this.getWithMode(da[H]),x=z.mode;z=z.tag;var y=!0,M=!1,Q=void 0;try{for(var G=H.split(" ")[Symbol.iterator](),r;!(y=(r=G.next()).done);y=!0){var t=r.value.split("/"),k=t[t.length-1],h=1<t.length?t.slice(0,t.length-1).map(function(u){return"*"==u?null:u}):Ea,l=new ja(z,x,h);T[k]=l.sort(T[k])}}catch(u){M=!0,Q=u}finally{try{if(!y&&null!=G["return"])G["return"]()}finally{if(M)throw Q;}}}return this.prop.add(T)}},{key:"highlighter",value:function(da){var T=this,H=new Da(this,da);return[(0,Fa.precedence)(za.ViewPlugin.define(function(z){return new ha(z,
T.prop,H)},{decorations:function(z){return z.decorations}}),"fallback"),za.EditorView.styleModule.of(H.module)]}},{key:"specificity",value:function(da){for(var T=da&this.flagMask,H=0,z=1;z<=this.flags.length;z++)T&1<<z&&H++;for(da>>=this.typeShift;da;da=this.parents[da])H+=1E3;return H}}]);return aa}();D.TagSystem=na;var ra=new na({flags:"invalid meta standard definition constant local control link strong emphasis monospace changed inserted deleted".split(" "),subtypes:7,types:"comment lineComment\x3dcomment blockComment\x3dcomment docComment\x3dcomment name variableName\x3dname typeName\x3dname propertyName\x3dname className\x3dname labelName\x3dname functionName\x3dname namespace\x3dname literal string\x3dliteral docString\x3dstring character\x3dstring number\x3dliteral integer\x3dnumber float\x3dnumber bool\x3dliteral regexp\x3dliteral escape\x3dliteral color\x3dliteral content heading\x3dcontent list\x3dcontent quote\x3dcontent keyword self\x3dkeyword null\x3dkeyword atom\x3dkeyword unit\x3dkeyword modifier\x3dkeyword operatorKeyword\x3dkeyword operator derefOperator\x3doperator arithmeticOperator\x3doperator logicOperator\x3doperator bitwiseOperator\x3doperator compareOperator\x3doperator updateOperator\x3doperator typeOperator\x3doperator punctuation separator\x3dpunctuation bracket\x3dpunctuation angleBracket\x3dbracket squareBracket\x3dbracket paren\x3dbracket brace\x3dbracket".split(" ")});
D.defaultTags=ra;var Ea=[],ja=function(){function aa(da,T,H,z){Ja(this,aa);this.tag=da;this.mode=T;this.context=H;this.next=z}Ca(aa,[{key:"sort",value:function(da){if(!da||da.context.length<this.context.length)return this.next=da,this;da.next=this.sort(da.next);return da}}]);return aa}();D.styleTags=function(aa){return ra.add(aa)};na=function(aa){return ra.highlighter(aa)};D.highlighter=na;var Ia=function x(da,T,H,z){Ja(this,x);this.type=da;this.flags=T;this.specificity=H;this.cls=z},Da=function(){function da(T,
H){Ja(this,da);this.tags=T;this.cache=Object.create(null);var z=Object.create(null),x=0,y=[],M;for(M in H){var Q="c"+x++;z[Q]=H[M];var G=!0,r=!1,t=void 0;try{for(var k=M.split(/\s*,\s*/)[Symbol.iterator](),h;!(G=(h=k.next()).done);G=!0){var l=T.get(h.value);y.push(new Ia(l>>T.typeShift,l&T.flagMask,T.specificity(l),Q))}}catch(u){r=!0,t=u}finally{try{if(!G&&null!=k["return"])k["return"]()}finally{if(r)throw t;}}}this.rules=y.sort(function(u,J){return J.specificity-u.specificity});this.module=new wa.StyleModule(z)}
Ca(da,[{key:"match",value:function(T){var H=this.cache[T];if(null!=H)return H;H="";for(var z=T>>this.tags.typeShift,x=T&this.tags.flagMask;;){var y=!0,M=!1,Q=void 0;try{for(var G=this.rules[Symbol.iterator](),r;!(y=(r=G.next()).done);y=!0){var t=r.value;if(t.type==z&&(t.flags&x)==t.flags&&(H&&(H+=" "),H+=this.module[t.cls],x&=~t.flags,z))break}}catch(k){M=!0,Q=k}finally{try{if(!y&&null!=G["return"])G["return"]()}finally{if(M)throw Q;}}if(z)z=this.tags.parents[z];else break}return this.cache[T]=H}}]);
return da}(),ha=function(){function da(T,H,z){Ja(this,da);this.prop=H;this.styling=z;this.nodeStack=[""];this.classStack=[""];this.inheritStack=[""];this.tree=T.state.tree;this.decorations=this.buildDeco(T.visibleRanges,this.tree)}Ca(da,[{key:"update",value:function(T){var H=T.state.facet(Fa.EditorState.syntax);if(!H.length)this.decorations=za.Decoration.none;else if(H[0].parsePos(T.state)<T.view.viewport.to)this.decorations=this.decorations.map(T.changes);else if(this.tree!=H[0].getTree(T.state)||
T.viewportChanged)this.tree=H[0].getTree(T.state),this.decorations=this.buildDeco(T.view.visibleRanges,this.tree)}},{key:"buildDeco",value:function(T,H){function z(E,O){E>M&&O&&y.add(M,E,za.Decoration.mark({"class":O}));M=E}var x=this,y=new Ma.RangeSetBuilder,M,Q,G,r=this.nodeStack,t=this.classStack,k=this.inheritStack,h=!0,l=!1,u=void 0;try{for(var J=function(){var E=A.value,O=E.from,U=E.to;Q="";G=0;M=O;H.iterate({from:O,to:U,enter:function(ca,ka){G++;for(var xa=k[G-1],Ga=xa,Ta=ca.prop(x.prop),fb=
!1;Ta;){var db;if(!(db=!Ta.context.length))a:if(db=Ta.context,db.length>G-1)db=!1;else{for(var ub=G-1,nb=db.length-1;0<=nb;nb--,ub--){var wb=db[nb];if(wb&&wb!=r[ub]){db=!1;break a}}db=!0}if(db){if(db=x.styling.match(Ta.tag))Ga&&(Ga+=" "),Ga+=db,1==Ta.mode?xa=Ga:0==Ta.mode&&(fb=!0);break}Ta=Ta.next}Ga!=Q&&(z(ka,Q),Q=Ga);if(fb)return G--,!1;t[G]=Ga;k[G]=xa;r[G]=ca.name},leave:function(ca,ka,xa){G--;ca=t[G];ca!=Q&&(z(Math.min(U,xa),Q),Q=ca)}})},F=T[Symbol.iterator](),A;!(h=(A=F.next()).done);h=!0)J()}catch(E){l=
!0,u=E}finally{try{if(!h&&null!=F["return"])F["return"]()}finally{if(l)throw u;}}return y.finish()}}]);return da}();na=na({deleted:{textDecoration:"line-through"},inserted:{textDecoration:"underline"},link:{textDecoration:"underline"},strong:{fontWeight:"bold"},emphasis:{fontStyle:"italic"},invalid:{color:"#f00"},keyword:{color:"#708"},"atom, bool":{color:"#219"},number:{color:"#164"},string:{color:"#a11"},"regexp, escape":{color:"#e40"},"variableName definition":{color:"#00f"},typeName:{color:"#085"},
className:{color:"#167"},"propertyName definition":{color:"#00c"},comment:{color:"#940"},meta:{color:"#555"}});D.defaultHighlighter=na};
shadow$provide[11]=function(na,Pa,lb,D){function Ja(t,k){if(!(t instanceof k))throw new TypeError("Cannot call a class as a function");}function Ka(t,k){for(var h=0;h<k.length;h++){var l=k[h];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(t,l.key,l)}}function Ca(t,k,h){k&&Ka(t.prototype,k);h&&Ka(t,h);return t}function Ra(t,k){return function(h){var l=h.state;h=h.dispatch;var u=l.field(z,!1);if(!u)return!1;l=u.pop(t,l,k);if(!l)return!1;h(l);return!0}}
function wa(t){return function(k){k=k.field(z,!1);if(!k)return 0;k=0==t?k.done:k.undone;return k.length-(k.length&&!k[0].changes?1:0)}}function za(t,k,h,l){t=t.slice(k+1>h+20?k-h-1:0,k);t.push(l);return t}function Fa(t,k){var h=[],l=!1;t.iterChangedRanges(function(u,J){return h.push(u,J)});k.iterChangedRanges(function(u,J,F,A){for(u=0;u<h.length;){J=h[u++];var E=h[u++];A>=J&&F<=E&&(l=!0)}});return l}function Ma(t,k){return t.ranges.length==k.ranges.length&&0===t.ranges.filter(function(h,l){return h.empty!=
k.ranges[l].empty}).length}function ra(t,k){return t.length?k.length?t.concat(k):t:k}function Ea(t,k){if(t.length){var h=t[t.length-1],l=h.selectionsAfter.slice(Math.max(0,h.selectionsAfter.length-G));if(l.length&&l[l.length-1].eq(k))return t;l.push(k);return za(t,t.length-1,1E9,h.setSelAfter(l))}return[M.selection([k])]}function ja(t){var k=t[t.length-1],h=t.slice();h[t.length-1]=k.setSelAfter(k.selectionsAfter.slice(0,k.selectionsAfter.length-1));return h}function Ia(t,k){if(!t.length)return t;
for(var h=t.length,l=Q;h;){l=Da(t[h-1],k,l);if(l.changes&&!l.changes.empty||l.effects.length)return t=t.slice(0,h),t[h-1]=l,t;k=l.mapped;h--;l=l.selectionsAfter}return l.length?[M.selection(l)]:Q}function Da(t,k,h){h=ra(t.selectionsAfter.length?t.selectionsAfter.map(function(F){return F.map(k)}):Q,h);if(!t.changes)return M.selection(h);var l=t.changes.map(k),u=k.mapDesc(t.changes,!0),J=t.mapped?t.mapped.composeDesc(u):u;return new M(l,ha.StateEffect.mapEffects(t.effects,k),J,t.startSelection.map(u),
h)}Object.defineProperty(D,"__esModule",{value:!0});D.history=function(){return[z,H.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})]};D.undoSelection=D.undoDepth=D.undo=D.redoSelection=D.redoDepth=D.redo=D.isolateHistory=D.invertedEffects=D.historyKeymap=void 0;var ha=Pa(2),aa=ha.Annotation.define(),da=ha.Annotation.define();D.isolateHistory=da;var T=ha.Facet.define();D.invertedEffects=T;var H=ha.Facet.define({combine:function(t){return(0,ha.combineConfig)(t,{minDepth:100,newGroupDelay:500},
{minDepth:Math.max,newGroupDelay:Math.min})}}),z=ha.StateField.define({create:function(){return r.empty},update:function(t,k){var h=k.state.facet(H),l=k.annotation(aa);if(l){var u=M.fromTransaction(k),J=l.side;t=0==J?t.undone:t.done;t=u?za(t,t.length,h.minDepth,u):Ea(t,k.startState.selection);return new r(0==J?l.rest:t,0==J?t:l.rest)}l=k.annotation(da);if("full"==l||"before"==l)t=t.isolate();if(!1===k.annotation(ha.Transaction.addToHistory))return k.changes.length?t.addMapping(k.changes.desc):t;u=
M.fromTransaction(k);J=k.annotation(ha.Transaction.time);var F=k.annotation(ha.Transaction.userEvent);u?t=t.addChanges(u,J,F,h.newGroupDelay,h.minDepth):k.selection&&(t=t.addSelection(k.startState.selection,J,F,h.newGroupDelay));if("full"==l||"after"==l)t=t.isolate();return t}});na=Ra(0,!1);D.undo=na;Pa=Ra(1,!1);D.redo=Pa;lb=Ra(0,!0);D.undoSelection=lb;var x=Ra(1,!0);D.redoSelection=x;var y=wa(0);D.undoDepth=y;y=wa(1);D.redoDepth=y;var M=function(){function t(k,h,l,u,J){Ja(this,t);this.changes=k;
this.effects=h;this.mapped=l;this.startSelection=u;this.selectionsAfter=J}Ca(t,[{key:"setSelAfter",value:function(k){return new t(this.changes,this.effects,this.mapped,this.startSelection,k)}}],[{key:"fromTransaction",value:function(k){var h=Q,l=!0,u=!1,J=void 0;try{for(var F=k.startState.facet(T)[Symbol.iterator](),A;!(l=(A=F.next()).done);l=!0){var E=A.value,O=E(k);O.length&&(h=h.concat(O))}}catch(U){u=!0,J=U}finally{try{if(!l&&null!=F["return"])F["return"]()}finally{if(u)throw J;}}return!h.length&&
k.changes.empty?null:new t(k.changes.invert(k.startState.doc),h,void 0,k.startState.selection,Q)}},{key:"selection",value:function(k){return new t(void 0,Q,void 0,void 0,k)}}]);return t}(),Q=[],G=200,r=function(){function t(k,h){var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;Ja(this,t);this.done=k;this.undone=h;this.prevTime=l;this.prevUserEvent=u}Ca(t,[{key:"isolate",value:function(){return this.prevTime?new t(this.done,
this.undone):this}},{key:"addChanges",value:function(k,h,l,u,J){var F=this.done,A=F[F.length-1];F=A&&A.changes&&h-this.prevTime<u&&!A.selectionsAfter.length&&A.changes.length&&k.changes&&Fa(A.changes,k.changes)?za(F,F.length-1,J,new M(k.changes.compose(A.changes),ra(k.effects,A.effects),A.mapped,A.startSelection,Q)):za(F,F.length,J,k);return new t(F,Q,h,l)}},{key:"addSelection",value:function(k,h,l,u){var J=this.done.length?this.done[this.done.length-1].selectionsAfter:Q;return 0<J.length&&h-this.prevTime<
u&&"keyboardselection"==l&&this.prevUserEvent==l&&Ma(J[J.length-1],k)?this:new t(Ea(this.done,k),this.undone,h,l)}},{key:"addMapping",value:function(k){return new t(Ia(this.done,k),Ia(this.undone,k),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(k,h,l){var u=0==k?this.done:this.undone;if(0==u.length)return null;var J=u[u.length-1];return l&&J.selectionsAfter.length?h.update({selection:J.selectionsAfter[J.selectionsAfter.length-1],annotations:aa.of({side:k,rest:ja(u)})}):J.changes?(l=
1==u.length?Q:u.slice(0,u.length-1),J.mapped&&(l=Ia(l,J.mapped)),h.update({changes:J.changes,selection:J.startSelection,effects:J.effects,annotations:aa.of({side:k,rest:l}),filter:!1})):null}}]);return t}();r.empty=new r(Q,Q);D.historyKeymap=[{key:"Mod-z",run:na,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Pa,preventDefault:!0},{key:"Mod-u",run:lb,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:x,preventDefault:!0}]};
shadow$provide[12]=function(na,Pa,lb,D){function Ja(k,h,l){h in k?Object.defineProperty(k,h,{value:l,enumerable:!0,configurable:!0,writable:!0}):k[h]=l;return k}function Ka(k){Ka="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};return Ka(k)}function Ca(k,h){if(!(k instanceof h))throw new TypeError("Cannot call a class as a function");}function Ra(k,
h){for(var l=0;l<h.length;l++){var u=h[l];u.enumerable=u.enumerable||!1;u.configurable=!0;"value"in u&&(u.writable=!0);Object.defineProperty(k,u.key,u)}}function wa(k,h,l){h&&Ra(k.prototype,h);l&&Ra(k,l);return k}function za(k){za=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)};return za(k)}function Fa(k,h){if("function"!==typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(h&&
h.prototype,{constructor:{value:k,writable:!0,configurable:!0}});h&&Ma(k,h)}function Ma(k,h){Ma=Object.setPrototypeOf||function(l,u){l.__proto__=u;return l};return Ma(k,h)}function ra(k){return T.EditorState.indentation.of(function(h,l){a:{for(var u=k.getTree(h.state).resolve(l),J=u,F=l;;){F=J.childBefore(F);if(!F)break;F.type.prop(da.NodeProp.error)&&F.start==F.end?(u=J,F=F.start):(J=F,F=J.end+1)}for(;u;u=u.parent)if(J=Ea(u)){h=J(new x(h,l,u));break a}h=-1}return h})}function Ea(k){var h=k.type.prop(z);
if(h)return h;h=k.firstChild;var l;if(h&&(l=h.type.prop(da.NodeProp.closedBy))){var u=k.lastChild,J=u&&-1<l.indexOf(u.name);return function(F){var A;if(A=J){var E,O;A=!(F.pos==(null===(E=F.options)||void 0===E?void 0:E.simulateBreak)&&(null===(O=F.options)||void 0===O?0:O.simulateDoubleBreak))}return Ia(F,!0,1,void 0,A?u.start:void 0)}}return null==k.parent?ja:null}function ja(){return 0}function Ia(k,h,l,u,J){var F=k.textAfter,A=F.match(/^\s*/)[0].length;u=u&&F.slice(A,A+u.length)==u||J==k.pos+A;
var E;if(h)a:if(h=k.node,J=h.childAfter(h.start),F=h.lastChild,J)for(A=null===(E=k.options)||void 0===E?void 0:E.simulateBreak,E=k.state.doc.lineAt(J.start),E=null==A||A<=E.from?E.to:Math.min(E.to,A),A=J.end;;){A=h.childAfter(A);if(!A||A==F){E=null;break a}if(!A.type.prop(da.NodeProp.skipped)){E=A.start<E?J:null;break a}A=A.end}else E=null;else E=null;return E?u?k.column(E.start):k.column(E.end):k.baseIndent+(u?0:k.unit*l)}function Da(k){return T.EditorState.foldable.of(function(h,l,u){for(var J=
null,F=k.getTree(h).resolve(u);F;F=F.parent)if(!(F.end<=u||F.start>u)){if(J&&F.start<l)break;var A=F.type.prop(y);A&&(A=A(F,h))&&A.from<=u&&A.from>=l&&A.to>u&&(J=A)}return J})}function ha(k,h){for(var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5E6,u=Date.now()+h;;){var J=k.advance();if(J)return J;if(k.pos>l||Date.now()>u)return null}}function aa(k,h){var l=k.forceFinish();k=l.applyChanges([{fromA:k.pos,toA:l.length,fromB:k.pos,toB:l.length}]).append(h.applyChanges([{fromA:0,toA:k.pos,
fromB:0,toB:k.pos}]));return{parsed:l,cache:k}}Object.defineProperty(D,"__esModule",{value:!0});D.continuedIndent=function(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},h=k.except;k=k.units;var l=void 0===k?1:k;return function(u){var J=h&&h.test(u.textAfter);return u.baseIndent+(J?0:l*u.unit)}};D.delimitedIndent=function(k){var h=k.closing,l=k.align,u=void 0===l?!0:l;k=k.units;var J=void 0===k?1:k;return function(F){return Ia(F,u,J,h)}};D.indentNodeProp=D.foldNodeProp=D.flatIndent=
D.TreeIndentContext=D.LezerSyntax=void 0;var da=Pa(1),T=Pa(2),H=Pa(6),z=new da.NodeProp;D.indentNodeProp=z;var x=function(k){function h(l,u,J){Ca(this,h);l=za(h).call(this,l.state,l.options);if(!l||"object"!==Ka(l)&&"function"!==typeof l){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");l=this}l.pos=u;l.node=J;return l}Fa(h,k);wa(h,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var l=
this.state.doc.lineAt(this.node.start);;){for(var u=this.node.resolve(l.from);u.parent&&u.parent.start==u.start;)u=u.parent;var J;a:{for(J=this.node;J;J=J.parent)if(u==J){J=!0;break a}J=!1}if(J)break;l=this.state.doc.lineAt(u.start)}return this.lineIndent(l)}}]);return h}(T.IndentContext);D.TreeIndentContext=x;D.flatIndent=function(k){return k.baseIndent};var y=new da.NodeProp;D.foldNodeProp=y;na=function(){function k(h,l,u){var J=this;Ca(this,k);this.parser=h;this.dialect=l;this.languageData=u;var F=
T.StateEffect.define();this.field=T.StateField.define({create:function(A){return Q.advance(da.Tree.empty,J,A.doc)},update:function(A,E){return A.apply(E,J,F)}});this.extension=[T.EditorState.syntax.of(this),this.field,H.ViewPlugin.define(function(A){return new t(A,J,F)}),ra(this),Da(this)]}wa(k,[{key:"withDialect",value:function(h){return new k(this.parser,h,this.languageData)}},{key:"getTree",value:function(h){return h.field(this.field).tree}},{key:"parsePos",value:function(h){return h.field(this.field).upto}},
{key:"ensureTree",value:function(h,l){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100,J=h.field(this.field);if(J.upto>=l)return J.updatedTree;J.parse||J.startParse(this,h.doc);return J.parse.pos<l&&(u=ha(J.parse,u,l))?J.stopParse(u,h.doc.length):J.parse.pos<l?null:J.stopParse()}},{key:"languageDataFacetAt",value:function(h,l){if(this.parser.hasNested)for(h=this.getTree(h).resolve(l,-1);h;){if(l=h.type.prop(T.languageDataProp))return l;h=h.parent}return this.languageData}}],[{key:"define",
value:function(h){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=T.Facet.define({combine:l.languageData?function(J){return J.concat(l.languageData)}:void 0});return new k(h.withProps(T.languageDataProp.add(Ja({},h.topType.name,u))),l.dialect||"",u)}}]);return k}();D.LezerSyntax=na;var M=function(){function k(h){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h.length;Ca(this,k);this.doc=h;this.length=l;this.cursorPos=0;this.string="";this.cursor=h.iter()}wa(k,[{key:"get",
value:function(h){if(h>=this.length)return-1;var l=this.cursorPos-this.string.length;if(h<l||h>=this.cursorPos)h<this.cursorPos&&(this.cursor=this.doc.iter(),this.cursorPos=0),this.string=this.cursor.next(h-this.cursorPos).value,this.cursorPos=h+this.string.length,l=this.cursorPos-this.string.length;return this.string.charCodeAt(h-l)}},{key:"read",value:function(h,l){var u=this.cursorPos-this.string.length;return h<u||l>=this.cursorPos?this.doc.sliceString(h,l):this.string.slice(h-u,l-u)}},{key:"clip",
value:function(h){return new k(this.doc,h)}}]);return k}(),Q=function(){function k(h,l,u){Ca(this,k);this.tree=h;this.upto=l;this.cache=u;this.parse=null;this.updatedTree=h}wa(k,[{key:"apply",value:function(h,l,u){var J=!0,F=!1,A=void 0;try{for(var E=h.effects[Symbol.iterator](),O;!(J=(O=E.next()).done);J=!0){var U=O.value;if(U.is(u))return U.value}}catch(ka){F=!0,A=ka}finally{try{if(!J&&null!=E["return"])E["return"]()}finally{if(F)throw A;}}if(!h.docChanged)return this;var ca=[];h.changes.iterChangedRanges(function(ka,
xa,Ga,Ta){return ca.push({fromA:ka,toA:xa,fromB:Ga,toB:Ta})});return k.advance((this.parse?aa(this.parse,this.updatedTree).cache:this.cache).applyChanges(ca),l,h.state.doc)}},{key:"startParse",value:function(h,l){this.parse=h.parser.startParse(new M(l),{cache:this.cache,dialect:h.dialect})}},{key:"stopParse",value:function(h,l){if(h)this.cache=h;else{var u=aa(this.parse,this.updatedTree);h=u.parsed;this.cache=u.cache}this.updatedTree=h;this.upto=null!==l&&void 0!==l?l:this.parse.pos;this.parse=null;
return h}}],[{key:"advance",value:function(h,l,u){l=l.parser.startParse(new M(u),{cache:h,dialect:l.dialect});var J=ha(l,25);if(J)return new k(J,u.length,J);h=aa(l,h);return new k(h.parsed,l.pos,h.cache)}}]);return k}(),G="undefined"!=typeof window&&window.requestIdleCallback||function(k,h){return setTimeout(k,h.timeout)},r="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout,t=function(){function k(h,l,u){Ca(this,k);this.view=h;this.syntax=l;this.setSyntax=u;this.working=-1;this.work=
this.work.bind(this);this.scheduleWork()}wa(k,[{key:"update",value:function(h){h.docChanged&&this.scheduleWork()}},{key:"scheduleWork",value:function(){if(!(-1<this.working)){var h=this.view.state;h.field(this.syntax.field).upto>=h.doc.length||(this.working=G(this.work,{timeout:200}))}}},{key:"work",value:function(h){this.working=-1;var l=this.view.state,u=l.field(this.syntax.field);u.upto>=l.doc.length||(u.parse||u.startParse(this.syntax,l.doc),(h=ha(u.parse,h?Math.max(25,h.timeRemaining()):100))||
.8<u.parse.badness?(h=u.stopParse(h,l.doc.length),this.view.dispatch({effects:this.setSyntax.of(new Q(h,l.doc.length,u.cache))})):this.scheduleWork())}},{key:"destroy",value:function(){0<=this.working&&r(this.working)}}]);return k}()};
shadow$provide[13]=function(na,Pa,lb,D){function Ja(){throw Error("setTimeout has not been defined");}function Ka(){throw Error("clearTimeout has not been defined");}function Ca(aa){if(ra===setTimeout)return setTimeout(aa,0);if((ra===Ja||!ra)&&setTimeout)return ra=setTimeout,setTimeout(aa,0);try{return ra(aa,0)}catch(da){try{return ra.call(null,aa,0)}catch(T){return ra.call(this,aa,0)}}}function Ra(aa){if(Ea===clearTimeout)return clearTimeout(aa);if((Ea===Ka||!Ea)&&clearTimeout)return Ea=clearTimeout,
clearTimeout(aa);try{return Ea(aa)}catch(da){try{return Ea.call(null,aa)}catch(T){return Ea.call(this,aa)}}}function wa(){Ia&&Da&&(Ia=!1,Da.length?ja=Da.concat(ja):ha=-1,ja.length&&za())}function za(){if(!Ia){var aa=Ca(wa);Ia=!0;for(var da=ja.length;da;){Da=ja;for(ja=[];++ha<da;)Da&&Da[ha].run();ha=-1;da=ja.length}Da=null;Ia=!1;Ra(aa)}}function Fa(aa,da){this.fun=aa;this.array=da}function Ma(){}na=lb.exports={};try{var ra="function"===typeof setTimeout?setTimeout:Ja}catch(aa){ra=Ja}try{var Ea="function"===
typeof clearTimeout?clearTimeout:Ka}catch(aa){Ea=Ka}var ja=[],Ia=!1,Da,ha=-1;na.nextTick=function(aa){var da=Array(arguments.length-1);if(1<arguments.length)for(var T=1;T<arguments.length;T++)da[T-1]=arguments[T];ja.push(new Fa(aa,da));1!==ja.length||Ia||Ca(za)};Fa.prototype.run=function(){this.fun.apply(null,this.array)};na.title="browser";na.browser=!0;na.env={};na.argv=[];na.version="";na.versions={};na.on=Ma;na.addListener=Ma;na.once=Ma;na.off=Ma;na.removeListener=Ma;na.removeAllListeners=Ma;
na.emit=Ma;na.prependListener=Ma;na.prependOnceListener=Ma;na.listeners=function(aa){return[]};na.binding=function(aa){throw Error("process.binding is not supported");};na.cwd=function(){return"/"};na.chdir=function(aa){throw Error("process.chdir is not supported");};na.umask=function(){return 0}};
shadow$provide[14]=function(na,Pa,lb,D){function Ja(G,r){function t(){this.constructor=G}Fa(G,r);G.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}function Ka(G,r){void 0===r&&(r=Uint16Array);if("string"!=typeof G)return G;for(var t=null,k=0,h=0;k<G.length;){for(var l=0;;){var u=G.charCodeAt(k++),J=!1;if(126==u){l=65535;break}92<=u&&u--;34<=u&&u--;u-=32;46<=u&&(u-=46,J=!0);l+=u;if(J)break;l*=46}t?t[h++]=l:t=new r(l)}return t}function Ca(G,r){return G[r]|G[r+1]<<16}function Ra(G,
r,t){for(var k=r,h;65535!=(h=G[k]);k++)if(h==t)return k-r;return-1}function wa(G){for(var r=null,t=0;t<G.length;t++){var k=G[t];k.pos==k.cx.input.length&&k.cx.parser.stateFlag(k.state,2)&&(!r||r.score<k.score)&&(r=k)}return r}na=Pa(13);"use strict";Object.defineProperty(D,"__esModule",{value:!0});var za=Pa(1),Fa=function(G,r){Fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var h in k)Object.prototype.hasOwnProperty.call(k,h)&&(t[h]=k[h])};
return Fa(G,r)},Ma=function(){function G(r,t,k,h,l,u,J,F,A){this.cx=r;this.stack=t;this.state=k;this.reducePos=h;this.pos=l;this.score=u;this.buffer=J;this.bufferBase=F;this.parent=A}G.prototype.toString=function(){return"["+this.stack.filter(function(r,t){return 0==t%3}).concat(this.state)+"]@"+this.pos+(this.score?"!"+this.score:"")};G.start=function(r,t,k){void 0===k&&(k=0);return new G(r,[],t,k,k,0,[],0,null)};G.prototype.pushState=function(r,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length);
this.state=r};G.prototype.reduce=function(r){var t=r>>19,k=r&65535,h=this.cx.parser,l=h.dynamicPrecedence(k);l&&(this.score+=l);if(0==t)k<h.minRepeatTerm&&this.storeNode(k,this.reducePos,this.reducePos,4,!0),this.pushState(h.getGoto(this.state,k,!0),this.reducePos);else{t=this.stack.length-3*(t-1)-(r&262144?6:0);l=this.stack[t-2];var u=this.bufferBase+this.buffer.length-this.stack[t-1];if(k<h.minRepeatTerm||r&131072){var J=h.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(k,l,J,u+4,
!0)}for(this.state=r&262144?this.stack[t]:h.getGoto(this.stack[t-3],k,!0);this.stack.length>t;)this.stack.pop()}};G.prototype.storeNode=function(r,t,k,h,l){void 0===h&&(h=4);void 0===l&&(l=!1);if(0==r){var u=this,J=this.buffer.length;0==J&&u.parent&&(J=u.bufferBase-u.parent.bufferBase,u=u.parent);if(0<J&&0==u.buffer[J-4]&&-1<u.buffer[J-1]){if(t==k)return;if(u.buffer[J-2]>=t){u.buffer[J-2]=k;return}}}if(l&&this.pos!=k){l=this.buffer.length;if(0<l&&0!=this.buffer[l-4])for(;0<l&&this.buffer[l-2]>k;)this.buffer[l]=
this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,4<h&&(h-=4);this.buffer[l]=r;this.buffer[l+1]=t;this.buffer[l+2]=k;this.buffer[l+3]=h}else this.buffer.push(r,t,k,h)};G.prototype.shift=function(r,t,k){if(r&131072)this.pushState(r&65535,this.pos);else if(0==(r&262144)){var h=this.pos,l=this.cx.parser;if(k>this.pos||t<=l.maxNode)this.pos=k,l.stateFlag(r,1)||(this.reducePos=k);this.pushState(r,h);t<=l.maxNode&&this.buffer.push(t,
h,k,4)}else t<=this.cx.parser.maxNode&&this.buffer.push(t,this.pos,k,4),this.pos=k};G.prototype.apply=function(r,t,k){r&65536?this.reduce(r):this.shift(r,t,k)};G.prototype.useNode=function(r,t){var k=this.cx.reused.length-1;if(0>k||this.cx.reused[k]!=r)this.cx.reused.push(r),k++;var h=this.pos;this.reducePos=this.pos=h+r.length;this.pushState(t,h);this.buffer.push(k,h,this.reducePos,-1)};G.prototype.split=function(){for(var r=this,t=r.buffer.length;0<t&&r.buffer[t-2]>r.reducePos;)t-=4;var k=r.buffer.slice(t);
for(t=r.bufferBase+t;r&&t==r.bufferBase;)r=r.parent;return new G(this.cx,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,k,t,r)};G.prototype.recoverByDelete=function(r,t){var k=r<=this.cx.parser.maxNode;k&&this.storeNode(r,this.pos,t);this.storeNode(0,this.pos,t,k?8:4);this.pos=this.reducePos=t;this.score-=200};G.prototype.canShift=function(r){for(var t=new Ea(this);;){var k=this.cx.parser.stateSlot(t.top,4)||this.cx.parser.hasAction(t.top,r);if(0==(k&65536))return!0;if(0==k)return!1;
t.reduce(k)}};Object.defineProperty(G.prototype,"ruleStart",{get:function(){for(var r=this.state,t=this.stack.length;;){r=this.cx.parser.stateSlot(r,5);if(!(r&65536))return 0;t-=3*(r>>19);if((r&65535)<this.cx.parser.minRepeatTerm)return this.stack[t+1];r=this.stack[t]}},enumerable:!0,configurable:!0});G.prototype.startOf=function(r){for(var t=this.state,k=this.stack.length,h=this.cx.parser;;){t=h.stateSlot(t,5);var l=t>>19,u=t&65535;if(-1<r.indexOf(u))return this.stack[k-3*(t>>19)+1];if(0==k)return-1;
0==l?(k-=3,t=this.stack[k]):(k-=3*(l-1),t=h.getGoto(this.stack[k-3],u,!0))}};G.prototype.recoverByInsert=function(r){var t=this;if(300<=this.stack.length)return[];var k=this.cx.parser.nextStates(this.state);if(4<k.length||120<=this.stack.length){var h=k.filter(function(J){return J!=t.state&&t.cx.parser.hasAction(J,r)});if(120>this.stack.length)for(var l=0;4>h.length&&l<k.length;l++)0>h.indexOf(k[l])&&h.push(k[l]);k=h}h=[];for(l=0;l<k.length&&4>h.length;l++)if(k[l]!=this.state){var u=this.split();
u.storeNode(0,u.pos,u.pos,4,!0);u.pushState(k[l],this.pos);u.score-=200;h.push(u)}return h};G.prototype.forceReduce=function(){var r=this.cx.parser.stateSlot(this.state,5);if(0==(r&65536))return!1;this.cx.parser.validAction(this.state,r)||(this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100);this.reduce(r);return!0};G.prototype.forceAll=function(){for(;!this.cx.parser.stateFlag(this.state,2)&&this.forceReduce(););return this};Object.defineProperty(G.prototype,"deadEnd",{get:function(){if(3!=
this.stack.length)return!1;var r=this.cx.parser;return 65535==r.data[r.stateSlot(this.state,1)]&&!r.stateSlot(this.state,4)},enumerable:!0,configurable:!0});G.prototype.restart=function(){this.state=this.stack[0];this.stack.length=0};G.prototype.sameState=function(r){if(this.state!=r.state||this.stack.length!=r.stack.length)return!1;for(var t=0;t<this.stack.length;t+=3)if(this.stack[t]!=r.stack[t])return!1;return!0};G.prototype.toTree=function(){return za.Tree.build({buffer:ja.create(this),group:this.cx.parser.group,
topID:this.cx.topTerm,maxBufferLength:this.cx.maxBufferLength,reused:this.cx.reused,minRepeatType:this.cx.parser.minRepeatTerm})};Object.defineProperty(G.prototype,"parser",{get:function(){return this.cx.parser},enumerable:!0,configurable:!0});G.prototype.dialectEnabled=function(r){return this.cx.dialect.flags[r]};return G}(),ra;(function(G){G[G.Token=200]="Token";G[G.Reduce=100]="Reduce";G[G.MaxNext=4]="MaxNext";G[G.MaxInsertStackDepth=300]="MaxInsertStackDepth";G[G.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(ra||
(ra={}));var Ea=function(){function G(r){this.stack=r;this.top=r.state;this.rest=r.stack;this.offset=this.rest.length}G.prototype.reduce=function(r){var t=r&65535;r>>=19;0==r?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=3*(r-1);this.top=this.stack.cx.parser.getGoto(this.rest[this.offset-3],t,!0)};return G}(),ja=function(){function G(r,t,k){this.stack=r;this.pos=t;this.index=k;this.buffer=r.buffer;0==this.index&&this.maybeNext()}
G.create=function(r){return new G(r,r.bufferBase+r.buffer.length,r.buffer.length)};G.prototype.maybeNext=function(){var r=this.stack.parent;null!=r&&(this.index=this.stack.bufferBase-r.bufferBase,this.stack=r,this.buffer=r.buffer)};Object.defineProperty(G.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0});Object.defineProperty(G.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0});Object.defineProperty(G.prototype,
"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0});Object.defineProperty(G.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0});G.prototype.next=function(){this.index-=4;this.pos-=4;0==this.index&&this.maybeNext()};G.prototype.fork=function(){return new G(this.stack,this.pos,this.index)};return G}();Pa=function(){function G(){this.end=this.value=this.start=-1}G.prototype.accept=function(r,t){this.value=r;this.end=t};
return G}();var Ia=function(){function G(r,t){void 0===t&&(t=r.length);this.string=r;this.length=t}G.prototype.get=function(r){return 0>r||r>=this.length?-1:this.string.charCodeAt(r)};G.prototype.read=function(r,t){return this.string.slice(r,Math.min(this.length,t))};G.prototype.clip=function(r){return new G(this.string,r)};return G}(),Da=function(){function G(r,t){this.data=r;this.id=t}G.prototype.token=function(r,t,k){var h=this.data,l=0,u=1<<this.id,J=k.cx.dialect,F=t.start;a:for(;0!=(u&h[l]);){for(var A=
h[l+1],E=l+3;E<A;E+=2)if(0<(h[E+1]&u)){var O=h[E];if(J.allows(O)&&(-1==t.value||t.value==O||k.cx.parser.overrides(O,t.value))){t.accept(O,F);break}}E=r.get(F++);O=0;for(l=h[l+2];O<l;){var U=O+l>>1,ca=A+U+(U<<1),ka=h[ca+1];if(E<h[ca])l=U;else if(E>=ka)O=U+1;else{l=h[ca+2];continue a}}break}};return G}();Da.prototype.contextual=Da.prototype.fallback=Da.prototype.extend=!1;ra=function(){return function(G,r){void 0===r&&(r={});this.token=G;this.contextual=!!r.contextual;this.fallback=!!r.fallback;this.extend=
!!r.extend}}();var ha="undefined"!=typeof na&&/\bparse\b/.test(na.env.LOG),aa=null,da=function(){function G(r){this.start=[0];this.index=[0];this.nextStart=0;this.trees=[r]}G.prototype.nodeAt=function(r){if(r<this.nextStart)return null;for(;;){var t=this.trees.length-1;if(0>t)return this.nextStart=1E9,null;var k=this.trees[t],h=this.index[t];if(h==k.children.length)this.trees.pop(),this.start.pop(),this.index.pop();else{var l=k.children[h];k=this.start[t]+k.positions[h];if(k>=r)return k==r?l:null;
l instanceof za.TreeBuffer?(this.index[t]++,this.nextStart=k+l.length):(this.index[t]++,k+l.length>=r&&(this.trees.push(l),this.start.push(k),this.index.push(0)))}}};return G}(),T=function(G){function r(){var t=null!==G&&G.apply(this,arguments)||this;t.extended=-1;t.mask=0;return t}Ja(r,G);r.prototype.clear=function(t){this.start=t;this.value=this.extended=-1};return r}(Pa),H=new Pa,z=function(){function G(r){this.tokens=[];this.mainToken=H;this.actions=[];this.tokens=r.tokenizers.map(function(t){return new T})}
G.prototype.getActions=function(r,t){var k=0,h=null,l=r.cx.parser,u=l.tokenizers;l=l.stateSlot(r.state,3);for(var J=0;J<u.length;J++)if(0!=(1<<J&l)){var F=u[J],A=this.tokens[J];if(!h||F.fallback){if(F.contextual||A.start!=r.pos||A.mask!=l)this.updateCachedToken(A,F,r,t),A.mask=l;if(0!=A.value){var E=k;-1<A.extended&&(k=this.addActions(r,A.extended,A.end,k));k=this.addActions(r,A.value,A.end,k);if(!F.extend&&(h=A,k>E))break}}}for(;this.actions.length>k;)this.actions.pop();h||(h=H,h.start=r.pos,r.pos==
t.length?h.accept(r.cx.parser.eofTerm,r.pos):h.accept(0,r.pos+1));this.mainToken=h;return this.actions};G.prototype.updateCachedToken=function(r,t,k,h){r.clear(k.pos);t.token(h,r,k);if(-1<r.value){t=k.cx.parser;for(var l=0;l<t.specialized.length;l++)if(t.specialized[l]==r.value){var u=t.specializers[l](h.read(r.start,r.end),k);if(0<=u&&k.cx.dialect.allows(u>>1)){0==(u&1)?r.value=u>>1:r.extended=u>>1;break}}}else k.pos==h.length?r.accept(k.cx.parser.eofTerm,k.pos):r.accept(0,k.pos+1)};G.prototype.putAction=
function(r,t,k,h){for(var l=0;l<h;l+=3)if(this.actions[l]==r)return h;this.actions[h++]=r;this.actions[h++]=t;this.actions[h++]=k;return h};G.prototype.addActions=function(r,t,k,h){var l=r.state;r=r.cx.parser;for(var u=r.data,J=0;2>J;J++)for(var F=r.stateSlot(l,J?2:1);;F+=3){if(65535==u[F])if(1==u[F+1])F=Ca(u,F+2);else{0==h&&2==u[F+1]&&(h=this.putAction(Ca(u,F+1),t,k,h));break}u[F]==t&&(h=this.putAction(Ca(u,F+1),t,k,h))}return h};return G}(),x=function(){return function(G,r,t,k,h,l,u){void 0===l&&
(l=null);void 0===u&&(u=-1);this.parser=G;this.maxBufferLength=r;this.input=t;this.topTerm=k;this.dialect=h;this.parent=l;this.wrapType=u;this.reused=[];this.tokens=new z(G)}}(),y=function(){function G(r,t,k){void 0===k&&(k={});this.tokenCount=this.recovering=this.pos=0;this.nextStackID=9812;var h=k.cache;h=void 0===h?void 0:h;var l=k.strict;l=void 0===l?!1:l;var u=k.bufferLength;u=void 0===u?za.DefaultBufferLength:u;var J=k.top;J=void 0===J?void 0:J;k=k.dialect;var F=J?r.topRules[J]:r.defaultTop;
if(!F)throw new RangeError("Invalid top rule name "+J);this.stacks=[Ma.start(new x(r,u,t,F[1],r.parseDialect(k)),F[0])];this.strict=l;this.cache=h?new da(h):null}G.prototype.putStack=function(r){this.stacks.push(r);if(0>this.pos||r.pos<this.pos)this.pos=r.pos};G.prototype.putStackDedup=function(r){for(var t=0;t<this.stacks.length;t++){var k=this.stacks[t];if(k.pos==r.pos&&k.sameState(r)){this.stacks[t].score<r.score&&(this.stacks[t]=r);return}}this.putStack(r)};G.prototype.advance=function(){var r=
this.stacks,t=this.pos;this.stacks=[];this.pos=-1;for(var k=null,h=null,l=0;l<r.length;l++)for(var u=r[l];;){if(u.pos>t)this.putStack(u);else{var J=this.advanceStack(u,r);if(J){u=J;continue}else k||(k=[],h=[]),k.push(u),u=u.cx.tokens.mainToken,h.push(u.value,u.end)}break}if(!this.stacks.length){if(l=k&&wa(k))return l.toTree();if(this.strict)throw ha&&k&&console.log("Stuck with token "+k[0].cx.parser.getName(k[0].cx.tokens.mainToken.value)),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=
5)}if(this.recovering&&k&&(l=this.runRecovery(k,h)))return l.forceAll().toTree();if(this.recovering)l=1==this.recovering?1:3*this.recovering,this.stacks.length>l&&(this.stacks.sort(function(F,A){return A.score-F.score}),this.stacks.length=l),this.stacks.some(function(F){return F.reducePos>t})&&this.recovering--;else if(1<this.stacks.length)a:for(l=0;l<this.stacks.length-1;l++)for(u=this.stacks[l],k=l+1;k<this.stacks.length;k++)if(h=this.stacks[k],u.sameState(h)||200<u.buffer.length&&200<h.buffer.length)if(0<
(u.score-h.score||u.buffer.length-h.buffer.length))this.stacks.splice(k--,1);else{this.stacks.splice(l--,1);continue a}this.tokenCount++;return null};G.prototype.advanceStack=function(r,t){var k=r.pos,h=r.cx,l=h.input,u=h.parser;h=ha?this.stackID(r)+" -\x3e ":"";if(this.cache)for(var J=this.cache.nodeAt(k);J;){var F=u.group.types[J.type.id]==J.type?u.getGoto(r.state,J.type.id):-1;if(-1<F)return r.useNode(J,F),ha&&console.log(h+this.stackID(r)+(" (via reuse of "+u.getName(J.type.id)+")")),r;if(!(J instanceof
za.Tree)||0==J.children.length||0<J.positions[0])break;J=J.children[0];if(!(J instanceof za.Tree))break}J=u.startNested(r.state);a:if(-1<J){F=u.nested[J];var A=F.grammar;J=F.end;F=F.placeholder;var E=void 0,O=null,U=void 0,ca=void 0,ka=void 0;if("function"==typeof A){ka=A(l,r);if(ka.stay)break a;O=ka.parseNode;t=ka.parser;U=ka.top;ca=ka.dialect;E=ka.filterEnd;ka=ka.wrapType}else t=A;J=this.scanForNestEnd(r,J,E);k=r.cx.input.clip(J);if(O||!t)return h=O?O(k,r.pos):za.Tree.empty,h.length!=J-r.pos&&(h=
new za.Tree(h.type,h.children,h.positions,J-r.pos)),null!=ka&&(h=new za.Tree(u.group.types[ka],[h],[0],h.length)),r.useNode(h,u.getGoto(r.state,F,!0)),r;u=U?t.topRules[U]:t.defaultTop;r=Ma.start(new x(t,r.cx.maxBufferLength,k,u[1],t.parseDialect(ca),r,ka),u[0],r.pos);ha&&console.log(h+this.stackID(r)+" (nested)");return r}J=u.stateSlot(r.state,4);if(0<J)return r.reduce(J),ha&&console.log(h+this.stackID(r)+(" (via always-reduce "+u.getName(J&65535)+")")),r;F=r.cx.tokens.getActions(r,l);for(ca=0;ca<
F.length;){ka=F[ca++];O=F[ca++];J=F[ca++];E=(U=ca==F.length||!t)?r:r.split();E.apply(ka,O,J);ha&&console.log(h+this.stackID(E)+(" (via "+(0==(ka&65536)?"shift":"reduce of "+u.getName(ka&65535))+" for "+u.getName(O)+" @ "+k+(E==r?"":", split")+")"));if(U)return E;E.pos>k?this.putStack(E):t.push(E)}return r.cx.parent&&r.pos==l.length?this.finishNested(r):null};G.prototype.advanceFully=function(r){for(var t=r.pos;;){var k=this.advanceStack(r,null);if(!k)return r;if(k.pos>t)return this.putStackDedup(k),
null;r=k}};G.prototype.runRecovery=function(r,t){for(var k=null,h=!1,l=0;l<r.length;l++){var u=r[l],J=t[l<<1],F=t[(l<<1)+1],A=ha?this.stackID(u)+" -\x3e ":"";if(u.deadEnd){if(h)continue;h=!0;u.restart();ha&&console.log(A+this.stackID(u)+" (restarted)");var E=this.advanceFully(u);if(E)u=E;else continue}for(var O=u.split(),U=A,ca=0;O.forceReduce()&&10>ca;ca++){ha&&console.log(U+this.stackID(O)+" (via force-reduce)");E=this.advanceFully(O);if(!E)break;O=E;ha&&(U=this.stackID(E)+" -\x3e ")}E=0;for(O=
u.recoverByInsert(J);E<O.length;E++)U=O[E],ha&&console.log(A+this.stackID(U)+" (via recover-insert)"),this.advanceFully(U);u.cx.input.length>u.pos?(F==u.pos&&(F++,J=0),u.recoverByDelete(J,F),ha&&console.log(A+this.stackID(u)+(" (via recover-delete "+u.cx.parser.getName(J)+")")),this.putStackDedup(u)):u.cx.parent||k&&!(k.score<u.score)||(k=u)}return k};G.prototype.forceFinish=function(){return this.stacks[0].split().forceAll().toTree()};Object.defineProperty(G.prototype,"badness",{get:function(){return this.stacks.length?
-(this.stacks[0].score/(200*this.tokenCount)):0},enumerable:!0,configurable:!0});G.prototype.scanForNestEnd=function(r,t,k){for(var h=r.cx.input,l=r.pos;l<h.length;l++)if(H.start=l,H.value=-1,t.token(h,H,r),-1<H.value&&(!k||k(h.read(l,H.end))))return l;return h.length};G.prototype.finishNested=function(r){if(-2==r.cx.wrapType)return null;var t=r.cx.parent,k=r.forceAll().toTree(),h=t.cx.parser,l=h.nested[h.startNested(t.state)];k=new za.Tree(k.type,k.children,k.positions.map(function(u){return u-t.pos}),
r.pos-t.pos);-1<r.cx.wrapType&&(k=new za.Tree(h.group.types[r.cx.wrapType],[k],[0],k.length));r.cx.wrapType=-2;t.useNode(k,h.getGoto(t.state,l.placeholder,!0));ha&&console.log(this.stackID(t)+(" (via unnest "+(-1<r.cx.wrapType?h.getName(r.cx.wrapType):k.type.name)+")"));return t};G.prototype.stackID=function(r){var t=(aa||(aa=new WeakMap)).get(r);t||aa.set(r,t=String.fromCodePoint(this.nextStackID++));return t+r};return G}(),M=function(){function G(r,t,k){this.source=r;this.flags=t;this.disabled=
k}G.prototype.allows=function(r){return!this.disabled||0==this.disabled[r]};return G}();na=function(){function G(r){function t(O,U,ca){u[O]==Q&&(u[O]=Object.create(null));U.set(u[O],U.deserialize(String(ca)))}this.nextStateCache=[];this.cachedDialect=null;var k=Ka(r.tokenData),h=r.nodeNames.split(" ");this.minRepeatTerm=h.length;for(var l=0;l<r.repeatNodeCount;l++)h.push("");var u=[];for(l=0;l<h.length;l++)u.push(Q);t(0,za.NodeProp.error,"");if(r.nodeProps)for(var J=0,F=r.nodeProps;J<F.length;J++){var A=
F[J],E=A[0];for(l=1;l<A.length;l+=2)t(A[l],E,A[l+1])}this.specialized=new Uint16Array(r.specialized?r.specialized.length:0);this.specializers=[];if(r.specialized)for(l=0;l<r.specialized.length;l++)this.specialized[l]=r.specialized[l].term,this.specializers[l]=r.specialized[l].get;this.states=Ka(r.states,Uint32Array);this.data=Ka(r.stateData);this.goto=Ka(r.goto);this.group=new za.NodeGroup(h.map(function(O,U){return new za.NodeType(O,u[U],U)}));this.maxTerm=r.maxTerm;this.tokenizers=r.tokenizers.map(function(O){return"number"==
typeof O?new Da(k,O):O});this.topRules=r.topRules;this.nested=(r.nested||[]).map(function(O){var U=O[3];return{name:O[0],grammar:O[1],end:new Da(Ka(O[2]),0),placeholder:U}});this.dialects=r.dialects||{};this.dynamicPrecedences=r.dynamicPrecedences||null;this.tokenPrecTable=r.tokenPrec;this.termNames=r.termNames||null;this.maxNode=this.group.types.length-1;l=0;for(r=this.states.length/6;l<r;l++)this.nextStateCache[l]=null}G.prototype.parse=function(r,t){"string"==typeof r&&(r=new Ia(r));for(r=new y(this,
r,t);;)if(t=r.advance())return t};G.prototype.startParse=function(r,t){"string"==typeof r&&(r=new Ia(r));return new y(this,r,t)};G.prototype.getGoto=function(r,t,k){void 0===k&&(k=!1);var h=this.goto;if(t>=h[0])return-1;for(t=h[t+1];;){var l=h[t++],u=l&1,J=h[t++];if(u&&k)return J;for(l=t+(l>>1);t<l;t++)if(h[t]==r)return J;if(u)return-1}};G.prototype.hasAction=function(r,t){for(var k=this.data,h=0;2>h;h++)for(var l=this.stateSlot(r,h?2:1),u;;l+=3){if(65535==(u=k[l]))if(1==k[l+1])u=k[l=Ca(k,l+2)];else{if(2==
k[l+1])return Ca(k,l+2);break}if(u==t||0==u)return Ca(k,l+1)}return 0};G.prototype.stateSlot=function(r,t){return this.states[6*r+t]};G.prototype.stateFlag=function(r,t){return 0<(this.stateSlot(r,0)&t)};G.prototype.startNested=function(r){r=this.stateSlot(r,0);return r&4?r>>10:-1};G.prototype.validAction=function(r,t){if(t==this.stateSlot(r,4))return!0;for(r=this.stateSlot(r,1);;r+=3){if(65535==this.data[r])if(1==this.data[r+1])r=Ca(this.data,r+2);else return!1;if(t==Ca(this.data,r+1))return!0}};
G.prototype.nextStates=function(r){var t=this.nextStateCache[r];if(t)return t;t=[];for(var k=this.stateSlot(r,1);;k+=3){if(65535==this.data[k])if(1==this.data[k+1])k=Ca(this.data,k+2);else break;0==(this.data[k+2]&1)&&0>t.indexOf(this.data[k+1])&&t.push(this.data[k+1])}k=this.goto;for(var h=k[0],l=0;l<h;l++)for(var u=k[l+1];;){for(var J=k[u++],F=k[u++],A=u+(J>>1);u<A;u++)k[u]==r&&0>t.indexOf(F)&&t.push(F);if(J&1)break}return this.nextStateCache[r]=t};G.prototype.overrides=function(r,t){t=Ra(this.data,
this.tokenPrecTable,t);return 0>t||Ra(this.data,this.tokenPrecTable,r)<t};G.prototype.withNested=function(r){return this.copy({nested:this.nested.map(function(t){return Object.prototype.hasOwnProperty.call(r,t.name)?{name:t.name,grammar:r[t.name],end:t.end,placeholder:t.placeholder}:t})})};G.prototype.withProps=function(){for(var r,t=[],k=0;k<arguments.length;k++)t[k]=arguments[k];return this.copy({group:(r=this.group).extend.apply(r,t)})};G.prototype.withTokenizer=function(r,t){return this.copy({tokenizers:this.tokenizers.map(function(k){return k==
r?t:k})})};G.prototype.copy=function(r){for(var t=Object.create(G.prototype),k=0,h=Object.keys(this);k<h.length;k++){var l=h[k];t[l]=l in r?r[l]:this[l]}return t};G.prototype.getName=function(r){return this.termNames?this.termNames[r]:String(r<=this.maxNode&&this.group.types[r].name||r)};Object.defineProperty(G.prototype,"eofTerm",{get:function(){return this.maxNode+1},enumerable:!0,configurable:!0});Object.defineProperty(G.prototype,"hasNested",{get:function(){return 0<this.nested.length},enumerable:!0,
configurable:!0});Object.defineProperty(G.prototype,"defaultTop",{get:function(){return this.topRules[Object.keys(this.topRules)[0]]},enumerable:!0,configurable:!0});G.prototype.dynamicPrecedence=function(r){var t=this.dynamicPrecedences;return null==t?0:t[r]||0};Object.defineProperty(G.prototype,"topType",{get:function(){return this.group.types[this.defaultTop[1]]},enumerable:!0,configurable:!0});G.prototype.parseDialect=function(r){if(this.cachedDialect&&this.cachedDialect.source==r)return this.cachedDialect;
var t=Object.keys(this.dialects),k=t.map(function(){return!1});if(r)for(var h=0,l=r.split(" ");h<l.length;h++){var u=t.indexOf(l[h]);0<=u&&(k[u]=!0)}h=null;for(l=0;l<t.length;l++)if(!k[l]){var J=this.dialects[t[l]];for(u=void 0;65535!=(u=this.data[J++]);)(h||(h=new Uint8Array(this.maxTerm+1)))[u]=1}return this.cachedDialect=new M(r,k,h)};G.deserialize=function(r){return new G(r)};return G}();na.TokenGroup=Da;var Q=Object.create(null);D.NodeGroup=za.NodeGroup;D.NodeProp=za.NodeProp;D.NodeType=za.NodeType;
D.Subtree=za.Subtree;D.Tree=za.Tree;D.ExternalTokenizer=ra;D.ParseContext=y;D.Parser=na;D.Stack=Ma;D.Token=Pa};
shadow$provide[15]=function(na,Pa,lb,D){function Ja(b,f){let n=null;for(let p=0;p<b.length;p++){let w=b[p].walk(f);w==b[p]||n||(n=b.slice(0,p));n&&n.push(w)}return n||b}function Ka(b,f){return b.constructor==f.constructor&&b.eq(f)}function Ca(b,f){return b.length==f.length&&b.every((n,p)=>Ka(n,f[p]))}function Ra(b,f){return b.prec<f.prec?"("+b.toString()+")":b.toString()}function wa(b,f,n){if(b.length!=f.length)return b.length-f.length;for(let p=0;p<b.length;p++){let w=n(b[p],f[p]);if(w)return w}return 0}
function za(b,f){if(0==b.length||b==f)return f;if(0==f.length)return b;let n=b.slice();for(let p of f)b.includes(p)||n.push(p);return n.sort()}function Fa(b){return 65534<b?"∞":55296<=b&&57343>b?"\\u{"+b.toString(16)+"}":String.fromCharCode(b)}function Ma(b){let f="";for(let n=0;n<b.length;n++)f+=String.fromCharCode(b[n].from);return f}function ra(b){let f="";for(let n of b)f+=(f.length?"-":"")+n.id;return f}function Ea(b){let f=[],n=[];for(var p of b)f.includes(p.from)||f.push(p.from),f.includes(p.to)||
f.push(p.to);f.sort((w,B)=>w-B);for(p=1;p<f.length;p++){let w=f[p-1],B=f[p],P=[];for(let V of b)if(V.to>w&&V.from<B)for(let fa of V.target.closure())P.includes(fa)||P.push(fa);P.length&&n.push(new Hb(w,B,P))}return n}function ja(b,f){let n=f?f.start:b.start,p=b.eat("at","export");f=f||M(b);let w=Ia(b),B=[];if(b.eat("\x3c"))for(;!b.eat("\x3e");)B.length&&b.expect(","),B.push(M(b));b=ha(b);return new rb(n,f,p,w,B,b)}function Ia(b){if("["!=b.type)return wc;let f=[];for(b.expect("[");!b.eat("]");)f.length&&
b.expect(","),f.push(Da(b));return f}function Da(b){let f=b.start,n=b.expect("id"),p=[];if(b.eat("\x3d"))for(;;)if("string"==b.type||"id"==b.type)p.push(new jb(b.start,b.value,null)),b.next();else if(b.eat("."))p.push(new jb(b.start,".",null));else if(b.eat("{"))p.push(new jb(b.start,null,b.expect("id"))),b.expect("}");else break;return new oc(f,n,p)}function ha(b){b.expect("{");let f=y(b);b.expect("}");return f}function aa(b){var f=b.start;if(b.eat("("))return f=y(b),b.expect(")"),f;if("string"==
b.type){var n=b.value;b.next();return 0==n.length?new oa(f,wc,[wc,wc]):new Za(f,n)}if(b.eat("id","_"))return new Ib(f);if("set"==b.type){n="!"==b.string[b.start];var p=l(b.value.replace(/\\.|-|"/g,B=>"-"==B?"﷚":'"'==B?'\\"':B));let w=[];for(let B=0;B<p.length;){let P=p.codePointAt(B);B+=65535<P?2:1;if(B<p.length-1&&"﷚"==p[B]){let V=p.codePointAt(B+1);B+=65535<V?3:2;V<P&&b.raise("Invalid character range",b.start);T(b,w,P,V+1)}else T(b,w,P,P+1)}b.next();return new hb(f,w.sort((B,P)=>B[0]-P[0]),n)}if("at"!=
b.type||"specialize"!=b.value&&"extend"!=b.value){if("["==b.type)return n=ja(b,new Lb(f,"_anon")),n.params.length&&b.raise("Inline rules can't have parameters",n.start),new la(f,n);n=M(b);if("["==b.type||"{"==b.type)return n=ja(b,n),n.params.length&&b.raise("Inline rules can't have parameters",n.start),new la(f,n);p=null;b.eat(".")&&(p=n,n=M(b));return new Y(f,p,n,da(b))}{let {start:w,value:B}=b;b.next();f=Ia(b);b.expect("\x3c");p=y(b);b.eat(",")?n=y(b):p instanceof Za?n=p:b.raise(`@${B} requires two arguments when its first argument isn't a literal string`);
b.expect("\x3e");return new ta(w,B,f,p,n)}}function da(b){let f=[];if(b.eat("\x3c"))for(;!b.eat("\x3e");)f.length&&b.expect(","),f.push(y(b));return f}function T(b,f,n,p){f.every(([w,B])=>B<=n||w>=p)||b.raise("Overlapping character range",b.start);f.push([n,p])}function H(b){let f=b.start,n=aa(b);for(;;){let p=b.type;if(b.eat("*")||b.eat("?")||b.eat("+"))n=new bb(f,n,p);else return n}}function z(b){return"}"==b.type||")"==b.type||"|"==b.type||"/"==b.type||"/\\"==b.type||"{"==b.type||","==b.type||
"\x3e"==b.type}function x(b){let f=b.start,n=[],p=[wc];do{for(;;){let w=b.start,B;if(b.eat("~"))B="ambig";else if(b.eat("!"))B="prec";else break;p[p.length-1]=p[p.length-1].concat(new Oa(w,M(b),B))}if(z(b))break;n.push(H(b));p.push(wc)}while(!z(b));return 1==n.length&&p.every(w=>0==w.length)?n[0]:new oa(f,n,p)}function y(b){let f=b.start;var n=x(b);if(!b.eat("|"))return n;n=[n];do n.push(x(b));while(b.eat("|"));return new sa(f,n)}function M(b){"id"!=b.type&&b.unexpected();let f=b.start,n=b.value;
b.next();return new Lb(f,n)}function Q(b){let f=b.start;b.next();b.expect("{");let n=[];for(;!b.eat("}");){n.length&&b.expect(",");let p=aa(b);p instanceof Za||p instanceof Y?n.push(p):b.raise("Invalid expression in token precedences",p.start)}return new sc(f,n)}function G(b){let f=[];for(b.expect("{");!b.eat("}");){f.length&&b.eat(",");let n=M(b),p=Ia(b);f.push({id:n,props:p})}return f}function r(b,f){let n=M(b);b.expect("id","from");let p=b.expect("string");return new Rb(f,n,p,G(b))}function t(b,
f,n){b.expect("{");let p=y(b);b.expect("}");let w=M(b);b.expect("id","from");let B=b.expect("string");return new ac(n,f,p,w,B,G(b))}function k(b,f){let n=M(b),p=b.eat("id","as")?M(b):n,w=null;b.eat("id","from")?w=b.expect("string"):b.expect("id","empty");return new Qa(f,p,n,w)}function h(b,f){let n=M(b),p=b.eat("id","as")?M(b):n;b.expect("id","from");b=b.expect("string");return new bc(f,p,n,b)}function l(b){let f=/\\(?:u\{([\da-f]+)\}|u([\da-f]{4})|x([\da-f]{2})|([ntbrf0])|(.))|./yig,n="",p;for(;p=
f.exec(b);){let [w,B,P,V,fa,pa]=p;n=B||P||V?n+String.fromCodePoint(parseInt(B||P||V,16)):fa?n+("n"==fa?"\n":"t"==fa?"\t":"0"==fa?"\x00":"r"==fa?"\r":"f"==fa?"\f":"\b"):pa?n+pa:n+w}return n}function u(b,f){return(b<<5)+b+f}function J(b){let f=Ob.none;for(let n of b)f=f.join(n.conflicts());return f}function F(b,f){for(let n of b)if(n.rule.name.repeated)for(let p of f)if(p.rule.name==n.rule.name){if(n.rule.isRepeatWrap&&2==n.pos)return 1;if(p.rule.isRepeatWrap&&2==p.pos)return-1}return 0}function A(b,
f){return b<f?-1:b>f?1:0}function E(b,f,n,p){let w=[];for(f+=1;f<b.parts.length;f++){let B=b.parts[f],P=!1;if(B.terminal)xa(B,w);else for(let V of p[B.name])null==V?P=!0:xa(V,w);if(!P)return w}for(let B of n)xa(B,w);return w}function O(b,f){if(b.length!=f.length)return!1;for(let n=0;n<b.length;n++)if(!b[n].eq(f[n]))return!1;return!0}function U(b,f){if(b.length!=f.length)return!1;for(let n=0;n<b.length;n++)if(b[n]!=f[n])return!1;return!0}function ca(b){let f=5381;for(let n of b)f=u(f,n.hash);return f}
function ka(b,f){function n(P,V,fa,pa,ma){for(let ua of P.rules){P=p.find(Na=>Na.rule==ua);P||(P=(P=b.find(Na=>0==Na.pos&&Na.rule==ua))?new pc(ua,0,P.ahead.slice(),P.ambigAhead,P.skipAhead,P.via):new pc(ua,0,[],Hc,pa,ma),p.push(P));if(P.skipAhead!=pa)throw new mc("Inconsistent skip sets after "+ma.trail());P.ambigAhead=za(P.ambigAhead,fa);for(let Na of V)P.ahead.includes(Na)||(P.ahead.push(Na),P.rule.parts.length&&!P.rule.parts[0].terminal&&xa(P,w))}}let p=[],w=[];for(var B of b){let P=B.next;P&&
!P.terminal&&n(P,E(B.rule,B.pos,B.ahead,f),B.conflicts(B.pos+1).ambigGroups,B.pos==B.rule.parts.length-1?B.skipAhead:B.rule.skip,B)}for(;w.length;)B=w.pop(),n(B.rule.parts[0],E(B.rule,0,B.ahead,f),za(B.rule.conflicts[1].ambigGroups,1==B.rule.parts.length?B.ambigAhead:Hc),B.skipAhead,B);f=b.slice();for(let P of p)P.ahead.sort((V,fa)=>V.hash-fa.hash),P.finish(),B=b.findIndex(V=>0==V.pos&&V.rule==P.rule),-1<B?f[B]=P:f.push(P);return f.sort((P,V)=>P.cmp(V))}function xa(b,f){f.includes(b)||f.push(b)}function Ga(b){let f=
Object.create(null);for(var n of b.terms)n.terminal||(f[n.name]=[]);for(;;){n=!1;for(let p of b.terms)if(!p.terminal)for(let w of p.rules){let B=f[p.name],P=!1,V=B.length;for(let fa of w.parts){P=!0;if(fa.terminal)xa(fa,B);else for(let pa of f[fa.name])null==pa?P=!1:xa(pa,B);if(P)break}P||xa(null,B);B.length>V&&(n=!0)}if(!n)return f}}function Ta(b,f){function n(p,w){let B=[];for(let P=w.via;P!=p;P=P.via)B.push(P);if(!B.length)return"";B.unshift(w);return B.reverse().map((P,V)=>"\n"+"  ".repeat(V+
1)+(P==w?"":"via ")+P).join("")}if(b.eq(f))return"";for(let p=b;p;p=p.via)for(let w=f;w;w=w.via)if(p.eqSimple(w))return"\nShared origin: "+p+n(p,b)+n(p,f);return""}function fb(b,f,n){function p(Na,Wa){if(0==Na.length)return null;let Ua=ca(Na);var ib=B[Ua];let Jb;for(var eb of Na)if(!Jb)Jb=eb.skip;else if(Jb!=eb.skip)throw new mc("Inconsistent skip sets after "+eb.trail());if(ib)for(let tb of ib)if(O(Na,tb.set)){if(tb.state.skip!=Jb)throw new mc("Inconsistent skip sets after "+tb.set[0].trail());return tb.state}ib=
ka(Na,n);eb=ca(ib);let zb;if(!Wa)for(let tb of w)tb.hash==eb&&tb.hasSet(ib)&&(zb=tb);zb||(zb=new Cc(w.length,ib,0,Jb,eb,Wa),w.push(zb));(B[Ua]||(B[Ua]=[])).push(new Uc(Na,zb));return zb}let w=[],B={};for(var P of f){const Na=P.rules.length?P.rules[0].skip:b.names["%noskip"];p(P.rules.map(Wa=>(new pc(Wa,0,[b.eof],Hc,Na,null)).finish()),P)}f=[];for(P=0;P<w.length;P++){let Na=w[P];var V=[];let Wa=[];var fa=[];for(let Ua of Na.set)if(Ua.pos==Ua.rule.parts.length)Ua.rule.name.top||fa.push(Ua);else{var pa=
Ua.rule.parts[Ua.pos],ma=V.indexOf(pa);0>ma?(V.push(pa),Wa.push([Ua])):Wa[ma].push(Ua)}for(pa=0;pa<V.length;pa++){ma=V[pa];var ua=Wa[pa].map(Ua=>Ua.advance());ma.terminal?(ua=db(ua),(ua=p(ua))&&Na.addAction(new ec(ma,ua),Wa[pa],f)):(ua=p(ua))&&Na.goto.push(new ec(ma,ua))}V=!1;for(let Ua of fa)for(let ib of Ua.ahead)fa=Na.actions.length,Na.addAction(new xc(ib,Ua.rule),[Ua],f),Na.actions.length==fa&&(V=!0);if(V)for(fa=0;fa<Na.goto.length;fa++)n[Na.goto[fa].term.name].some(Ua=>Na.actions.some(ib=>ib.term==
Ua&&ib instanceof ec))||Na.goto.splice(fa--,1)}if(f.length)throw new mc(f.map(Na=>Na.error).join("\n\n"));for(let Na of w)Na.finish();return w}function db(b){let f=null,n=1;for(let p of b){let w=p.rule.conflicts[p.pos-1].cut;if(!(w<n)){if(!f||w>n)n=w,f=[];f.push(p)}}return f||b}function ub(b,f,n){for(let p of b.goto)for(let w of f.goto)if(p.term==w.term&&n[p.target.id]!=n[w.target.id])return!1;a:for(let p of b.actions){b=!1;for(let w of f.actions)if(w.term==p.term){if(p instanceof ec?w instanceof
ec&&n[p.target.id]==n[w.target.id]:w.eq(p))continue a;b=!0}if(b)return!1}return!0}function nb(b,f,n){return ub(b,f,n)&&ub(f,b,n)}function wb(b,f){let n=[];for(var p of b){let w=f[p.id];n[w]||(n[w]=new Cc(w,p.set,0,p.skip,p.hash,p.startRule),n[w].tokenGroup=p.tokenGroup,n[w].defaultReduce=p.defaultReduce)}for(let w of b){b=n[f[w.id]];b.flags|=w.flags;for(p=0;p<w.actions.length;p++){let B=w.actions[p].map(f,n);b.actions.some(P=>P.eq(B))||(b.actions.push(B),b.actionPositions.push(w.actionPositions[p]))}for(let B of w.goto){let P=
B.map(f,n);b.goto.some(V=>V.eq(P))||b.goto.push(P)}}return n}function Gb(b,f){if(b.length!=f.length)return!1;for(let n=0;n<b.length;n++)if(!b[n].eqSimple(f[n]))return!1;return!0}function Db(b){function f(fa,pa){let ma=p[fa],ua=b[ma.members[pa]],Na=ma.members.pop();pa!=ma.members.length&&(ma.members[pa]=Na);for(fa+=1;fa<p.length;fa++)if(n[ua.id]=fa,p[fa].origin==ma.origin&&p[fa].members.every(Wa=>nb(ua,b[Wa],n))){p[fa].members.push(ua.id);return}n[ua.id]=p.length;p.push(new ad(ma.origin,ua.id))}let n=
[],p=[];a:for(var w=0;w<b.length;w++){var B=b[w];if(!B.startRule)for(var P=0;P<p.length;P++){var V=p[P];let fa=b[V.members[0]];if(B.tokenGroup==fa.tokenGroup&&B.skip==fa.skip&&!fa.startRule&&Gb(B.set,fa.set)){V.members.push(w);n.push(P);continue a}}n.push(p.length);p.push(new ad(p.length,w))}for(;;){w=!1;for(let fa=0,pa=p.length;fa<pa;fa++)for(B=p[fa],P=0;P<B.members.length-1;P++)for(V=P+1;V<B.members.length;V++)nb(b[B.members[P]],b[B.members[V]],n)||(w=!0,f(fa,V--));if(!w)return wb(b,n)}}function xb(b){for(;;){let n=
[],p=!1,w=[];for(let B=0;B<b.length;B++){let P=b[B];var f=w.findIndex(V=>P.eq(V));if(0>f)n[B]=w.length,w.push(P);else{n[B]=f;p=!0;f=w[f];let V=null;for(let fa of P.set)f.set.some(pa=>pa.eqSimple(fa))||(V||(V=[])).push(fa);V&&(f.set=V.concat(f.set).sort((fa,pa)=>fa.cmp(pa)))}}if(!p)return b;for(let B of w)B.defaultReduce||(B.actions=B.actions.map(P=>P.map(n,w)),B.goto=B.goto.map(P=>P.map(n,w)));for(b=0;b<w.length;b++)w[b].id=b;b=w}}function ob(b,f=65535){if(b>f)throw Error("Trying to encode a number that's too big: "+
b);if(65535==b)return String.fromCharCode(126);f="";for(var n=46;;n=0){let p=b%46;b-=p;n=p+n+32;34<=n&&n++;92<=n&&n++;n=String.fromCharCode(n);f=n+f;if(0==b)break;b/=46}return f}function pb(b,f=65535){let n='"'+ob(b.length,4294967295);for(let p=0;p<b.length;p++)n+=ob(b[p],f);return n+'"'}function qb(...b){return new hc(b,null)}function Bb(b,f,n){b.props==Ab&&(b.props=Object.create(null));let p=b.props[f];if(!p||0>p.split(" ").indexOf(n))b.props[f]=p?p+" "+n:n}function dc(b){let f=Object.create(null);
for(let {value:n,term:p,type:w}of b)f[n]=p.id<<1|("specialize"==w?0:1);return f}function Cb(b,f,n=b.parts.length){return b.name.id|65536|(b.isRepeatWrap&&n==b.parts.length?131072:0)|(f.some(p=>p.rule==b.name)?262144:0)|n<<19}function lc(b,f){let n=Object.create(null),p=[],w=B=>{n[B.id]||(n[B.id]=!0,p.push(B))};for(let B of b)B.startRule&&f.includes(B.startRule)&&w(B);for(b=0;b<p.length;b++){for(let B of p[b].actions)B instanceof ec&&w(B.target);for(let B of p[b].goto)w(B.target)}return B=>!n[B]}function rc(b){let f=
{},n=0;for(var p of b)for(var w of p.goto)n=Math.max(w.term.id,n),b=f[w.term.id]||(f[w.term.id]={}),(b[w.target.id]||(b[w.target.id]=[])).push(p.id);p=new bd;w=[];b=n+2;for(let B=0;B<=n;B++){let P=f[B];if(!P){w.push(1);continue}let V=[],fa=Object.keys(P);for(let pa of fa){let ma=P[pa];V.push((pa==fa[fa.length-1]?1:0)+(ma.length<<1));V.push(+pa);for(let ua of ma)V.push(ua)}w.push(p.storeArray(V)+b)}if(w.some(B=>65535<B))throw new mc("Goto table too large");return Uint16Array.from([n+1,...w,...p.data])}
function Z(b,f){b.includes(f)||b.push(f)}function L(b){let f=Object.create(null);for(let n of b){b=1<<n.id;for(let p of n.tokens)f[p.id]=(f[p.id]||0)|b}return f}function K(b,f){function n(w){if(w instanceof oa){let B=w.exprs.indexOf(f);-1<B&&B<w.exprs.length-1&&(p=w.exprs[B+1])}return w}let p;for(let w of b.rules)w.expr.walk(n);for(let w of b.topRules)w.expr.walk(n);return p}function C(b,f,n){function p(B,P){return B.actions.some(V=>V.term==P)||n[f.skipRules.indexOf(B.skip)].startTokens.includes(P)}
let w=Object.create(null);return(B,P)=>{B.id<P.id&&([B,P]=[P,B]);let V=B.id|P.id<<16,fa=w[V];return null!=fa?fa:w[V]=b.some(pa=>p(pa,B)&&p(pa,P))}}function S(b){let f=0,n=[];for(let [p,w]of b)p>f&&n.push([f,p]),f=w;1114111>=f&&n.push([f,1114112]);return n}function W(b,f,n,p){if(55296>n&&1114112==p)b.edge(n,65535,f);else if(65536>n&&(55296>n&&b.edge(n,Math.min(p,55296),f),57344<p&&b.edge(Math.max(n,57344),Math.min(p,65535),f),n=65536),!(65536>p)){n=String.fromCodePoint(n);var w=String.fromCodePoint(p-
1);p=n.charCodeAt(0);n=n.charCodeAt(1);var B=w.charCodeAt(0);w=w.charCodeAt(1);if(p==B)B=new Tb,b.edge(p,p+1,B),B.edge(n,w+1,f);else{let P=p,V=B;if(56320<n){P++;let fa=new Tb;b.edge(p,p+1,fa);fa.edge(n,57344,f)}57343>w&&(V--,p=new Tb,b.edge(B,B+1,p),p.edge(56320,w+1,f));P<=V&&(p=new Tb,b.edge(P,V+1,p),p.edge(56320,57344,f))}}}function ea(b){return b instanceof oa&&0==b.exprs.length}function ia(b,f){let n=Object.create(null);for(let p of f){b.unique(p.id);let {name:w,props:B,dialect:P}=b.nodeInfo(p.props,
"d",p.id.name);f=b.makeTerminal(p.id.name,w,B);null!=P&&(b.tokens.byDialect[P]||(b.tokens.byDialect[P]=[])).push(f);b.namedTerms[p.id.name]=n[p.id.name]=f}return n}function Aa(b,f,n){f=f[n.id.name];if(!f)return null;n.args.length&&b.raise("External tokens cannot take arguments",n.args[0].start);b.used(n.id.name);return f}function Ba(b,f,n){let p=b.findIndex(w=>w.term==f);0>p?b.push({term:f,after:n}):b[p]={term:f,after:b[p].after.concat(n)}}function Ha(b,f){for(;;){let n=Object.create(null),p;for(let B=
0;B<b.length;B++){let P=b[B];P.name.interesting||P.parts.includes(P.name)||!(3>P.parts.length)||f.includes(P.name)||1!=P.parts.length&&!b.every(V=>V.skip==P.skip||!V.parts.includes(P.name))||P.parts.some(V=>!!n[V.name])||b.some((V,fa)=>fa!=B&&V.name==P.name)||(p=n[P.name.name]=P)}if(!p)return b;let w=[];for(let B of b){if(n[B.name.name])continue;if(!B.parts.some(V=>!!n[V.name])){w.push(B);continue}b=[B.conflicts[0]];let P=[];for(let V=0;V<B.parts.length;V++){let fa=n[B.parts[V].name];if(fa){b[b.length-
1]=b[b.length-1].join(fa.conflicts[0]);for(let pa=0;pa<fa.parts.length;pa++)P.push(fa.parts[pa]),b.push(fa.conflicts[pa+1]);b[b.length-1]=b[b.length-1].join(B.conflicts[V+1])}else P.push(B.parts[V]),b.push(B.conflicts[V+1])}w.push(new Gc(B.name,P,b,B.skip))}b=w}}function ya(b){let f=Object.create(null);var n;for(let p=0;p<b.length;){let w=p,B=b[p++].name;for(;p<b.length&&b[p].name==B;)p++;let P=p-w;if(!B.interesting)for(let V=p;V<b.length;){let fa=V,pa=b[V++].name;for(;V<b.length&&b[V].name==pa;)V++;
if(V-fa!=P||pa.interesting)continue;let ma=!0;for(let ua=0;ua<P&&ma;ua++)0!=b[w+ua].cmpNoName(b[fa+ua])&&(ma=!1);ma&&(n=f[B.name]=pa)}}if(!n)return b;n=[];for(let p of b)f[p.name.name]||n.push(p.parts.every(w=>!f[w.name])?p:new Gc(p.name,p.parts.map(w=>f[w.name]||w),p.conflicts,p.skip));return n}function Sa(b,f){return ya(Ha(b,f))}var Xa=Pa(13);"use strict";Object.defineProperty(D,"__esModule",{value:!0});var Ya=Pa(14);class Va{constructor(b){this.start=b}}class cb extends Va{constructor(b,f,n,p,
w,B,P,V,fa,pa,ma,ua,Na){super(b);this.rules=f;this.topRules=n;this.tokens=p;this.externalTokens=w;this.externalSpecializers=B;this.precedences=P;this.mainSkip=V;this.scopedSkip=fa;this.dialects=pa;this.grammars=ma;this.externalProps=ua;this.autoDelim=Na}toString(){return Object.values(this.rules).join("\n")}}class rb extends Va{constructor(b,f,n,p,w,B){super(b);this.id=f;this.exported=n;this.props=p;this.params=w;this.expr=B}toString(){return this.id.name+(this.params.length?`<${this.params.join()}>`:
"")+" -\x3e "+this.expr}}class Kb extends Va{constructor(b,f){super(b);this.items=f}}class sc extends Va{constructor(b,f){super(b);this.items=f}}class yb extends Va{constructor(b,f,n,p){super(b);this.precedences=f;this.rules=n;this.literals=p}}class $b extends Va{constructor(b,f,n){super(b);this.literal=f;this.props=n}}class Rb extends Va{constructor(b,f,n,p){super(b);this.id=f;this.source=n;this.tokens=p}}class ac extends Va{constructor(b,f,n,p,w,B){super(b);this.type=f;this.token=n;this.id=p;this.source=
w;this.tokens=B}}class Qa extends Va{constructor(b,f,n,p){super(b);this.id=f;this.externalID=n;this.source=p}}class bc extends Va{constructor(b,f,n,p){super(b);this.id=f;this.externalID=n;this.source=p}}class Lb extends Va{constructor(b,f){super(b);this.name=f}toString(){return this.name}}class I extends Va{walk(b){return b(this)}eq(b){return!1}}I.prototype.prec=10;class Y extends I{constructor(b,f,n,p){super(b);this.namespace=f;this.id=n;this.args=p}toString(){return this.id.name+(this.args.length?
`<${this.args.join()}>`:"")}eq(b){return(this.namespace?null!=b.namespace&&b.namespace.name==this.namespace.name:!b.namespace)&&this.id.name==b.id.name&&Ca(this.args,b.args)}walk(b){let f=Ja(this.args,b);return b(f==this.args?this:new Y(this.start,this.namespace,this.id,f))}}class ta extends I{constructor(b,f,n,p,w){super(b);this.type=f;this.props=n;this.token=p;this.content=w}toString(){return`@${this.type}[${this.props.join(",")}]<${this.token}, ${this.content}>`}eq(b){return this.type==b.type&&
oc.eqProps(this.props,b.props)&&Ka(this.token,b.token)&&Ka(this.content,b.content)}walk(b){let f=this.token.walk(b),n=this.content.walk(b);return b(f==this.token&&n==this.content?this:new ta(this.start,this.type,this.props,f,n))}}class la extends I{constructor(b,f){super(b);this.rule=f}toString(){let b=this.rule;return`${b.id}${b.props.length?`[${b.props.join(",")}]`:""} { ${b.expr} }`}eq(b){let f=this.rule;b=b.rule;return Ka(f.expr,b.expr)&&f.id.name==b.id.name&&oc.eqProps(f.props,b.props)}walk(b){let f=
this.rule,n=f.expr.walk(b);return b(n==f.expr?this:new la(this.start,new rb(f.start,f.id,!1,f.props,[],n)))}}class sa extends I{constructor(b,f){super(b);this.exprs=f}toString(){return this.exprs.map(b=>Ra(b,this)).join(" | ")}eq(b){return Ca(this.exprs,b.exprs)}walk(b){let f=Ja(this.exprs,b);return b(f==this.exprs?this:new sa(this.start,f))}}sa.prototype.prec=1;class oa extends I{constructor(b,f,n){super(b);this.exprs=f;this.markers=n}toString(){return this.exprs.map(b=>Ra(b,this)).join(" ")}eq(b){return Ca(this.exprs,
b.exprs)&&this.markers.every((f,n)=>{let p=b.markers[n];return f.length==p.length&&f.every((w,B)=>w.eq(p[B]))})}walk(b){let f=Ja(this.exprs,b);return b(f==this.exprs?this:new oa(this.start,f,this.markers))}}oa.prototype.prec=2;class Oa extends Va{constructor(b,f,n){super(b);this.id=f;this.type=n}toString(){return("ambig"==this.type?"~":"!")+this.id.name}eq(b){return this.id.name==b.id.name&&this.type==b.type}}class bb extends I{constructor(b,f,n){super(b);this.expr=f;this.kind=n}toString(){return Ra(this.expr,
this)+this.kind}eq(b){return Ka(this.expr,b.expr)&&this.kind==b.kind}walk(b){let f=this.expr.walk(b);return b(f==this.expr?this:new bb(this.start,f,this.kind))}}bb.prototype.prec=3;class Za extends I{constructor(b,f){super(b);this.value=f}toString(){return JSON.stringify(this.value)}eq(b){return this.value==b.value}}class hb extends I{constructor(b,f,n){super(b);this.ranges=f;this.inverted=n}toString(){return`[${this.inverted?"^":""}${this.ranges.map(([b,f])=>String.fromCodePoint(b)+(f==b+1?"":"-"+
String.fromCodePoint(f)))}]`}eq(b){return this.inverted==b.inverted&&this.ranges.length==b.ranges.length&&this.ranges.every(([f,n],p)=>{let [w,B]=b.ranges[p];return f==w&&n==B})}}class Ib extends I{constructor(b){super(b)}toString(){return"_"}eq(){return!0}}class oc extends Va{constructor(b,f,n){super(b);this.name=f;this.value=n}eq(b){return this.name==b.name&&this.value.length==b.value.length&&this.value.every((f,n)=>f.value==b.value[n].value&&f.name==b.value[n].name)}toString(){let b=this.name;
if(this.value.length){b+="\x3d";for(let {name:f,value:n}of this.value)b+=f?`{${f}}`:/[^\w-]/.test(n)?JSON.stringify(n):n}return b}static eqProps(b,f){return b.length==f.length&&b.every((n,p)=>n.eq(f[p]))}}class jb extends Va{constructor(b,f,n){super(b);this.value=f;this.name=n}}class mc extends Error{}const Ab=Object.create(null);let gc=0;class pd{constructor(b,f,n,p=Ab){this.name=b;this.flags=f;this.nodeName=n;this.props=p;this.hash=++gc;this.id=-1;this.rules=[];a:{for(let w in p)break a;this.props=
Ab}}toString(){return this.name}get nodeType(){return this.top||null!=this.nodeName||this.props!=Ab||this.repeated}get terminal(){return 0<(this.flags&1)}get eof(){return 0<(this.flags&4)}get error(){return"error"in this.props}get top(){return 0<(this.flags&2)}get interesting(){return 0<this.flags||null!=this.nodeName}get repeated(){return 0<(this.flags&16)}set preserve(b){this.flags=b?this.flags|8:this.flags&-9}get preserve(){return 0<(this.flags&8)}cmp(b){return this.hash-b.hash}}class Sb{constructor(){this.terms=
[];this.names=Object.create(null);this.tops=[];this.eof=this.term("␄",null,5);this.error=this.term("⚠","⚠",8,{error:""})}term(b,f,n=0,p=Ab){f=new pd(b,n,f,p);this.terms.push(f);return this.names[b]=f}makeTop(b,f){b=this.term("@top",b,2,f);this.tops.push(b);return b}makeTerminal(b,f,n=Ab){return this.term(b,f,1,n)}makeNonTerminal(b,f,n=Ab){return this.term(b,f,0,n)}makeRepeat(b){return this.term(b,null,16)}uniqueName(b){for(let f=0;;f++){let n=f?`${b}-${f}`:b;if(!this.names[n])return n}}finish(b){for(var f of b)f.name.rules.push(f);
this.terms=this.terms.filter(B=>B.terminal||B.preserve||b.some(P=>P.name==B||P.parts.includes(B)));f={};let n=[this.error];this.error.id=0;let p=1;for(var w of this.terms)0>w.id&&w.nodeType&&!w.repeated&&(w.id=p++,n.push(w));w=p;for(let B of this.terms)B.repeated&&(B.id=p++,n.push(B));this.eof.id=p++;for(let B of this.terms)0>B.id&&(B.id=p++),B.name&&(f[B.id]=B.name);if(65534<=p)throw new mc("Too many terms");return{nodeTypes:n,names:f,minRepeatTerm:w,maxTerm:p-1}}}const $c=[];class Ob{constructor(b,
f=$c,n=0){this.precedence=b;this.ambigGroups=f;this.cut=n}join(b){return this==Ob.none||this==b?b:b==Ob.none?this:new Ob(Math.max(this.precedence,b.precedence),za(this.ambigGroups,b.ambigGroups),Math.max(this.cut,b.cut))}cmp(b){return this.precedence-b.precedence||wa(this.ambigGroups,b.ambigGroups,(f,n)=>f<n?-1:f>n?1:0)||this.cut-b.cut}}Ob.none=new Ob(0);let yc=0;class Gc{constructor(b,f,n,p){this.name=b;this.parts=f;this.conflicts=n;this.skip=p;this.id=yc++}cmp(b){return this.id-b.id}cmpNoName(b){return this.parts.length-
b.parts.length||this.skip.hash-b.skip.hash||this.parts.reduce((f,n,p)=>f||n.cmp(b.parts[p]),0)||wa(this.conflicts,b.conflicts,(f,n)=>f.cmp(n))}toString(){return this.name+" -\x3e "+this.parts.join(" ")}get isRepeatWrap(){return this.name.repeated&&2==this.parts.length&&this.parts[0]==this.name}sameReduce(b){return this.name==b.name&&this.parts.length==b.parts.length&&this.isRepeatWrap==b.isRepeatWrap}}class Mc{constructor(b,f,n){this.from=b;this.to=f;this.target=n}toString(){return`-> ${this.target.id}[label=${JSON.stringify(0>
this.from?"ε":Fa(this.from)+(this.to>this.from+1?"-"+Fa(this.to-1):""))}]`}}let Dc=1;class Tb{constructor(b=[],f=Dc++){this.accepting=b;this.id=f;this.edges=[]}edge(b,f,n){this.edges.push(new Mc(b,f,n))}nullEdge(b){this.edge(-1,-1,b)}compile(){function b(p){let w=f[ra(p)]=new Tb(p.reduce((P,V)=>za(P,V.accepting),[]),n++),B=[];for(let P of p)for(let V of P.edges)0<=V.from&&B.push(V);p=Ea(B);for(let P of p)p=P.targets.sort((V,fa)=>V.id-fa.id),w.edge(P.from,P.to,f[ra(p)]||b(p));return w}let f=Object.create(null),
n=0;return b(this.closure().sort((p,w)=>p.id-w.id))}closure(){function b(n){if(!f.includes(n)){(n.edges.some(p=>0<=p.from)||0<n.accepting.length&&!n.edges.some(p=>{a:{var w=n.accepting;p=p.target.accepting;if(w.length!=p.length)w=!1;else{for(let B=0;B<w.length;B++)if(w[B]!=p[B]){w=!1;break a}w=!0}}return w}))&&f.push(n);for(let p of n.edges)0>p.from&&b(p.target)}}let f=[];b(this);return f}findConflicts(b){function f(w,B,P,V,fa){w.id<B.id&&([w,B]=[B,w],P=-P);let pa=n.find(ma=>ma.a==w&&ma.b==B);pa?
pa.soft!=P&&(pa.soft=0):n.push(new vc(w,B,P,Ma(V),fa&&Ma(fa)))}let n=[],p=this.cycleTerms();this.reachable((w,B)=>{if(0!=w.accepting.length){for(let P=0;P<w.accepting.length;P++)for(let V=P+1;V<w.accepting.length;V++)f(w.accepting[P],w.accepting[V],0,B);w.reachable((P,V)=>{if(P!=w)for(let fa of P.accepting){P=p.includes(fa);for(let pa of w.accepting)fa!=pa&&f(fa,pa,P||p.includes(pa)||!b(fa,pa)?0:1,B,B.concat(V))}})}});return n}cycleTerms(){let b=[];this.reachable(p=>{for(let {target:w}of p.edges)b.push(p,
w)});var f=new Map;let n=[];for(let p=0;p<b.length;){let w=b[p++],B=b[p++],P=f.get(w);P||f.set(w,P=[]);if(!P.includes(B))if(w==B)n.includes(w)||n.push(w);else{for(let V of P)b.push(w,V);P.push(B)}}f=[];for(let p of n)for(let w of p.accepting)f.includes(w)||f.push(w);return f}reachable(b){let f=[],n=[];(function B(w){b(w,n);f.push(w);for(let P of w.edges)f.includes(P.target)||(n.push(P),B(P.target),n.pop())})(this)}toString(){let b="digraph {\n";this.reachable(f=>{f.accepting.length&&(b+=`  ${f.id} [label=${JSON.stringify(f.accepting.join())}];\n`);
for(let n of f.edges)b+=`  ${f.id} ${n};\n`});return b+"}"}toArray(b,f){let n=[],p=[];this.reachable(w=>{let B=p.length,P=B+3+2*w.accepting.length;n[w.id]=B;p.push(w.stateMask(b),P,w.edges.length);w.accepting.sort((V,fa)=>f.indexOf(V.id)-f.indexOf(fa.id));for(let V of w.accepting)p.push(V.id,b[V.id]||65535);for(let V of w.edges)p.push(V.from,V.to,-V.target.id-1)});for(let w=0;w<p.length;w++)0>p[w]&&(p[w]=n[-p[w]-1]);if(65536<p.length)throw new mc("Tokenizer tables too big to represent with 16-bit offsets.");
return Uint16Array.from(p)}stateMask(b){let f=0;this.reachable(n=>{for(let p of n.accepting)f|=b[p.id]||65535});return f}}class vc{constructor(b,f,n,p,w){this.a=b;this.b=f;this.soft=n;this.exampleA=p;this.exampleB=w}}class Hb{constructor(b,f,n){this.from=b;this.to=f;this.targets=n}}let mb=/[\w_-]+/gy;try{mb=/[\p{Alphabetic}\d_-]+/ugy}catch(b){}const wc=[];class Oc{constructor(b,f=null){this.string=b;this.fileName=f;this.type="sof";this.value=null;this.end=this.start=0;this.next()}lineInfo(b){for(let f=
1,n=0;;){let p=this.string.indexOf("\n",n);if(-1<p&&p<b)++f,n=p+1;else return{line:f,ch:b-n}}}message(b,f=-1){let n=this.fileName||"";-1<f&&(f=this.lineInfo(f),n+=(n?" ":"")+f.line+":"+f.ch);return n?b+` (${n})`:b}raise(b,f=-1){throw new mc(this.message(b,f));}match(b,f){return(f=f.exec(this.string.slice(b)))?b+f[0].length:-1}next(){let b=this.match(this.end,/^(\s|\/\/.*|\/\*[^]*?\*\/)*/);if(b==this.string.length)return this.set("eof",null,b,b);var f=this.string[b];if('"'==f)return f=this.match(b+
1,/^(\\.|[^"])*"/),-1==f&&this.raise("Unterminated string literal",b),this.set("string",l(this.string.slice(b+1,f-1)),b,f);if("'"==f)return f=this.match(b+1,/^(\\.|[^'])*'/),-1==f&&this.raise("Unterminated string literal",b),this.set("string",l(this.string.slice(b+1,f-1)),b,f);if("@"==f)return mb.lastIndex=b+1,(f=mb.exec(this.string))?this.set("at",f[0],b,b+1+f[0].length):this.raise("@ without a name",b);if("$"!=f&&"!"!=f||"["!=this.string[b+1]){if(/[\[\]()!~+*?{}<>\.,|:$=]/.test(f))return this.set(f,
null,b,b+1);{mb.lastIndex=b;let n=mb.exec(this.string);return n?this.set("id",n[0],b,b+n[0].length):this.raise("Unexpected character "+JSON.stringify(f),b)}}f=this.match(b+2,/^(?:\\.|[^\]])*\]/);-1==f&&this.raise("Unterminated character set",b);return this.set("set",this.string.slice(b+2,f-1),b,f)}set(b,f,n,p){this.type=b;this.value=f;this.start=n;this.end=p}eat(b,f=null){if(this.type!=b||null!=f&&this.value!==f)return!1;this.next();return!0}unexpected(){return this.raise(`Unexpected token '${this.string.slice(this.start,
this.end)}'`,this.start)}expect(b,f=null){let n=this.value;(this.type!=b||null!=f&&n!==f)&&this.unexpected();this.next();return n}parse(){{var b=this.start;let B=[];var f=null,n=null;let P=null,V=[],fa=[],pa=[],ma=[],ua=[],Na=[],Wa=[],Ua=!1;for(;"eof"!=this.type;){var p=this.start;if("at"==this.type&&"top"==this.value)this.next(),p="id"==this.type?M(this):new Lb(p,"@top"),Wa.length&&"@top"===p.name&&this.raise("Unnamed secondary @top declaration",this.start),Wa.push(ja(this,p));else if("at"==this.type&&
"tokens"==this.value)if(n)this.raise("Multiple @tokens declaractions",this.start);else{{n=this.start;this.next();this.expect("{");p=[];var w=[];let ib=[];for(;!this.eat("}");)"at"==this.type&&"precedence"==this.value?ib.push(Q(this)):"string"==this.type?w.push(new $b(this.start,this.expect("string"),Ia(this))):p.push(ja(this));n=new yb(n,ib,p,w)}}else if(this.eat("at","external"))this.eat("id","tokens")?pa.push(r(this,p)):this.eat("id","grammar")?ua.push(k(this,p)):this.eat("id","prop")?Na.push(h(this,
p)):this.eat("id","extend")?ma.push(t(this,"extend",p)):this.eat("id","specialize")?ma.push(t(this,"specialize",p)):this.unexpected();else if(this.eat("at","dialects"))for(this.expect("{"),p=!0;!this.eat("}");p=!1)p||this.eat(","),fa.push(M(this));else if("at"==this.type&&"precedence"==this.value){f&&this.raise("Multiple precedence declarations",this.start);f=this.start;this.next();this.expect("{");for(p=[];!this.eat("}");)p.length&&this.eat(","),p.push({id:M(this),type:this.eat("at","left")?"left":
this.eat("at","right")?"right":this.eat("at","cut")?"cut":null});f=new Kb(f,p)}else if(this.eat("at","detectDelim"))Ua=!0;else if(this.eat("at","skip"))if(p=ha(this),"{"==this.type){this.next();for(w=[];!this.eat("}");)w.push(ja(this));V.push({expr:p,rules:w})}else P&&this.raise("Multiple top-level skip declarations",this.start),P=p;else B.push(ja(this))}b=Wa.length?new cb(b,B,Wa,n,pa,ma,f,P,V,fa,ua,Na,Ua):this.raise("Missing @top declaration")}return b}}class pc{constructor(b,f,n,p,w,B){this.rule=
b;this.pos=f;this.ahead=n;this.ambigAhead=p;this.skipAhead=w;this.via=B;this.hash=0}finish(){var b=u(u(this.rule.id,this.pos),this.skipAhead.hash);for(var f of this.ahead)b=u(b,f.hash);for(let n of this.ambigAhead){f=n;for(let p=0;p<f.length;p++)b=u(b,f.charCodeAt(p))}this.hash=b;return this}get next(){return this.pos<this.rule.parts.length?this.rule.parts[this.pos]:null}advance(){return(new pc(this.rule,this.pos+1,this.ahead,this.ambigAhead,this.skipAhead,this.via)).finish()}get skip(){return this.pos==
this.rule.parts.length?this.skipAhead:this.rule.skip}cmp(b){return this.rule.cmp(b.rule)||this.pos-b.pos||this.skipAhead.hash-b.skipAhead.hash||wa(this.ahead,b.ahead,(f,n)=>f.cmp(n))||wa(this.ambigAhead,b.ambigAhead,A)}eqSimple(b){return b.rule==this.rule&&b.pos==this.pos}toString(){let b=this.rule.parts.map(f=>f.name);b.splice(this.pos,0,"·");return`${this.rule.name} -> ${b.join(" ")}`}eq(b){return this==b||this.hash==b.hash&&this.rule==b.rule&&this.pos==b.pos&&this.skipAhead==b.skipAhead&&U(this.ahead,
b.ahead)&&U(this.ambigAhead,b.ambigAhead)}trail(b=60){var f=[];for(let n=this;n;n=n.via)for(let p=n.pos-1;0<=p;p--)f.push(n.rule.parts[p]);f=f.reverse().join(" ");f.length>b&&(f=f.slice(f.length-b).replace(/.*? /,"… "));return f}conflicts(b=this.pos){let f=this.rule.conflicts[b];b==this.rule.parts.length&&this.ambigAhead.length&&(f=f.join(new Ob(0,this.ambigAhead)));return f}static addOrigins(b,f){b=b.slice();for(let n=0;n<b.length;n++){let p=b[n];if(0==p.pos)for(let w of f)w.next!=p.rule.name||b.includes(w)||
b.push(w)}return b}}class ec{constructor(b,f){this.term=b;this.target=f}eq(b){return b instanceof ec&&this.term==b.term&&b.target.id==this.target.id}cmp(b){return b instanceof xc?-1:this.term.id-b.term.id||this.target.id-b.target.id}toString(){return"s"+this.target.id}map(b,f){b=f[b[this.target.id]];return b==this.target?this:new ec(this.term,b)}}class xc{constructor(b,f){this.term=b;this.rule=f}eq(b){return b instanceof xc&&this.term==b.term&&b.rule.sameReduce(this.rule)}cmp(b){return b instanceof
ec?1:this.term.id-b.term.id||this.rule.name.id-b.rule.name.id||this.rule.parts.length-b.rule.parts.length}toString(){return`${this.rule.name.name}(${this.rule.parts.length})`}map(){return this}}class Cc{constructor(b,f,n=0,p,w=ca(f),B=null){this.id=b;this.set=f;this.flags=n;this.skip=p;this.hash=w;this.startRule=B;this.actions=[];this.actionPositions=[];this.goto=[];this.tokenGroup=-1;this.defaultReduce=null;this.nested=-1}toString(){let b=this.actions.map(f=>f.term+"\x3d"+f).join(",")+(this.goto.length?
" | "+this.goto.map(f=>f.term+"\x3d"+f).join(","):"");return this.id+": "+this.set.filter(f=>0<f.pos).join()+(this.defaultReduce?`\n  always ${this.defaultReduce.name}(${this.defaultReduce.parts.length})`:b.length?"\n  "+b:"")}addActionInner(b,f){for(let p=0;p<this.actions.length;p++){let w=this.actions[p];if(w.term==b.term){if(w.eq(b))return null;var n=pc.addOrigins(f,this.set);let B=pc.addOrigins(this.actionPositions[p],this.set),P=J(n),V=J(B);n=F(n,B)||P.precedence-V.precedence;if(0<n)this.actions.splice(p,
1),this.actionPositions.splice(p,1),p--;else{if(0>n)return null;if(!P.ambigGroups.some(fa=>V.ambigGroups.includes(fa)))return w}}}this.actions.push(b);this.actionPositions.push(f);return null}addAction(b,f,n){var p=this.addActionInner(b,f);if(p){let w=this.actionPositions[this.actions.indexOf(p)][0],B=[f[0].rule.name,w.rule.name];n.some(P=>P.rules.some(V=>B.includes(V)))||(p=p instanceof ec?`shift/reduce conflict between\n  ${w}\nand\n  ${f[0].rule}`:`reduce/reduce conflict between\n  ${w.rule}\nand\n  ${f[0].rule}`,
p+=`\nWith input:\n  ${f[0].trail(70)} · ${b.term} …`,p+=Ta(w,f[0]),n.push(new Tc(p,B)))}}getGoto(b){return this.goto.find(f=>f.term==b)}hasSet(b){return O(this.set,b)}finish(){if(this.actions.length){let b=this.actions[0];if(b instanceof xc){let {rule:f}=b;this.actions.every(n=>n instanceof xc&&n.rule.sameReduce(f))&&(this.defaultReduce=f)}}this.actions.sort((b,f)=>b.cmp(f));this.goto.sort((b,f)=>b.cmp(f))}eq(b){let f=this.defaultReduce,n=b.defaultReduce;return f||n?f&&n?f.sameReduce(n):!1:this.skip==
b.skip&&this.tokenGroup==b.tokenGroup&&O(this.actions,b.actions)&&O(this.goto,b.goto)}}class Uc{constructor(b,f){this.set=b;this.state=f}}class Tc{constructor(b,f){this.error=b;this.rules=f}}class ad{constructor(b,f){this.origin=b;this.members=[f]}}const Hc=[],sb=[],Ic="undefined"!=typeof Xa&&Xa.env.LOG||"";class hc{constructor(b,f){this.terms=b;this.conflicts=f}concat(b){if(this==hc.none)return b;if(b==hc.none)return this;let f=null;if(this.conflicts||b.conflicts){f=this.conflicts?this.conflicts.slice():
this.ensureConflicts();let n=b.ensureConflicts();f[f.length-1]=f[f.length-1].join(n[0]);for(let p=1;p<n.length;p++)f.push(n[p])}return new hc(this.terms.concat(b.terms),f)}withConflicts(b,f){if(f==Ob.none)return this;let n=this.conflicts?this.conflicts.slice():this.ensureConflicts();n[b]=n[b].join(f);return new hc(this.terms,n)}ensureConflicts(){if(this.conflicts)return this.conflicts;let b=[];for(let f=0;f<=this.terms.length;f++)b.push(Ob.none);return b}}hc.none=new hc(sb,null);class Jc{constructor(b,
f,n){this.id=b;this.args=f;this.term=n}matches(b){return this.id==b.id.name&&Ca(b.args,this.args)}matchesRepeat(b){return"+"==this.id&&Ka(b.expr,this.args[0])}}class Pc{constructor(b,f){this.options=f;this.terms=new Sb;this.nestedGrammars=[];this.specialized=Object.create(null);this.tokenOrigins=Object.create(null);this.rules=[];this.built=[];this.ruleNames=Object.create(null);this.namespaces=Object.create(null);this.namedTerms=Object.create(null);this.termTable=Object.create(null);this.knownProps=
Object.create(null);this.dynamicRulePrecedences=[];this.astRules=[];this.currentSkip=[];this.input=new Oc(b,f.fileName);this.ast=this.input.parse();b=Ya.NodeProp;for(var n in b)b[n]instanceof Ya.NodeProp&&(this.knownProps[n]={prop:b[n],source:{name:n,from:null}});for(var p of this.ast.externalProps)this.knownProps[p.id.name]={prop:this.options.externalProp?this.options.externalProp(p.id.name):Ya.NodeProp.string(),source:{name:p.externalID.name,from:p.source}};this.dialects=this.ast.dialects.map(ma=>
ma.name);this.tokens=new Wc(this,this.ast.tokens);this.externalTokens=this.ast.externalTokens.map(ma=>new Rc(this,ma));this.externalSpecializers=this.ast.externalSpecializers.map(ma=>new Kc(this,ma));this.defineNamespace("nest",new cd);for(let ma of this.ast.grammars)this.ast.grammars.some(ua=>ua!=ma&&ua.id.name==ma.id.name)&&this.raise(`Duplicate external grammar name '${ma.id.name}'`,ma.id.start);n=this.newName("%noskip",!0);this.defineRule(n,[]);p=this.ast.mainSkip?this.newName("%mainskip",!0):
n;let w=[];for(var B of this.ast.rules)this.astRules.push({skip:p,rule:B});for(let ma of this.ast.scopedSkip){B=n;b=this.ast.scopedSkip.findIndex((ua,Na)=>Na<w.length&&Ka(ua.expr,ma.expr));-1<b?B=w[b]:this.ast.mainSkip&&Ka(ma.expr,this.ast.mainSkip)?B=p:ea(ma.expr)||(B=this.newName("%skip",!0));w.push(B);for(var P of ma.rules)this.astRules.push({skip:B,rule:P})}for(var {rule:V}of this.astRules)this.unique(V.id),this.namespaces[V.id.name]&&this.raise(`Rule name '${V.id.name}' conflicts with a defined namespace`,
V.id.start);this.currentSkip.push(n);this.skipRules=p==n?[p]:[n,p];p!=n&&this.defineRule(p,this.normalizeExpr(this.ast.mainSkip));for(P=0;P<this.ast.scopedSkip.length;P++)V=w[P],this.skipRules.includes(V)||(this.skipRules.push(V),V!=n&&this.defineRule(V,this.normalizeExpr(this.ast.scopedSkip[P].expr)));this.currentSkip.pop();for(var fa of this.ast.topRules){this.currentSkip.push(p);let {name:ma,props:ua}=this.nodeInfo(fa.props,"","@top"==fa.id.name?null:fa.id.name,sb,sb,fa.expr,{top:"true"});this.defineRule(this.terms.makeTop(ma,
ua),this.normalizeExpr(fa.expr));this.currentSkip.pop()}for(let ma of this.externalSpecializers)ma.finish();for(var pa of this.ast.rules)if(pa.exported&&this.ruleNames[pa.id.name]&&0==pa.params.length){let {name:ma,props:ua,dynamicPrec:Na}=this.nodeInfo(pa.props,"p",pa.id.name);fa=this.namedTerms[pa.id.name]=this.newName(pa.id.name,ma,ua);Na&&this.registerDynamicPrec(fa,Na);fa.preserve=!0;pa.expr instanceof oa&&0==pa.expr.exprs.length&&this.used(pa.id.name)}for(let ma in this.ruleNames)(pa=this.ruleNames[ma])&&
this.warn(`Unused rule '${pa.name}'`,pa.start);this.tokens.takePrecedences()}unique(b){b.name in this.ruleNames&&this.raise(`Duplicate definition of rule '${b.name}'`,b.start);this.ruleNames[b.name]=b}used(b){this.ruleNames[b]=null}defineNamespace(b,f,n=0){this.namespaces[b]&&this.raise(`Duplicate definition of namespace '${b}'`,n);this.namespaces[b]=f}newName(b,f=null,n=Ab){for(let p=f?0:1;;p++){let w=p?`${b}-${p}`:b;if(!this.terms.names[w])return this.terms.makeNonTerminal(w,!0===f?null:f,n)}}prepareParser(){var b=
Sa(this.rules,[...this.skipRules,...this.nestedGrammars.map(gb=>gb.placeholder),...this.terms.tops]);let {nodeTypes:f,names:n,minRepeatTerm:p,maxTerm:w}=this.terms.finish(b);for(var B in this.namedTerms)this.termTable[B]=this.namedTerms[B].id;/\bgrammar\b/.test(Ic)&&console.log(b.join("\n"));let P=this.terms.tops.slice(),V=Ga(this.terms);B=this.skipRules.map((gb,Pb)=>{let ic=[],Qb=[],jc=[];for(let Yb of gb.rules){if(!Yb.parts.length)continue;let Fb=Yb.parts[0];for(let fc of Fb.terminal?[Fb]:V[Fb.name]||
[])Qb.includes(fc)||Qb.push(fc);Fb.terminal&&1==Yb.parts.length&&!jc.some(fc=>fc!=Yb&&fc.parts[0]==Fb)?ic.push(Fb):jc.push(Yb)}gb.rules=jc;jc.length&&P.push(gb);return{skip:ic,rule:jc.length?gb:null,startTokens:Qb,id:Pb}});b=fb(this.terms,P,V);let {tokenGroups:fa,tokenPrec:pa,tokenData:ma}=this.tokens.buildTokenGroups(b,B),ua=xb(Db(b));var Na=lc(ua,this.terms.tops);this.addNestedGrammars(ua);/\blr\b/.test(Ic)&&console.log(ua.join("\n"));b=[];for(var Wa of this.externalSpecializers)b.push(Wa);for(var Ua in this.specialized)b.push({token:this.terms.names[Ua],
table:dc(this.specialized[Ua])});let ib=gb=>gb instanceof Rb?gb.start:this.tokens.ast?this.tokens.ast.start:-1;Wa=fa.concat(this.externalTokens.map(gb=>gb.ast)).sort((gb,Pb)=>ib(gb)-ib(Pb));let Jb=new bd,eb=B.map(gb=>{let Pb=[];for(var ic of gb.skip)Pb.push(ic.id,0,4);if(gb.rule){ic=ua.find(Qb=>Qb.startRule==gb.rule);for(let Qb of ic.actions)Pb.push(Qb.term.id,ic.id,2)}Pb.push(65535,0);return Jb.storeArray(Pb)});Ua=new Uint32Array(6*ua.length);var zb=this.computeForceReductions(ua,B);B=new cc(Wa,
Jb,Ua,eb,B,ua,this);for(var tb of ua)B.finish(tb,Na(tb.id),zb[tb.id]);tb=Object.create(null);for(B=0;B<this.dialects.length;B++)tb[this.dialects[B]]=Jb.storeArray((this.tokens.byDialect[B]||sb).map(gb=>gb.id).concat(65535));B=null;if(this.dynamicRulePrecedences.length){B=Object.create(null);for(let {rule:gb,prec:Pb}of this.dynamicRulePrecedences)B[gb.id]=Pb}Na=Object.create(null);for(let gb of this.terms.tops)Na[gb.nodeName||"@top"]=[ua.find(Pb=>Pb.startRule==gb).id,gb.id];zb=Jb.storeArray(pa.concat(65535));
return{states:Ua,stateData:Jb.finish(),goto:rc(ua),nodeNames:f.filter(gb=>gb.id<p).map(gb=>gb.nodeName).join(" "),nodeProps:this.gatherNodeProps(f),maxTerm:w,repeatNodeCount:f.length-p,tokenizers:Wa,tokenData:ma,topRules:Na,dialects:tb,dynamicPrecedences:B,specialized:b,tokenPrec:zb,termNames:n}}getParser(){let {states:b,stateData:f,goto:n,nodeNames:p,nodeProps:w,maxTerm:B,repeatNodeCount:P,tokenizers:V,tokenData:fa,topRules:pa,dialects:ma,dynamicPrecedences:ua,specialized:Na,tokenPrec:Wa,termNames:Ua}=
this.prepareParser(),ib=Na.map(eb=>{if(eb instanceof Kc){let zb=this.options.externalSpecializer(eb.ast.id.name,this.termTable);return{term:eb.term.id,get:(tb,gb)=>zb(tb,gb)<<1|("extend"==eb.ast.type?1:0)}}return{term:eb.token.id,get:zb=>eb.table[zb]||-1}}),Jb=V.map(eb=>eb instanceof Rb?this.options.externalTokenizer(eb.id.name,this.termTable):eb.id);return Ya.Parser.deserialize({states:b,stateData:f,goto:n,nodeNames:p,maxTerm:B,repeatNodeCount:P,nodeProps:w.map(({prop:eb,terms:zb})=>[this.knownProps[eb].prop,
...zb]),tokenData:fa,tokenizers:Jb,topRules:pa,nested:this.nestedGrammars.map(eb=>[eb.name,eb.source?this.options.nestedGrammar(eb.name,this.termTable):null,eb.end.compile().toArray({},sb),eb.placeholder.id]),dialects:ma,dynamicPrecedences:ua,specialized:ib,tokenPrec:Wa,termNames:Ua})}getParserFile(){function b($a){return"{__proto__:null,"+Object.keys($a).map(vb=>`${/\W/.test(vb)?JSON.stringify(vb):vb}:${$a[vb]}`).join(", ")+"}"}function f($a){return"string"!=typeof $a||/^(true|false|\d+(\.\d+)?|\.\d+)$/.test($a)?
$a:JSON.stringify($a)}let {states:n,stateData:p,goto:w,nodeNames:B,nodeProps:P,maxTerm:V,repeatNodeCount:fa,tokenizers:pa,tokenData:ma,topRules:ua,dialects:Na,dynamicPrecedences:Wa,specialized:Ua,tokenPrec:ib,termNames:Jb}=this.prepareParser(),eb=this.options.moduleStyle||"es",zb;zb="// This file was generated by lezer-generator. You probably shouldn't edit it.\n"+("cjs"==eb?'const {Parser} \x3d require("lezer")\n':'import {Parser} from "lezer"\n');let tb={},gb=Object.create(null),Pb=Object.create(null);
Pb.Parser=!0;let ic=$a=>{for(let vb=0;;vb++){let kc=$a+(vb?"_"+vb:"");if(!Pb[kc])return kc}},Qb=($a,vb,kc)=>{let Sc=$a+" from "+vb;if(gb[Sc])return gb[Sc];vb=JSON.stringify(vb);let Lc=$a;$a in Pb&&(Lc=ic(kc),$a+=`${"cjs"==eb?":":" as"} ${Lc}`);(tb[vb]||(tb[vb]=[])).push($a);return gb[Sc]=Lc};var jc=pa.map($a=>{if($a instanceof Rb){let {source:vb,id:{name:kc}}=$a;return Qb(kc,vb,"tok")}return $a.id}),Yb=this.nestedGrammars.map($a=>`[${JSON.stringify($a.name)}, ${$a.source?Qb($a.extName,$a.source,$a.name):
"null"},\
${pb($a.end.compile().toArray({},sb))}, ${$a.placeholder.id}]`),Fb=P.map(({prop:$a,terms:vb})=>{({source:$a}=this.knownProps[$a]);return`[${$a.from?Qb($a.name,$a.from,"prop"):Qb("NodeProp","lezer","NodeProp")+"."+$a.name}, ${vb.map(f).join(",")}]`});let fc="";var nc=Ua.map($a=>{if($a instanceof Kc){var vb=Qb($a.ast.id.name,$a.ast.source,$a.ast.id.name);return`{term: ${$a.term.id}, get: (value, stack) => (${vb}(value, stack) << 1)${"extend"==$a.ast.type?" | 1":""}}`}vb=ic("spec_"+$a.token.name.replace(/\W/g,
""));fc+=`const ${vb} = ${b($a.table)}\n`;return`{term: ${$a.token.id}, get: value => ${vb}[value] || -1}`});for(var qc in tb)zb="cjs"==eb?zb+`const {${tb[qc].join(", ")}} = require(${qc})\n`:zb+`import {${tb[qc].join(", ")}} from ${qc}\n`;zb+=fc;qc=Object.keys(Na).map($a=>`${$a}: ${Na[$a]}`);jc=`Parser.deserialize({
  states: ${pb(n,4294967295)},
  stateData: ${pb(p)},
  goto: ${pb(w)},
  nodeNames: ${JSON.stringify(B)},
  maxTerm: ${V},${Fb.length?`
  nodeProps: [
    ${Fb.join(",\n    ")}
  ],`:""}
  repeatNodeCount: ${fa},
  tokenData: ${pb(ma)},
  tokenizers: [${jc.join(", ")}],
  topRules: ${JSON.stringify(ua)}${Yb.length?`,
  nested: [${Yb.join(", ")}]`:""}${qc.length?`,
  dialects: {${qc.join(", ")}}`:""}${Wa?`,
  dynamicPrecedences: ${JSON.stringify(Wa)}`:""}${nc.length?`,
  specialized: [${nc.join(",")}]`:""},
  tokenPrec: ${ib}${this.options.includeNames?`,
  termNames: ${JSON.stringify(Jb)}`:""}
})`;Yb=[];for(var Zb in this.termTable){Fb=Zb;if(Bc.includes(Fb))for(nc=1;Fb="_".repeat(nc)+Zb,Fb in this.termTable;nc++);Yb.push(`${Fb}${"cjs"==eb?":":" \x3d"} ${this.termTable[Zb]}`)}for(Zb=0;Zb<this.dialects.length;Zb++)Yb.push(`Dialect_${this.dialects[Zb]}${"cjs"==eb?":":" \x3d"} ${Zb}`);Zb=this.options.exportName||"parser";return{parser:zb+("cjs"==eb?`exports.${Zb} = ${jc}\n`:`export const ${Zb} = ${jc}\n`),terms:"cjs"==eb?`${"// This file was generated by lezer-generator. You probably shouldn't edit it.\n"}module.exports = {\n  ${Yb.join(",\n  ")}\n}`:
`${"// This file was generated by lezer-generator. You probably shouldn't edit it.\n"}export const\n  ${Yb.join(",\n  ")}\n`}}gatherNonSkippedNodes(){let b=Object.create(null),f=[],n=p=>{b[p.id]||(b[p.id]=!0,f.push(p))};this.terms.tops.forEach(n);for(let p=0;p<f.length;p++)for(let w of f[p].rules)for(let B of w.parts)n(B);return b}gatherNodeProps(b){let f=this.gatherNonSkippedNodes(),n=[];for(let p of b){f[p.id]||p.error||(p.props==Ab&&(p.props={}),p.props.skipped="true");for(let w in p.props){b=
this.knownProps[w];if(!b)throw new mc("No known prop type for "+w);if(null!=b.source.from||"repeated"!=b.source.name&&"error"!=b.source.name)(b=n.find(B=>B.prop==w))||n.push(b={prop:w,terms:[]}),b.terms.push(p.id,p.props[w])}}return n}addNestedGrammars(b){for(let f of b)if(b=f.set.filter(n=>this.nestedGrammars.some(p=>p.placeholder==n.next)),b.length){let n=b[0].next;b.every(p=>p.next==n)||this.raise(`Multiple nested grammars possible after ${b[0].trail()}`);f.set.every(p=>p.next==n||0==p.pos&&f.set.some(w=>
w.next==p.rule.name))||this.raise(`Nested grammar in ambiguous position after ${b[0].trail()} `+f.set);f.nested=this.nestedGrammars.findIndex(p=>p.placeholder==n)}}makeTerminal(b,f,n){return this.terms.makeTerminal(this.terms.uniqueName(b),f,n)}computeForceReductions(b,f){function n(ma,ua,Na=null){return(ma=B[ma])?ma.some(Wa=>{let Ua=Na?Na.filter(Jb=>Wa.parents.includes(Jb)):Wa.parents;if(0==Ua.length)return!1;if(Wa.target==ua)return!0;let ib=pa[Wa.target];return null!=ib&&n(ib,ua,Ua)}):!1}let p=
[],w=[],B=Object.create(null);for(var P of b){p.push(0);for(let ma of P.goto){var V=B[ma.term.id]||(B[ma.term.id]=[]),fa=V.find(ua=>ua.target==ma.target.id);fa?fa.parents.push(P.id):V.push({parents:[P.id],target:ma.target.id})}w[P.id]=P.set.filter(ma=>0<ma.pos&&!ma.rule.name.top).sort((ma,ua)=>ua.pos-ma.pos||ma.rule.parts.length-ua.rule.parts.length)}let pa=Object.create(null);for(let ma of b)ma.defaultReduce&&0<ma.defaultReduce.parts.length&&(p[ma.id]=Cb(ma.defaultReduce,f),1==ma.defaultReduce.parts.length&&
(pa[ma.id]=ma.defaultReduce.name.id));for(P=1;;P++){V=!0;for(let ma of b)if(!ma.defaultReduce)if(fa=w[ma.id],fa.length!=P)fa.length>P&&(V=!1);else for(let ua of fa)if(1!=ua.pos||!n(ua.rule.name.id,ma.id)){p[ma.id]=Cb(ua.rule,f,ua.pos);1==ua.pos&&(pa[ma.id]=ua.rule.name.id);break}if(V)break}return p}substituteArgs(b,f,n){return 0==f.length?b:b.walk(p=>{var w;if(p instanceof Y&&!p.namespace&&-1<(w=n.findIndex(B=>B.name==p.id.name))){w=f[w];if(p.args.length){if(w instanceof Y&&!w.args.length)return new Y(p.start,
w.namespace,w.id,p.args);this.raise("Passing arguments to a parameter that already has arguments",p.start)}return w}if(p instanceof la){w=p.rule;let B=this.substituteArgsInProps(w.props,f,n);return B==w.props?p:new la(p.start,new rb(w.start,w.id,w.exported,B,w.params,w.expr))}return p instanceof ta?(w=this.substituteArgsInProps(p.props,f,n),w==p.props?p:new ta(p.start,p.type,w,p.token,p.content)):p})}substituteArgsInProps(b,f,n){let p=B=>{let P=B;for(let fa=0;fa<B.length;fa++){let pa=B[fa];if(pa.name){var V=
n.findIndex(ma=>ma.name==pa.name);0>V||(P==B&&(P=B.slice()),V=f[V],V instanceof Y&&!V.namespace&&!V.args.length?P[fa]=new jb(pa.start,V.id.name,null):V instanceof Za?P[fa]=new jb(pa.start,V.value,null):this.raise(`Trying to interpolate expression '${V}' into a prop`,pa.start))}}return P},w=b;for(let B=0;B<b.length;B++){let P=b[B],V=p(P.value);V!=P.value&&(w==b&&(w=b.slice()),w[B]=new oc(P.start,P.name,V))}return w}conflictsFor(b){let f=Ob.none,n=Ob.none;for(let w of b)if("ambig"==w.type)f=f.join(new Ob(0,
[w.id.name]));else{var p=this.ast.precedences;let B=p?p.items.findIndex(P=>P.id.name==w.id.name):-1;0>B&&this.raise(`Reference to unknown precedence: '${w.id.name}'`,w.id.start);b=p.items[B];p=p.items.length-B;"cut"==b.type?f=f.join(new Ob(0,sb,p)):(f=f.join(new Ob(p<<2)),n=n.join(new Ob((p<<2)+("left"==b.type?1:"right"==b.type?-1:0))))}return{here:f,atEnd:n}}raise(b,f=1){return this.input.raise(b,f)}warn(b,f=-1){b=this.input.message(b,f);this.options.warn?this.options.warn(b):console.warn(b)}defineRule(b,
f){let n=this.currentSkip[this.currentSkip.length-1];for(let p of f)this.rules.push(new Gc(b,p.terms,p.ensureConflicts(),n));return b}resolve(b){if(b.namespace){var f=this.namespaces[b.namespace.name];f||this.raise(`Reference to undefined namespace '${b.namespace.name}'`,b.start);return f.resolve(b,this)}for(var n of this.built)if(n.matches(b))return[qb(n.term)];if(n=this.tokens.getToken(b))return[qb(n)];for(var p of this.externalTokens)if(n=p.getToken(b))return[qb(n)];for(f of this.externalSpecializers)if(p=
f.getToken(b))return[qb(p)];f=this.astRules.find(w=>w.rule.id.name==b.id.name);if(!f)return this.raise(`Reference to undefined rule '${b.id.name}'`,b.start);f.rule.params.length!=b.args.length&&this.raise(`Wrong number or arguments for '${b.id.name}'`,b.start);this.used(f.rule.id.name);return[qb(this.buildRule(f.rule,b.args,f.skip))]}normalizeRepeat(b){var f=this.built.find(n=>n.matchesRepeat(b));if(f)return qb(f.term);f=this.terms.makeRepeat(this.terms.uniqueName(b.expr.prec<b.prec?`(${b.expr})+`:
`${b.expr}+`));this.built.push(new Jc("+",[b.expr],f));this.defineRule(f,this.normalizeExpr(b.expr).concat(qb(f,f)));return qb(f)}normalizeSequence(b){function f(w,B,P){let {here:V,atEnd:fa}=p.conflictsFor(b.markers[B]);if(B==n.length)return[w.withConflicts(w.terms.length,V.join(P))];let pa=[];for(let ma of n[B])for(let ua of f(w.concat(ma).withConflicts(w.terms.length,V),B+1,P.join(fa)))pa.push(ua);return pa}let n=b.exprs.map(w=>this.normalizeExpr(w)),p=this;return f(hc.none,0,Ob.none)}normalizeExpr(b){if(b instanceof
bb&&"?"==b.kind)return[hc.none,...this.normalizeExpr(b.expr)];if(b instanceof bb){let f=this.normalizeRepeat(b);return"+"==b.kind?[f]:[hc.none,f]}return b instanceof sa?b.exprs.reduce((f,n)=>f.concat(this.normalizeExpr(n)),[]):b instanceof oa?this.normalizeSequence(b):b instanceof Za?[qb(this.tokens.getLiteral(b))]:b instanceof Y?this.resolve(b):b instanceof ta?[qb(this.resolveSpecialization(b))]:b instanceof la?[qb(this.buildRule(b.rule,sb,this.currentSkip[this.currentSkip.length-1],!0))]:this.raise(`This type of expression ('${b}') may not occur in non-token rules`,
b.start)}buildRule(b,f,n,p=!1){let w=this.substituteArgs(b.expr,f,b.params),{name:B,props:P,dynamicPrec:V}=this.nodeInfo(b.props||sb,"p",b.id.name,f,b.params,b.expr);b.exported&&b.params.length&&this.warn("Can't export parameterized rules",b.start);let fa=this.newName(b.id.name+(f.length?"\x3c"+f.join(",")+"\x3e":""),B||!0,P);V&&this.registerDynamicPrec(fa,V);(fa.nodeType||b.exported)&&0==b.params.length&&(B||(fa.preserve=!0),this.namedTerms[b.id.name]=fa);p||this.built.push(new Jc(b.id.name,f,fa));
this.currentSkip.push(n);b=this.defineRule(fa,this.normalizeExpr(w));this.currentSkip.pop();return b}nodeInfo(b,f,n=null,p=sb,w=sb,B,P){let V=Ab;var fa;if(fa=n)fa=n[0],fa="_"==fa||fa.toUpperCase()!=fa,fa=!fa;n=fa&&!/ /.test(n)?n:null;var pa=null;fa=0;for(let ma of b)"name"==ma.name?(n=this.finishProp(ma,p,w),/ /.test(n)&&this.raise(`Node names cannot have spaces ('${n}')`,ma.start)):"dialect"==ma.name?(0>f.indexOf("d")&&this.raise("Can't specify a dialect on non-token rules",b[0].start),1==ma.value.length||
ma.value[0].value||this.raise("The 'dialect' rule prop must hold a plain string value"),pa=this.dialects.indexOf(ma.value[0].value),0>pa&&this.raise(`Unknown dialect '${ma.value[0].value}'`,ma.value[0].start)):"dynamicPrecedence"==ma.name?(0>f.indexOf("p")&&this.raise("Dynamic precedence can only be specified on nonterminals"),1==ma.value.length&&/^-?(?:10|\d)$/.test(ma.value[0].value)||this.raise("The 'dynamicPrecedence' rule prop must hold an integer between -10 and 10"),fa=+ma.value[0].value):
Vc.includes(ma.name)?this.raise(`Prop name '${ma.name}' is reserved`,ma.start):this.knownProps[ma.name]?(V==Ab&&(V=Object.create(null)),V[ma.name]=this.finishProp(ma,p,w)):this.raise(`Unknown prop name '${ma.name}'`,ma.start);B&&this.ast.autoDelim&&(n||V!=Ab)&&(f=this.findDelimiters(B))&&(Bb(f[0],"closedBy",f[1].nodeName),Bb(f[1],"openedBy",f[0].nodeName));if(P&&P!=Ab){V==Ab&&(V=Object.create(null));for(let ma in P)ma in V||(V[ma]=P[ma])}V==Ab||n||V.top||this.raise("Node has properties but no name",
b.length?b[0].start:B.start);return{name:n,props:V,dialect:pa,dynamicPrec:fa}}finishProp(b,f,n){return b.value.map(p=>{if(p.value)return p.value;var w=n.findIndex(B=>B.name==p.name);0>w&&this.raise(`Property refers to '${p.name}', but no parameter by that name is in scope`,p.start);w=f[w];return w instanceof Y&&!w.args.length&&!w.namespace?w.id.name:w instanceof Za?w.value:this.raise(`Expression '${w}' can not be used as part of a property value`,p.start)}).join("")}resolveSpecialization(b){let f=
b.type,{name:n,props:p,dialect:w}=this.nodeInfo(b.props,"d");var B=this.normalizeExpr(b.token);1==B.length&&1==B[0].terms.length&&B[0].terms[0].terminal||this.raise(`The first argument to '${f}' must resolve to a token`,b.token.start);if(b.content instanceof Za)var P=[b.content.value];else if(b.content instanceof sa&&b.content.exprs.every(pa=>pa instanceof Za))P=b.content.exprs.map(pa=>pa.value);else return this.raise(`The second argument to '${b.type}' must be a literal or choice of literals`,b.content.start);
B=B[0].terms[0];let V=null,fa=this.specialized[B.name]||(this.specialized[B.name]=[]);for(let pa of P)P=fa.find(ma=>ma.value==pa),null==P?(V||(V=this.makeTerminal(B.name+"/"+JSON.stringify(pa),n,p),null!=w&&(this.tokens.byDialect[w]||(this.tokens.byDialect[w]=[])).push(V)),fa.push({value:pa,term:V,type:f,dialect:w,name:n}),this.tokenOrigins[V.name]={spec:B}):(P.type!=f&&this.raise(`Conflicting specialization types for ${JSON.stringify(pa)} of ${B.name} (${f} vs ${P.type})`,b.start),P.dialect!=w&&
this.raise(`Conflicting dialects for specialization ${JSON.stringify(pa)} of ${B.name}`,b.start),P.name!=n&&this.raise(`Conflicting names for specialization ${JSON.stringify(pa)} of ${B.name}`,b.start),V&&P.term!=V&&this.raise(`Conflicting specialization tokens for ${JSON.stringify(pa)} of ${B.name}`,b.start),V=P.term);return V}findDelimiters(b){if(!(b instanceof oa)||2>b.exprs.length)return null;let f=w=>{if(w instanceof Za)return{term:this.tokens.getLiteral(w),str:w.value};if(w instanceof Y&&0==
w.args.length){var B=this.ast.rules.find(P=>P.id.name==w.id.name);if(B)return f(B.expr);if((B=this.tokens.rules.find(P=>P.id.name==w.id.name))&&B.expr instanceof Za)return{term:this.tokens.getToken(w),str:B.expr.value}}return null},n=f(b.exprs[b.exprs.length-1]);if(!n||!n.term.nodeName)return null;let p=["()","[]","{}","\x3c\x3e"].find(w=>-1<n.str.indexOf(w[1])&&0>n.str.indexOf(w[0]));if(!p)return null;b=f(b.exprs[0]);return!b||!b.term.nodeName||0>b.str.indexOf(p[0])||-1<b.str.indexOf(p[1])?null:
[b.term,n.term]}registerDynamicPrec(b,f){this.dynamicRulePrecedences.push({rule:b,prec:f});b.preserve=!0}}class cc{constructor(b,f,n,p,w,B,P){this.tokenizers=b;this.data=f;this.stateArray=n;this.skipData=p;this.skipInfo=w;this.states=B;this.builder=P;this.sharedActions=[]}findSharedActions(b){if(5>b.actions.length)return null;var f=null;for(var n of this.sharedActions)(!f||n.actions.length>f.actions.length)&&n.actions.every(w=>b.actions.some(B=>B.eq(w)))&&(f=n);if(f)return f;f=null;n=[];for(let w=
b.id+1;w<this.states.length;w++){let B=this.states[w],P=0;if(!(B.defaultReduce||5>B.actions.length)){for(var p of b.actions)for(let V of B.actions)p.eq(V)&&(n[P++]=p);5<=P&&(!f||f.length<P)&&(f=n,n=[])}}if(!f)return null;p={actions:f,addr:this.storeActions(f,-1,null)};this.sharedActions.push(p);return p}storeActions(b,f,n){let p=[];for(let w of b)n&&n.actions.some(B=>B.eq(w))||(w instanceof ec?p.push(w.term.id,w.target.id,0):(b=Cb(w.rule,this.skipInfo),b!=f&&p.push(w.term.id,b&65535,b>>16)));p.push(65535);
-1<f?p.push(2,f&65535,f>>16):n?p.push(1,n.addr&65535,n.addr>>16):p.push(0);return this.data.storeArray(p)}finish(b,f,n){var p=this.builder,w=p.skipRules.indexOf(b.skip);let B=this.skipData[w];var P=this.skipInfo[w].startTokens;w=b.defaultReduce?Cb(b.defaultReduce,this.skipInfo):0;f=(f?1:0)|(-1<b.nested?4|b.nested<<10:0);let V=-1,fa=null;if(0==w){for(const Na of b.actions)Na instanceof xc&&Na.term.eof&&this.skipInfo.some(Wa=>Wa.rule==Na.rule.name)&&(V=Cb(Na.rule,this.skipInfo));0>V&&(fa=this.findSharedActions(b))}b.set.some(Na=>
Na.rule.name.top&&Na.pos==Na.rule.parts.length)&&(f|=2);var pa=[];for(var ma=0;ma<b.actions.length+P.length;ma++)for(var ua=ma<b.actions.length?b.actions[ma].term:P[ma-b.actions.length];;)if((ua=p.tokenOrigins[ua.name])&&ua.spec)ua=ua.spec;else{ua&&ua.external instanceof Rc&&Z(pa,ua.external.ast);break}pa.sort((Na,Wa)=>Na.start-Wa.start);p=0;for(P=0;P<this.tokenizers.length;P++)if(ma=this.tokenizers[P],ma instanceof Rb?pa.includes(ma):ma.id==b.tokenGroup)p|=1<<P;pa=6*b.id;this.stateArray[pa+0]=f;
this.stateArray[pa+1]=this.storeActions(w?sb:b.actions,V,fa);this.stateArray[pa+2]=B;this.stateArray[pa+3]=p;this.stateArray[pa+4]=w;this.stateArray[pa+5]=n}}const Vc=["error","repeated"];class bd{constructor(){this.data=[]}storeArray(b){a:{var f=this.data;b:for(var n=0;;){n=f.indexOf(b[0],n);if(-1==n||n+b.length>f.length)break;for(let p=1;p<b.length;p++)if(b[p]!=f[n+p]){n+=1;continue b}f=n;break a}f=-1}if(-1<f)return f;f=this.data.length;for(let p of b)this.data.push(p);return f}finish(){return Uint16Array.from(this.data)}}
class dd{constructor(b,f){this.tokens=b;this.id=f}}class ed{constructor(b,f,n,p,w){this.placeholder=b;this.name=f;this.extName=n;this.source=p;this.end=w}}class cd{resolve(b,f){2<b.args.length&&f.raise(`Too many arguments to 'nest.${b.id.name}'`,b.start);let [n,p]=b.args,w=f.ast.grammars.find(fa=>fa.id.name==b.id.name);if(!w)return f.raise(`No external grammar '${b.id.name}' defined`,b.id.start);let B=f.newName(b.id.name+"-placeholder",!0);f.defineRule(B,p?f.normalizeExpr(p):[]);if(!n&&!(n=K(f.ast,
b)))return f.raise("No end token specified, and no token found directly after the nest expression",b.start);let P=new Tb,V=new Tb([f.terms.eof]);try{f.tokens.build(n,P,V,sb)}catch(fa){if(!(fa instanceof SyntaxError))throw fa;f.raise(`End token '${n}' for nested grammar is not a valid token expression`,n.start)}f.nestedGrammars.push(new ed(B,w.id.name,w.externalID.name,w.source,P));f.nestedGrammars.length>=2**20&&f.raise("Too many nested grammars used");return[qb(B)]}}class tc{constructor(b,f,n){this.name=
b;this.expr=f;this.scope=n}}class Eb{constructor(b,f,n,p){this.name=b;this.start=f;this.to=n;this.args=p}}class Wc{constructor(b,f){this.b=b;this.ast=f;this.startState=new Tb;this.built=[];this.building=[];this.byDialect=Object.create(null);this.precedenceRelations=[];this.rules=f?f.rules:sb;for(let n of this.rules)this.b.unique(n.id)}getToken(b){for(var f of this.built)if(f.matches(b))return f.term;let n=b.id.name;f=this.rules.find(V=>V.id.name==n);if(!f)return null;let {name:p,props:w,dialect:B}=
this.b.nodeInfo(f.props,"d",n,b.args,f.params.length!=b.args.length?sb:f.params),P=this.b.makeTerminal(b.toString(),p,w);null!=B&&(this.byDialect[B]||(this.byDialect[B]=[])).push(P);(P.nodeType||f.exported)&&0==f.params.length&&(P.nodeType||(P.preserve=!0),this.b.namedTerms[n]=P);this.buildRule(f,b,this.startState,new Tb([P]));this.built.push(new Jc(n,b.args,P));return P}getLiteral(b){let f=JSON.stringify(b.value);for(var n of this.built)if(n.id==f)return n.term;var p=null;let w=Ab;n=null;let B=this.ast?
this.ast.literals.find(P=>P.literal==b.value):null;B&&({name:p,props:w,dialect:n}=this.b.nodeInfo(B.props,"d",b.value));p=this.b.makeTerminal(f,p,w);null!=n&&(this.byDialect[n]||(this.byDialect[n]=[])).push(p);this.build(b,this.startState,new Tb([p]),sb);this.built.push(new Jc(f,sb,p));return p}buildRule(b,f,n,p,w=sb){let B=f.id.name;b.params.length!=f.args.length&&this.b.raise(`Incorrect number of arguments for token '${B}'`,f.start);var P=this.building.find(V=>V.name==B&&Ca(f.args,V.args));if(P){if(P.to==
p){n.nullEdge(P.start);return}for(P=this.building.length-1;this.building[P].name!=B;)P--;this.b.raise(`Invalid (non-tail) recursion in token rules: ${this.building.slice(P).map(V=>V.name).join(" -\x3e ")}`,f.start)}this.b.used(b.id.name);P=new Tb;n.nullEdge(P);this.building.push(new Eb(B,P,p,f.args));this.build(this.b.substituteArgs(b.expr,f.args,b.params),P,p,f.args.map((V,fa)=>new tc(b.params[fa].name,V,w)));this.building.pop()}build(b,f,n,p){if(b instanceof Y){if(b.namespace){if("std"==b.namespace.name)return this.buildStd(b,
f,n);this.b.raise(`Unknown namespace '${b.namespace.name}'`,b.start)}let P=b.id.name;var w=p.find(V=>V.name==P);if(w)return this.build(w.expr,f,n,w.scope);w=this.rules.find(V=>V.id.name==P);if(!w)return this.b.raise(`Reference to rule '${b.id.name}', which isn't found in this token group`,b.start);this.buildRule(w,b,f,n,p)}else if(b instanceof sa)for(w of b.exprs)this.build(w,f,n,p);else if(ea(b))f.nullEdge(n);else if(b instanceof oa)for((w=b.markers.find(P=>0<P.length))&&this.b.raise("Conflict marker in token expression",
w[0].start),w=0;w<b.exprs.length;w++){var B=w==b.exprs.length-1?n:new Tb;this.build(b.exprs[w],f,B,p);f=B}else if(b instanceof bb)"*"==b.kind?(w=new Tb,f.nullEdge(w),this.build(b.expr,w,w,p),w.nullEdge(n)):"+"==b.kind?(w=new Tb,this.build(b.expr,f,w,p),this.build(b.expr,w,w,p),w.nullEdge(n)):(f.nullEdge(n),this.build(b.expr,f,n,p));else if(b instanceof hb)for(let [P,V]of b.inverted?S(b.ranges):b.ranges)W(f,n,P,V);else if(b instanceof Za)for(p=0;p<b.value.length;p++)w=b.value.charCodeAt(p),B=p==b.value.length-
1?n:new Tb,f.edge(w,w+1,B),f=B;else if(b instanceof Ib)f.edge(0,65535,n);else return this.b.raise("Unrecognized expression type in token",b.start)}buildStd(b,f,n){b.args.length&&this.b.raise(`'std.${b.id.name}' does not take arguments`,b.args[0].start);Qc.hasOwnProperty(b.id.name)||this.b.raise(`There is no builtin rule 'std.${b.id.name}'`,b.start);for(let [p,w]of Qc[b.id.name])f.edge(p,w,n)}takePrecedences(){let b=this.precedenceRelations=[];if(this.ast)for(let f of this.ast.precedences){let n=[];
for(let p of f.items){let w=[];if(p instanceof Y)for(let B of this.built)(p.args.length?B.matches(p):B.id==p.id.name)&&w.push(B.term);else{let B=JSON.stringify(p.value),P=this.built.find(V=>V.id==B);P&&w.push(P.term)}w.length||this.b.warn(`Precedence specified for unknown token ${p}`,p.start);for(let B of w)Ba(b,B,n);n=n.concat(w)}}}precededBy(b,f){let n=this.precedenceRelations.find(p=>p.term==b);return n&&n.after.includes(f)}buildTokenGroups(b,f){let n=this.startState.compile();n.accepting.length&&
this.b.raise(`Grammar contains zero-length tokens (in '${n.accepting[0].name}')`,this.rules.find(ua=>ua.id.name==n.accepting[0].name).start);/\btokens\b/.test(Ic)&&console.log(n.toString());let p=n.findConflicts(C(b,this.b,f)).filter(({a:ua,b:Na})=>!this.precededBy(ua,Na)&&!this.precededBy(Na,ua));var w=p.filter(ua=>ua.soft),B=p.filter(ua=>!ua.soft);let P=[],V=[];for(let ua of b){if(ua.defaultReduce)continue;b=[];let Na=[];var fa=f[this.b.skipRules.indexOf(ua.skip)].startTokens;for(let Wa of fa)ua.actions.some(Ua=>
Ua.term==Wa)&&this.b.raise(`Use of token ${Wa.name} conflicts with skip rule`);var pa=[];for(let Wa=0;Wa<ua.actions.length+(fa?fa.length:0);Wa++){let Ua=Wa<ua.actions.length?ua.actions[Wa].term:fa[Wa-ua.actions.length],ib=this.b.tokenOrigins[Ua.name];if(ib&&ib.spec)Ua=ib.spec;else if(ib&&ib.external)continue;Z(pa,Ua)}if(0!=pa.length){for(let Wa of pa)for(let Ua of B)if(fa=Ua.a==Wa?Ua.b:Ua.b==Wa?Ua.a:null)pa.includes(fa)&&!P.some(ib=>ib.conflict==Ua)&&P.push({error:`Overlapping tokens ${Wa.name} and ${fa.name} used in same context `+
`(example: ${JSON.stringify(Ua.exampleA)}${Ua.exampleB?` vs ${JSON.stringify(Ua.exampleB)}`:""})\n`+`After: ${ua.set[0].trail()}`,conflict:Ua}),Z(b,Wa),Z(Na,fa);pa=null;for(let Wa of V)if(!Na.some(Ua=>Wa.tokens.includes(Ua))){for(let Ua of b)Z(Wa.tokens,Ua);pa=Wa;break}pa||(pa=new dd(b,V.length),V.push(pa));ua.tokenGroup=pa.id}}P.length&&this.b.raise(P.map(ua=>ua.error).join("\n\n"));16<V.length&&this.b.raise(`Too many different token groups (${V.length}) to represent them as a 16-bit bitfield`);
let ma=[];f=this.precedenceRelations.slice();for(let {a:ua,b:Na,soft:Wa}of w)Wa&&f.some(Ua=>Ua.term==ua)&&f.some(Ua=>Ua.term==Na)&&(0>Wa&&([ua,Na]=[Na,ua]),Ba(f,Na,[ua]),Ba(f,ua,[]));a:for(;f.length;){for(w=0;w<f.length;w++)if(B=f[w],B.after.every(ua=>ma.includes(ua.id))){ma.push(B.term.id);if(1==f.length)break a;f[w]=f.pop();continue a}this.b.raise(`Cyclic token precedence relation between ${f.map(ua=>ua.term).join(", ")}`)}ma=ma.filter(ua=>p.some(Na=>!Na.soft&&(Na.a.id==ua||Na.b.id==ua)));return{tokenGroups:V,
tokenPrec:ma,tokenData:n.toArray(L(V),ma)}}}const Qc={asciiLetter:[[65,91],[97,123]],asciiLowercase:[[97,123]],asciiUppercase:[[65,91]],digit:[[48,58]],whitespace:[[9,14],[32,33],[133,134],[160,161],[5760,5761],[8192,8203],[8232,8234],[8239,8240],[8287,8288],[12288,12289]]};class Rc{constructor(b,f){this.b=b;this.ast=f;this.tokens=ia(b,f.tokens);for(let n in this.tokens)this.b.tokenOrigins[this.tokens[n].name]={external:this}}getToken(b){return Aa(this.b,this.tokens,b)}}class Kc{constructor(b,f){this.b=
b;this.ast=f;this.term=null;this.tokens=ia(b,f.tokens)}finish(){let b=this.b.normalizeExpr(this.ast.token);1==b.length&&1==b[0].terms.length&&b[0].terms[0].terminal||this.b.raise(`The token expression to '@external ${this.ast.type}' must resolve to a token`,this.ast.token.start);this.term=b[0].terms[0];for(let f in this.tokens)this.b.tokenOrigins[this.tokens[f].name]={spec:this.term,external:this}}getToken(b){return Aa(this.b,this.tokens,b)}}const Bc="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this const class extends export import super enum implements interface let package private protected public static yield".split(" ");
D.GenError=mc;D.buildParser=function(b,f={}){return(new Pc(b,f)).getParser()};D.buildParserFile=function(b,f={}){return(new Pc(b,f)).getParserFile()}};
shadow$provide[16]=function(na,Pa,lb,D){Object.defineProperty(D,"__esModule",{value:!0});na=Pa(14);var Ja=Pa(1);Pa=Ja.NodeProp.flag();lb=Ja.NodeProp.flag();const Ka=Ja.NodeProp.flag(),Ca=Ja.NodeProp.flag(),Ra=Ja.NodeProp.flag();Ja=Object.freeze({__proto__:null,prefixColl:Pa,coll:lb,prefixEdge:Ka,sameEdge:Ca,prefixContainer:Ra});const wa={__proto__:null,true:134,false:134,nil:136,def:145,defn:145,"defn-":145,defmacro:145,definline:145,defonce:145,deftest:145,defcard:145};na=na.Parser.deserialize({states:",xQZPPOOP!mOPOOO!qPPO'#DkOOPO(3A|(3A|O$aPPO'#CeO%vPPO'#ChO']OPO'#C`OOPO'#Ci'#CiOOPO'#Ck'#CkOZPPO'#ClOZPPO'#CnOZPPO'#CpOZPPO'#CrOZPPO'#CtOZOPO'#C}OZOPO'#DPO'dOQO'#DVO'kPPO'#CzO)TOSO'#D[O'`OPO'#D]O)eOPO'#D`O)iOPO'#DbO)pOWO'#DeOZPPO'#DhOOPO'#Do'#DoQOPPOOP)tPPO'#C^POOO)C?c)C?cOOPO,5:U,5:UOOPO,59P,59PO+WPPO,59POOPO,59S,59SO+[PPO,59SOOPO,58z,58zOOPO,59W,59WOOPO,59Y,59YOOPO,59[,59[OOPO,59^,59^OOPO,59`,59`OOPO,59i,59iOOPO,59k,59kOOPO,59q,59qO+`OPO,59qOOPO'#C{'#C{O+dPPO'#C|OOPO'#Du'#DuO,yPPO'#DtOOPO'#DX'#DXOOPO'#Dy'#DyOOPO'#Dx'#DxO-TPPO'#DxOOPO'#Ds'#DsO.jPPO,59fOOPO,59v,59vOOPO,59x,59xOOPO,59y,59yOOPO,5:R,5:RO.nPPO,58{OOPO,59w,59wOOPO,59z,59zOOPO,59|,59|OOPO,5:P,5:POOPO,5:S,5:SP)tPPO'#ClP)tPPO'#CnP)tPPO'#CpP)tPPO'#CrP)tPPO'#CtP)tOPO'#C}P)tOPO'#DPP0aOSO'#D[P0qOPO'#DbP)tPPO'#DhPOOO,58x,58xOOPO1G.k1G.kOOPO1G.n1G.nOOPO1G/]1G/]OOPO,59h,59hOOPO,59t,59tOOPO'#DR'#DRO,yPPO'#DSOOPO'#Dw'#DwO0xPPO,5:`OOPO,5:d,5:dOOPO1G/Q1G/QP2_OPO,58{OOPO,59n,59nO3tPPO'#DTOZPPO1G/zOOPO1G/z1G/zOOPO7+%f7+%f",
stateData:"5^~!bOSPOSRPQ~UbOWSOZTO^hOaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!eVO!fWO~RjO~UbOWSOZTO^hOaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!eVO!fWO!`!_XV!_XY!_Xl!_X~UbOVmOWSOZTO^hOaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!eVO!fWO~UbOWSOYoOZTO^hOaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!eVO!fWO~WSOZTO~xyOzzO~UbOWSOZTO^!POaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!eVO!fWO!j{Ol!lP~ZTOmaOx`O!d!ZO!n!WO~^!]O~aXOmaO~!o!_O~U!hOWSOZTO^hOa!aOc!bOe!cOg!dOi!eOjhOkhOmaOr!fOt!gOx`O}hO!TdO!V!iO!YfO!eVO!fWO~V!lO~Y!mO~x!nO~UbOWSOZTO^!POaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!eVO!fWO!j{O~^!qOr^Ot_O~UbOWSOZTO^hOaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!eVO!fWOl!lX~l!vO~U!WaWTaZTa^!Waa!Wac!Wae!Wag!Wai!Waj!Wak!Wam!War!Wat!Wax!Wa}!Wa!T!Wa!V!Wa!Y!Wa!`!Wa!e!Wa!f!WaV!WaY!Wal!Wa!j!Wa~ZTOmaOx`O!d!wO!n!WO~a!aOmaO~UbOWSOZTO^hOaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!eVO!fWOl!ha~WTaZTa!`!WaU!Wa^!Waa!Wac!Wae!Wag!Wai!Waj!Wak!Wam!War!Wat!Wax!Wa}!Wa!T!Wa!V!Wa!Y!Wa!e!Wa!f!Wa~UwXWwXZwX^wXawXcwXewXgwXiwXjwXkwXl!cXmwXrwXtwXxwX}wX!TwX!VwX!YwX!ewX!fwX~j^~",
goto:"+m!nPP!oP!r#`PPP#|PP$m!rP!r%eP!rP!rP!rP!rPPPPP\x26V\x26{\x26{'PP'PP'u'u'yP'|P(p(pP!r!r(t!r!rP!rP!r!rP!r!rP)b)nPPP*TPPP+T+W+ZP+a+W+gRkP!VhOQSTXYZ[]^_agj|!S!a!b!c!d!e!f!g!j!t!z!VUOQSTXYZ[]^_agj|!S!a!b!c!d!e!f!g!j!t!z!UhOQSTXYZ[]^_agj|!S!a!b!c!d!e!f!g!j!t!zRqU!UhOQSTXYZ[]^_agj|!S!a!b!c!d!e!f!g!j!t!zQqUS!Vb!hR![c!UhOQSTXYZ[]^_agj|!S!a!b!c!d!e!f!g!j!t!zT!^e!i!UhOQSTXYZ[]^_agj|!S!a!b!c!d!e!f!g!j!t!zS!Yb!hT!^e!iT}a|ngOQSTXYZ[]^_g!S!t!zS|a|b!jj!a!b!c!d!e!f!g!jT!r!O!rT!s!O!rR!z!t!ShOQSTXYZ[]^_agj|!S!a!b!c!d!e!f!g!j!zS!Xb!hR!y!tT!Qa|!VcOQSTXYZ[]^_agj|!S!a!b!c!d!e!f!g!j!t!z^QOSTa!S!t!zRlQQiOQnSQpTQ!RaQ!u!SQ!{!tR!|!z`ROQSTa!S!t!zSrX!aSsY!bStZ!cSu[!dSv]!eSw^!fSx_!gU!`g|!jR!kjR!UaR!TaQ!OaR!o|Q!t!OR!x!rQ!SaR!p|",
nodeNames:"⚠ LineComment Discard #_ Constructor ConstructorPrefix # ] [ Vector } { Map Boolean Symbol Nil Deref @ Quote ' SyntaxQuote ` Unquote ~ UnquoteSplice ~@ Number Keyword ) ( List DefLike Meta Metadata ^ ReaderMetadata #^ VarName Meta DocString \" String StringContent Operator Meta Character Set NamespacedMap KeywordPrefix RegExp Var #' ReaderConditional #? DataLiteral SymbolicValue ## AnonymousFunction Meta Program",maxTerm:77,nodeProps:[[na.NodeProp.skipped,1,!0,2,!0,3,!0],[Ka,3,"",5,"",
6,"",17,"",19,"",21,"",23,"",25,"",34,"",36,"",48,"",51,"",53,"",56,""],[Pa,4,"",16,"",18,"",20,"",22,"",24,"",33,"",35,"",46,"",47,"",49,"",50,"",52,"",57,""],[na.NodeProp.openedBy,7,"[",10,"{",28,"(",40,'"'],[na.NodeProp.closedBy,8,"]",11,"}",29,")",40,'"'],[lb,9,"",12,"",30,""],[Ra,32,"",38,"",44,"",58,""],[Ca,40,""],[na.NodeProp.top,59,!0]],repeatNodeCount:1,tokenData:"!Gw~R![OX$wX^%n^p$wpq%nqr'grs.^st.ctu'guv'gvw'gwx1cxy1vyz2Zz{'g{|2n|}%n}!O2n!O!P5Q!P!Q!*W!Q!R!*k!R![!1T![!]!6P!]!^!@t!^!_'g!_!`'g!`!a'g!a!b'g!b!c!BZ!c!}'g!}#O!Bn#O#P!CR#P#Q!Dv#Q#R!EZ#R#S'g#S#T!En#T#o'g#o#p!FR#p#q$w#q#r!Ff#r#s!Fy#s#y$w#y#z%n#z$f$w$f$g%n$g##l'g##l#BY$w#BY#BZ%n#BZ$IS$w$IS$I_%n$I_$I|$w$I|$JO%n$JO$JT$w$JT$JU%n$JU$KV$w$KV$KW%n$KW\x26FU$w\x26FU\x26FV%n\x26FV~$wQ$|SzQOr$ws#O$w#O#P%Y#P~$wQ%_TzQOr$wrs$ws#O$w#O#P%Y#P~$wR%ujzQ!bPOX$wX^%n^p$wpq%nqr$ws|$w|}%n}#O$w#O#P%Y#P#y$w#y#z%n#z$f$w$f$g%n$g#BY$w#BY#BZ%n#BZ$IS$w$IS$I_%n$I_$I|$w$I|$JO%n$JO$JT$w$JT$JU%n$JU$KV$w$KV$KW%n$KW\x26FU$w\x26FU\x26FV%n\x26FV~$w_'rpzQ!dS!oW^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q!['g![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wV){pzQOq$wqr,Pst,Ptu,Puv,Pvw,Pwx,Pxz$wz{,P{|,P|}$w}!O,P!O!P,P!P!Q$w!Q![,P![!],P!]!^$w!^!_,P!_!`,P!`!a,P!a!b,P!b!c$w!c!},P!}#O$w#O#P%Y#P#R$w#R#S,P#S#T$w#T#o,P#o$g$w$g##l,P##l~$wV,YpzQ!dS^POq$wqr,Pst,Ptu,Puv,Pvw,Pwx,Pxz$wz{,P{|,P|}$w}!O,P!O!P,P!P!Q$w!Q![,P![!],P!]!^$w!^!_,P!_!`,P!`!a,P!a!b,P!b!c$w!c!},P!}#O$w#O#P%Y#P#R$w#R#S,P#S#T$w#T#o,P#o$g$w$g##l,P##l~$w~.cOx~R.j[UPzQOr$wst/`tw$wwx/sx!a$w!a!b0W!b#O$w#O#P%Y#P#Q$w#Q#R0k#R#S1O#S~$wR/gS!YPzQOr$ws#O$w#O#P%Y#P~$wR/zS!TPzQOr$ws#O$w#O#P%Y#P~$wR0_S!VPzQOr$ws#O$w#O#P%Y#P~$wR0rStPzQOr$ws#O$w#O#P%Y#P~$wR1VSRPzQOr$ws#O$w#O#P%Y#P~$wR1jScPzQOr$ws#O$w#O#P%Y#P~$wV1}SmTzQOr$ws#O$w#O#P%Y#P~$wR2bSlPzQOr$ws#O$w#O#P%Y#P~$w_2yqzQ!dS!oW^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P5Q!P!Q)v!Q!RCh!R![!!b![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_5]pzQ!dS!oW^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q![7a![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_7ntzQ!dS!oWjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q![7a![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h:O!h!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y:O#Y#o'g#o$g$w$g##l'g##l~$w_:ZpzQ!dS!oW^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|\x3c_|}$w}!O\x3c_!O!P'g!P!Q)v!Q![\x3en![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_\x3cjpzQ!dS!oW^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q![\x3en![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_\x3e{rzQ!dS!oWjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q![\x3en![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!o'g!o!pAV!p!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_AdpzQ!dS!oWjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q!['g![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_CuyzQ!dS!oWjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!PFf!P!QKx!Q![!!b![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h:O!h!o'g!o!pAV!p!qAV!q!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y:O#Y#l'g#l#m!%Y#m#o'g#o$g$w$g##l'g##l~$w_FsvzQ!dS!oWjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q![Ff![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h:O!h!o'g!o!pIZ!p!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y:O#Y#o'g#o$g$w$g##l'g##l~$w_IhtzQ!dS!oWjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q!['g![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h:O!h!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y:O#Y#o'g#o$g$w$g##l'g##l~$wVK}pzQOq$wqr,Pst,Ptu,Puv,Pvw,Pwx,Pxz$wz{,P{|,P|}$w}!O,P!O!P,P!P!Q$w!Q![NR![!],P!]!^$w!^!_,P!_!`,P!`!a,P!a!b,P!b!c$w!c!},P!}#O$w#O#P%Y#P#R$w#R#S,P#S#T$w#T#o,P#o$g$w$g##l,P##l~$wVN^pzQ!dSjP^POq$wqr,Pst,Ptu,Puv,Pvw,Pwx,Pxz$wz{,P{|,P|}$w}!O,P!O!P,P!P!Q$w!Q![NR![!],P!]!^$w!^!_,P!_!`,P!`!a,P!a!b,P!b!c$w!c!},P!}#O$w#O#P%Y#P#R$w#R#S,P#S#T$w#T#o,P#o$g$w$g##l,P##l~$w_!!owzQ!dS!oWjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!PFf!P!QKx!Q![!!b![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h:O!h!o'g!o!pAV!p!qAV!q!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y:O#Y#o'g#o$g$w$g##l'g##l~$w_!%erzQ!dS!oW^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q![!'o![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!i!'o!i!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#Z!'o#Z#o'g#o$g$w$g##l'g##l~$w_!'|rzQ!dS!oWjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)v!Q![!'o![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!i!'o!i!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#Z!'o#Z#o'g#o$g$w$g##l'g##l~$wR!*_SzQ^POr$ws#O$w#O#P%Y#P~$wR!*rezQjPOr$ws!O$w!O!P!,T!P!Q!0R!Q![!1T![!g$w!g!h!-Q!h!o$w!o!p!.}!p!q!.}!q#O$w#O#P%Y#P#U$w#U#V!2Z#V#X$w#X#Y!-Q#Y#c$w#c#d!3c#d#l$w#l#m!4e#m~$wR!,[[zQjPOr$ws!Q$w!Q![!,T![!g$w!g!h!-Q!h!o$w!o!p!/b!p#O$w#O#P%Y#P#X$w#X#Y!-Q#Y~$wR!-VYzQOr$ws{$w{|!-u|}$w}!O!-u!O!Q$w!Q![!.^![#O$w#O#P%Y#P~$wR!-zUzQOr$ws!Q$w!Q![!.^![#O$w#O#P%Y#P~$wR!.eWzQjPOr$ws!Q$w!Q![!.^![!o$w!o!p!.}!p#O$w#O#P%Y#P~$wR!/USzQjPOr$ws#O$w#O#P%Y#P~$wR!/iWzQjPOr$ws!g$w!g!h!-Q!h#O$w#O#P%Y#P#X$w#X#Y!-Q#Y~$wR!0WUzQOr$ws!Q$w!Q![!0j![#O$w#O#P%Y#P~$wR!0qUzQjPOr$ws!Q$w!Q![!0j![#O$w#O#P%Y#P~$wR!1[_zQjPOr$ws!O$w!O!P!,T!P!Q!0R!Q![!1T![!g$w!g!h!-Q!h!o$w!o!p!.}!p!q!.}!q#O$w#O#P%Y#P#X$w#X#Y!-Q#Y~$wR!2`VzQOr$ws!Q$w!Q!R!2u!R!S!2u!S#O$w#O#P%Y#P~$wR!2|VzQjPOr$ws!Q$w!Q!R!2u!R!S!2u!S#O$w#O#P%Y#P~$wR!3hUzQOr$ws!Q$w!Q!Y!3z!Y#O$w#O#P%Y#P~$wR!4RUzQjPOr$ws!Q$w!Q!Y!3z!Y#O$w#O#P%Y#P~$wR!4jYzQOr$ws!Q$w!Q![!5Y![!c$w!c!i!5Y!i#O$w#O#P%Y#P#T$w#T#Z!5Y#Z~$wR!5aYzQjPOr$ws!Q$w!Q![!5Y![!c$w!c!i!5Y!i#O$w#O#P%Y#P#T$w#T#Z!5Y#Z~$wV!6UnzQOq$wqr!8Sst$wtu!8Suv!8Svw!8Swz$wz{!8S{|!8S|}$w}!O!8S!O!P!8S!P![$w![!]!\x3ew!]!^$w!^!_!8S!_!`!8S!`!a!8S!a!b!8S!b!c$w!c!}!8S!}#O$w#O#P%Y#P#R$w#R#S!8S#S#T$w#T#o!8S#o$g$w$g##l!8S##l~$wV!8]pkPzQ!nSOq$wqr!8Sst!8Stu!8Suv!8Svw!8Swx!8Sxz$wz{!8S{|!8S|}$w}!O!8S!O!P!8S!P!Q!:a!Q![!8S![!]!8S!]!^$w!^!_!8S!_!`!8S!`!a!8S!a!b!8S!b!c$w!c!}!8S!}#O$w#O#P%Y#P#R$w#R#S!8S#S#T$w#T#o!8S#o$g$w$g##l!8S##l~$wV!:fpzQOq$wqr!\x3cjst!\x3cjtu!\x3cjuv!\x3cjvw!\x3cjwx!\x3cjxz$wz{!\x3cj{|!\x3cj|}$w}!O!\x3cj!O!P!\x3cj!P!Q$w!Q![!\x3cj![!]!\x3cj!]!^$w!^!_!\x3cj!_!`!\x3cj!`!a!\x3cj!a!b!\x3cj!b!c$w!c!}!\x3cj!}#O$w#O#P%Y#P#R$w#R#S!\x3cj#S#T$w#T#o!\x3cj#o$g$w$g##l!\x3cj##l~$wV!\x3cspkPzQ!nSOq$wqr!\x3cjst!\x3cjtu!\x3cjuv!\x3cjvw!\x3cjwx!\x3cjxz$wz{!\x3cj{|!\x3cj|}$w}!O!\x3cj!O!P!\x3cj!P!Q$w!Q![!\x3cj![!]!\x3cj!]!^$w!^!_!\x3cj!_!`!\x3cj!`!a!\x3cj!a!b!\x3cj!b!c$w!c!}!\x3cj!}#O$w#O#P%Y#P#R$w#R#S!\x3cj#S#T$w#T#o!\x3cj#o$g$w$g##l!\x3cj##l~$wV!\x3e|lzQOq$wqr!8Sst$wtu!8Suv!8Svw!8Swz$wz{!8S{|!8S|}$w}!O!8S!O!P!8S!P!^$w!^!_!8S!_!`!8S!`!a!8S!a!b!8S!b!c$w!c!}!8S!}#O$w#O#P%Y#P#R$w#R#S!8S#S#T$w#T#o!8S#o$g$w$g##l!8S##l~$wR!@{VPPzQOY!@tYZ$wZr!@trs!Abs#O!@t#O#P!Am#P~!@tP!AgQPPOY!AbZ~!AbR!AtVPPzQOY!@tYZ$wZr!@trs!@ts#O!@t#O#P!Am#P~!@tR!BbSaPzQOr$ws#O$w#O#P%Y#P~$wR!BuSWPzQOr$ws#O$w#O#P%Y#P~$wR!CW[zQOr$wrs$ws!Q$w!Q![!C|![!b$w!b!c!C|!c!}!C|!}#O$w#O#P%Y#P#T$w#T#o!C|#o~$wR!DTZ}PzQOr$ws!Q$w!Q![!C|![!b$w!b!c!C|!c!}!C|!}#O$w#O#P%Y#P#T$w#T#o!C|#o~$wR!D}SVPzQOr$ws#O$w#O#P%Y#P~$wR!EbSrPzQOr$ws#O$w#O#P%Y#P~$wR!EuSePzQOr$ws#O$w#O#P%Y#P~$wV!FYSZTzQOr$ws#O$w#O#P%Y#P~$wR!FmSYPzQOr$ws#O$w#O#P%Y#P~$wR!GQUgPzQOr$ws!b$w!b!c!Gd!c#O$w#O#P%Y#P~$wR!GkSiPzQOr$ws#O$w#O#P%Y#P~$w",
tokenizers:[0,1,2,3],topRules:{Program:[0,59]},dynamicPrecedences:{31:1},specialized:[{term:14,get:za=>wa[za]||-1}],tokenPrec:931});D.parser=na;D.props=Ja};
shadow$provide[17]=function(na,Pa,lb,D){function Ja(Da,ha,aa){var da=Da.prop(0>ha?za.NodeProp.openedBy:za.NodeProp.closedBy);return da?da:1==Da.name.length&&(Da=aa.indexOf(Da.name),-1<Da&&Da%2==(0>ha?1:0))?[aa[Da+ha]]:null}function Ka(Da,ha,aa){var da=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},T=da.maxScanDistance||Fa;da=da.brackets||Ma;var H=Da.tree,z=H.resolve(ha,aa),x;if(x=Ja(z.type,aa,da))return Ca(Da,ha,aa,z,x,da);a:if(z=z.type,x=0>aa?Da.sliceDoc(ha-1,ha):Da.sliceDoc(ha,ha+1),
x=da.indexOf(x),0>x||0==x%2!=0<aa)T=null;else{for(var y={from:0>aa?ha-1:ha,to:0<aa?ha+1:ha},M=Da.doc.iterRange(ha,0<aa?Da.doc.length:0),Q=0,G=0;!M.next().done&&G<=T;){var r=M.value;0>aa&&(G+=r.length);for(var t=ha+G*aa,k=0<aa?0:r.length-1,h=0<aa?r.length:-1;k!=h;k+=aa){var l=da.indexOf(r[k]);if(!(0>l||H.resolve(t+k,1).type!=z))if(0==l%2==0<aa)Q++;else if(1==Q){T={start:y,end:{from:t+k,to:t+k+1},matched:l>>1==x>>1};break a}else Q--}0<aa&&(G+=r.length)}T=M.done?{start:y,matched:!1}:null}return T}function Ca(Da,
ha,aa,da,T,H){Da=da.parent;var z={from:da.start,to:da.end},x=0;return Da&&Da.iterate({from:0>aa?da.start:da.end,to:0>aa?Da.start:Da.end,enter:function(y,M,Q){if(!(0>aa?Q>da.start:M<da.end)){if(0==x&&-1<T.indexOf(y.name))return{start:z,end:{from:M,to:Q},matched:!0};if(Ja(y,aa,H))x++;else if(Ja(y,-aa,H)&&(x--,0==x))return{start:z,end:{from:M,to:Q},matched:!1};return!1}}})||{start:z,matched:!1}}Object.defineProperty(D,"__esModule",{value:!0});D.bracketMatching=function(){return[ra.of(0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{}),Ia]};D.matchBrackets=Ka;var Ra=Pa(2),wa=Pa(6),za=Pa(1);na=wa.EditorView.baseTheme({matchingBracket:{color:"#0b0"},nonmatchingBracket:{color:"#a22"}});var Fa=1E4,Ma="()[]{}",ra=Ra.Facet.define({combine:function(Da){return(0,Ra.combineConfig)(Da,{afterCursor:!0,brackets:Ma,maxScanDistance:Fa})}}),Ea=wa.Decoration.mark({"class":(0,wa.themeClass)("matchingBracket")}),ja=wa.Decoration.mark({"class":(0,wa.themeClass)("nonmatchingBracket")}),Ia=[Ra.StateField.define({create:function(){return wa.Decoration.none},
update:function(Da,ha){if(!ha.docChanged&&!ha.selection)return Da;Da=[];var aa=ha.state.facet(ra),da=!0,T=!1,H=void 0;try{for(var z=ha.state.selection.ranges[Symbol.iterator](),x;!(da=(x=z.next()).done);da=!0){var y=x.value;if(y.empty){var M=Ka(ha.state,y.head,-1,aa)||0<y.head&&Ka(ha.state,y.head-1,1,aa)||aa.afterCursor&&(Ka(ha.state,y.head,1,aa)||y.head<ha.state.doc.length&&Ka(ha.state,y.head+1,-1,aa));if(M){var Q=M.matched?Ea:ja;Da.push(Q.range(M.start.from,M.start.to));M.end&&Da.push(Q.range(M.end.from,
M.end.to))}}}}catch(G){T=!0,H=G}finally{try{if(!da&&null!=z["return"])z["return"]()}finally{if(T)throw H;}}return wa.Decoration.set(Da,!0)},provide:[wa.EditorView.decorations]}),na]};
shadow$provide[18]=function(na,Pa,lb,D){function Ja(I,Y){return Q.EditorSelection.create(I.ranges.map(Y),I.primaryIndex)}function Ka(I,Y){return I.update({selection:Y,scrollIntoView:!0,annotations:Q.Transaction.userEvent.of("keyboardselection")})}function Ca(I,Y){var ta=I.state;I=I.dispatch;Y=Ja(ta.selection,Y);if(Y.eq(ta.selection))return!1;I(Ka(ta,Y));return!0}function Ra(I,Y){return Q.EditorSelection.cursor(Y?I.to:I.from)}function wa(I,Y){return Ca(I,function(ta){return ta.empty?I.moveByChar(ta,
Y):Ra(ta,Y)})}function za(I,Y){return Ca(I,function(ta){return ta.empty?I.moveByGroup(ta,Y):Ra(ta,Y)})}function Fa(I,Y,ta){var la=I.tree.resolve(Y.head),sa=ta?k.NodeProp.closedBy:k.NodeProp.openedBy;for(Y=Y.head;;){var oa=ta?la.childAfter(Y):la.childBefore(Y);if(!oa)break;var Oa=I;var bb=oa;if(bb.type.prop(sa))Oa=!0;else{var Za=bb.end-bb.start;Oa=Za&&(2<Za||/[^\s,.;:]/.test(Oa.sliceDoc(bb.start,bb.end)))||bb.firstChild}Oa?la=oa:Y=ta?oa.end:oa.start}var hb;I=la.type.prop(sa)&&(hb=ta?(0,t.matchBrackets)(I,
la.start,1):(0,t.matchBrackets)(I,la.end,-1))&&hb.matched?ta?hb.end.to:hb.end.from:ta?la.end:la.start;return Q.EditorSelection.cursor(I,ta?-1:1)}function Ma(I,Y){return Ca(I,function(ta){return ta.empty?I.moveVertically(ta,Y):Ra(ta,Y)})}function ra(I,Y){return Ca(I,function(ta){return ta.empty?I.moveVertically(ta,Y,I.dom.clientHeight):Ra(ta,Y)})}function Ea(I,Y,ta){var la=I.visualLineAt(Y.head),sa=I.moveToLineBoundary(Y,ta);sa.head==Y.head&&sa.head!=(ta?la.to:la.from)&&(sa=I.moveToLineBoundary(Y,
ta,!1));!ta&&sa.head==la.from&&la.length&&(I=/^\s*/.exec(I.state.sliceDoc(la.from,Math.min(la.from+100,la.to)))[0].length)&&Y.head>la.from+I&&(sa=Q.EditorSelection.cursor(la.from+I));return sa}function ja(I,Y,ta){var la=!1,sa=Ja(I.selection,function(oa){var Oa=(0,t.matchBrackets)(I,oa.head,-1)||(0,t.matchBrackets)(I,oa.head,1)||0<oa.head&&(0,t.matchBrackets)(I,oa.head-1,1)||oa.head<I.doc.length&&(0,t.matchBrackets)(I,oa.head+1,-1);if(!Oa||!Oa.end)return oa;la=!0;Oa=Oa.start.from==oa.head?Oa.end.to:
Oa.end.from;return ta?Q.EditorSelection.range(oa.anchor,Oa):Q.EditorSelection.cursor(Oa)});if(!la)return!1;Y(Ka(I,sa));return!0}function Ia(I,Y){var ta=Ja(I.state.selection,function(la){var sa=Y(la);return Q.EditorSelection.range(la.anchor,sa.head,sa.goalColumn)});if(ta.eq(I.state.selection))return!1;I.dispatch(Ka(I.state,ta));return!0}function Da(I,Y){return Ia(I,function(ta){return I.moveByChar(ta,Y)})}function ha(I,Y){return Ia(I,function(ta){return I.moveByGroup(ta,Y)})}function aa(I,Y){return Ia(I,
function(ta){return I.moveVertically(ta,Y)})}function da(I,Y){return Ia(I,function(ta){return I.moveVertically(ta,Y,I.dom.clientHeight)})}function T(I,Y){var ta=I.state.changeByRange(function(la){var sa=la.from,oa=la.to;if(sa==oa){var Oa=Y(sa);sa=Math.min(sa,Oa);oa=Math.max(oa,Oa)}return sa==oa?{range:la}:{changes:{from:sa,to:oa},range:Q.EditorSelection.cursor(sa)}});if(ta.changes.empty)return!1;I.dispatch(ta,{scrollIntoView:!0,annotations:Q.Transaction.userEvent.of("delete")});return!0}function H(I){var Y=
[],ta=-1,la=!0,sa=!1,oa=void 0;try{for(var Oa=I.selection.ranges[Symbol.iterator](),bb;!(la=(bb=Oa.next()).done);la=!0){var Za=bb.value,hb=I.doc.lineAt(Za.from),Ib=I.doc.lineAt(Za.to);ta==hb.number?Y[Y.length-1].to=Ib.to:Y.push({from:hb.from,to:Ib.to});ta=Ib.number}}catch(oc){sa=!0,oa=oc}finally{try{if(!la&&null!=Oa["return"])Oa["return"]()}finally{if(sa)throw oa;}}return Y}function z(I,Y,ta){var la=[],sa=!0,oa=!1,Oa=void 0;try{for(var bb=H(I)[Symbol.iterator](),Za;!(sa=(Za=bb.next()).done);sa=!0){var hb=
Za.value;if(ta?hb.to!=I.doc.length:0!=hb.from){var Ib=I.doc.lineAt(ta?hb.to+1:hb.from-1);ta?la.push({from:hb.to,to:Ib.to},{from:hb.from,insert:Ib.slice()+I.lineBreak}):la.push({from:Ib.from,to:hb.from},{from:hb.to,insert:I.lineBreak+Ib.slice()})}}}catch(oc){oa=!0,Oa=oc}finally{try{if(!sa&&null!=bb["return"])bb["return"]()}finally{if(oa)throw Oa;}}if(!la.length)return!1;Y(I.update({changes:la,scrollIntoView:!0}));return!0}function x(I,Y,ta){var la=[],sa=!0,oa=!1,Oa=void 0;try{for(var bb=H(I)[Symbol.iterator](),
Za;!(sa=(Za=bb.next()).done);sa=!0){var hb=Za.value;ta?la.push({from:hb.from,insert:I.doc.slice(hb.from,hb.to)+I.lineBreak}):la.push({from:hb.to,insert:I.lineBreak+I.doc.slice(hb.from,hb.to)})}}catch(Ib){oa=!0,Oa=Ib}finally{try{if(!sa&&null!=bb["return"])bb["return"]()}finally{if(oa)throw Oa;}}Y(I.update({changes:la,scrollIntoView:!0}));return!0}function y(I,Y){var ta=!0,la=!1,sa=void 0;try{for(var oa=I.state.facet(Q.EditorState.indentation)[Symbol.iterator](),Oa;!(ta=(Oa=oa.next()).done);ta=!0){var bb=
Oa.value,Za=bb(I,Y);if(-1<Za)return Za}}catch(hb){la=!0,sa=hb}finally{try{if(!ta&&null!=oa["return"])oa["return"]()}finally{if(la)throw sa;}}return-1}function M(I,Y){var ta=-1;return I.changeByRange(function(la){for(var sa=[],oa=I.doc.lineAt(la.from);;){oa.number>ta&&(Y(oa,sa,la),ta=oa.number);if(la.to<=oa.to)break;oa=I.doc.lineAt(oa.to+1)}oa=I.changes(sa);return{changes:sa,range:Q.EditorSelection.range(oa.mapPos(la.anchor,1),oa.mapPos(la.head,1))}})}Object.defineProperty(D,"__esModule",{value:!0});
D.transposeChars=D.standardKeymap=D.splitLine=D.simplifySelection=D.selectSyntaxRight=D.selectSyntaxLeft=D.selectParentSyntax=D.selectPageUp=D.selectPageDown=D.selectMatchingBracket=D.selectLineUp=D.selectLineStart=D.selectLineEnd=D.selectLineDown=D.selectLineBoundaryForward=D.selectLineBoundaryBackward=D.selectLine=D.selectGroupRight=D.selectGroupLeft=D.selectGroupForward=D.selectGroupBackward=D.selectDocStart=D.selectDocEnd=D.selectCharRight=D.selectCharLeft=D.selectCharForward=D.selectCharBackward=
D.selectAll=D.moveLineUp=D.moveLineDown=D.insertNewlineAndIndent=D.insertNewline=D.indentSelection=D.indentMore=D.indentLess=D.emacsStyleKeymap=D.deleteTrailingWhitespace=D.deleteToLineEnd=D.deleteLine=D.deleteGroupForward=D.deleteGroupBackward=D.deleteCodePointForward=D.deleteCodePointBackward=D.deleteCharForward=D.deleteCharBackward=D.defaultKeymap=D.cursorSyntaxRight=D.cursorSyntaxLeft=D.cursorPageUp=D.cursorPageDown=D.cursorMatchingBracket=D.cursorLineUp=D.cursorLineStart=D.cursorLineEnd=D.cursorLineDown=
D.cursorLineBoundaryForward=D.cursorLineBoundaryBackward=D.cursorGroupRight=D.cursorGroupLeft=D.cursorGroupForward=D.cursorGroupBackward=D.cursorDocStart=D.cursorDocEnd=D.cursorCharRight=D.cursorCharLeft=D.cursorCharForward=D.cursorCharBackward=D.copyLineUp=D.copyLineDown=void 0;var Q=Pa(2),G=Pa(0),r=Pa(6),t=Pa(17),k=Pa(1),h=function(I){return wa(I,I.textDirection!=r.Direction.LTR)};D.cursorCharLeft=h;var l=function(I){return wa(I,I.textDirection==r.Direction.LTR)};D.cursorCharRight=l;D.cursorCharForward=
function(I){return wa(I,!0)};D.cursorCharBackward=function(I){return wa(I,!1)};var u=function(I){return za(I,I.textDirection!=r.Direction.LTR)};D.cursorGroupLeft=u;var J=function(I){return za(I,I.textDirection==r.Direction.LTR)};D.cursorGroupRight=J;var F=function(I){return za(I,!0)};D.cursorGroupForward=F;var A=function(I){return za(I,!1)};D.cursorGroupBackward=A;na=function(I){return Ca(I,function(Y){return Fa(I.state,Y,I.textDirection!=r.Direction.LTR)})};D.cursorSyntaxLeft=na;Pa=function(I){return Ca(I,
function(Y){return Fa(I.state,Y,I.textDirection==r.Direction.LTR)})};D.cursorSyntaxRight=Pa;var E=function(I){return Ma(I,!1)};D.cursorLineUp=E;var O=function(I){return Ma(I,!0)};D.cursorLineDown=O;var U=function(I){return ra(I,!1)};D.cursorPageUp=U;var ca=function(I){return ra(I,!0)};D.cursorPageDown=ca;var ka=function(I){return Ca(I,function(Y){return Ea(I,Y,!0)})};D.cursorLineBoundaryForward=ka;var xa=function(I){return Ca(I,function(Y){return Ea(I,Y,!1)})};D.cursorLineBoundaryBackward=xa;var Ga=
function(I){return Ca(I,function(Y){return Q.EditorSelection.cursor(I.visualLineAt(Y.head).from,1)})};D.cursorLineStart=Ga;var Ta=function(I){return Ca(I,function(Y){return Q.EditorSelection.cursor(I.visualLineAt(Y.head).to,-1)})};D.cursorLineEnd=Ta;lb=function(I){return ja(I.state,I.dispatch,!1)};D.cursorMatchingBracket=lb;D.selectMatchingBracket=function(I){return ja(I.state,I.dispatch,!0)};var fb=function(I){return Da(I,I.textDirection!=r.Direction.LTR)};D.selectCharLeft=fb;var db=function(I){return Da(I,
I.textDirection==r.Direction.LTR)};D.selectCharRight=db;D.selectCharForward=function(I){return Da(I,!0)};D.selectCharBackward=function(I){return Da(I,!1)};var ub=function(I){return ha(I,I.textDirection!=r.Direction.LTR)};D.selectGroupLeft=ub;var nb=function(I){return ha(I,I.textDirection==r.Direction.LTR)};D.selectGroupRight=nb;var wb=function(I){return ha(I,!0)};D.selectGroupForward=wb;var Gb=function(I){return ha(I,!1)};D.selectGroupBackward=Gb;var Db=function(I){return Ia(I,function(Y){return Fa(I.state,
Y,I.textDirection!=r.Direction.LTR)})};D.selectSyntaxLeft=Db;var xb=function(I){return Ia(I,function(Y){return Fa(I.state,Y,I.textDirection==r.Direction.LTR)})};D.selectSyntaxRight=xb;var ob=function(I){return aa(I,!1)};D.selectLineUp=ob;var pb=function(I){return aa(I,!0)};D.selectLineDown=pb;var qb=function(I){return da(I,!1)};D.selectPageUp=qb;var Bb=function(I){return da(I,!0)};D.selectPageDown=Bb;var dc=function(I){return Ia(I,function(Y){return Ea(I,Y,!0)})};D.selectLineBoundaryForward=dc;var Cb=
function(I){return Ia(I,function(Y){return Ea(I,Y,!1)})};D.selectLineBoundaryBackward=Cb;var lc=function(I){return Ia(I,function(Y){return Q.EditorSelection.cursor(I.visualLineAt(Y.head).from)})};D.selectLineStart=lc;var rc=function(I){return Ia(I,function(Y){return Q.EditorSelection.cursor(I.visualLineAt(Y.head).to)})};D.selectLineEnd=rc;var Z=function(I){var Y=I.dispatch;Y(Ka(I.state,{anchor:0}));return!0};D.cursorDocStart=Z;var L=function(I){var Y=I.state;I=I.dispatch;I(Ka(Y,{anchor:Y.doc.length}));
return!0};D.cursorDocEnd=L;var K=function(I){var Y=I.state;I=I.dispatch;I(Ka(Y,{anchor:Y.selection.primary.anchor,head:0}));return!0};D.selectDocStart=K;var C=function(I){var Y=I.state;I=I.dispatch;I(Ka(Y,{anchor:Y.selection.primary.anchor,head:Y.doc.length}));return!0};D.selectDocEnd=C;var S=function(I){var Y=I.state;I=I.dispatch;I(Y.update({selection:{anchor:0,head:Y.doc.length},annotations:Q.Transaction.userEvent.of("keyboarselection")}));return!0};D.selectAll=S;var W=function(I){var Y=I.state;
I=I.dispatch;var ta=H(Y).map(function(la){return Q.EditorSelection.range(la.from,Math.min(la.to+1,Y.doc.length))});I(Y.update({selection:new Q.EditorSelection(ta),annotations:Q.Transaction.userEvent.of("keyboardselection")}));return!0};D.selectLine=W;var ea=function(I){var Y=I.state;I=I.dispatch;var ta=Ja(Y.selection,function(la){for(var sa,oa=Y.tree.resolve(la.head,1);!(oa.start<la.from&&oa.end>=la.to||oa.end>la.to&&oa.start<=la.from)&&(null===(sa=oa.parent)||void 0===sa?0:sa.parent);)oa=oa.parent;
return Q.EditorSelection.range(oa.end,oa.start)});I(Ka(Y,ta));return!0};D.selectParentSyntax=ea;var ia=function(I){var Y=I.state;I=I.dispatch;var ta=Y.selection,la=null;1<ta.ranges.length?la=new Q.EditorSelection([ta.primary]):ta.primary.empty||(la=new Q.EditorSelection([Q.EditorSelection.cursor(ta.primary.head)]));if(!la)return!1;I(Ka(Y,la));return!0};D.simplifySelection=ia;var Aa=function(I,Y,ta){return T(I,function(la){var sa=I.state,oa=sa.doc.lineAt(la),Oa;if(!Y&&la>oa.from&&la<oa.from+200&&!/[^ \t]/.test(Oa=
oa.slice(0,la-oa.from))){if("\t"==Oa[Oa.length-1])return la-1;sa=(0,G.countColumn)(Oa,0,sa.tabSize)%sa.indentUnit||sa.indentUnit;for(oa=0;oa<sa&&" "==Oa[Oa.length-1-oa];oa++)la--;return la}ta?(Oa=(Oa=oa.slice(la-oa.from+(Y?0:-2),la-oa.from+(Y?2:0)))?(0,G.codePointSize)((0,G.codePointAt)(Oa,0)):1,Oa=Y?Math.min(sa.doc.length,la+Oa):Math.max(0,la-Oa)):Oa=oa.findClusterBreak(la-oa.from,Y)+oa.from;Oa==la&&oa.number!=(Y?sa.doc.lines:1)&&(Oa+=Y?1:-1);return Oa})},Ba=function(I){return Aa(I,!1,!0)};D.deleteCodePointBackward=
Ba;D.deleteCodePointForward=function(I){return Aa(I,!0,!0)};var Ha=function(I){return Aa(I,!1,!1)};D.deleteCharBackward=Ha;var ya=function(I){return Aa(I,!0,!1)};D.deleteCharForward=ya;var Sa=function(I,Y){return T(I,function(ta){for(var la=I.state,sa=la.doc.lineAt(ta),oa=la.charCategorizer(ta),Oa=null;;){if(ta==(Y?sa.to:sa.from)){if(sa.number==(Y?la.doc.lines:1))break;sa=la.doc.line(sa.number+(Y?1:-1));var bb=Y?sa.from:sa.to;var Za="\n"}else bb=sa.findClusterBreak(ta-sa.from,Y)+sa.from,Za=sa.slice(Math.min(ta,
bb)-sa.from,Math.max(ta,bb)-sa.from);Za=oa(Za);if(null!=Oa&&Za!=Oa)break;Za!=Q.CharCategory.Space&&(Oa=Za);ta=bb}return ta})},Xa=function(I){return Sa(I,!1)};D.deleteGroupBackward=Xa;var Ya=function(I){return Sa(I,!0)};D.deleteGroupForward=Ya;var Va=function(I){return T(I,function(Y){var ta=I.visualLineAt(Y).to;return Y<ta?ta:Math.max(I.state.doc.length,Y+1)})};D.deleteToLineEnd=Va;D.deleteTrailingWhitespace=function(I){var Y=I.state;I=I.dispatch;for(var ta=[],la=0,sa=Y.doc.iterLines();!sa.next().done;){var oa=
sa.value.search(/\s+$/);-1<oa&&ta.push({from:la+oa,to:la+sa.value.length});la+=sa.value.length+1}if(!ta.length)return!1;I(Y.update({changes:ta}));return!0};var cb=function(I){var Y=I.state;I=I.dispatch;var ta=Y.changeByRange(function(la){return{changes:{from:la.from,to:la.to,insert:G.Text.of(["",""])},range:Q.EditorSelection.cursor(la.from)}});I(Y.update(ta,{scrollIntoView:!0,annotations:Q.Transaction.userEvent.of("input")}));return!0};D.splitLine=cb;var rb=function(I){var Y=I.state;I=I.dispatch;
var ta=Y.changeByRange(function(la){if(!la.empty||0==la.from||la.from==Y.doc.length)return{range:la};la=la.from;var sa=Y.doc.lineAt(la),oa=la==sa.from?la-1:sa.findClusterBreak(la-sa.from,!1)+sa.from;sa=la==sa.to?la+1:sa.findClusterBreak(la-sa.from,!0)+sa.from;return{changes:{from:oa,to:sa,insert:Y.doc.slice(la,sa).append(Y.doc.slice(oa,la))},range:Q.EditorSelection.cursor(sa)}});if(ta.changes.empty)return!1;I(Y.update(ta,{scrollIntoView:!0}));return!0};D.transposeChars=rb;var Kb=function(I){return z(I.state,
I.dispatch,!1)};D.moveLineUp=Kb;var sc=function(I){return z(I.state,I.dispatch,!0)};D.moveLineDown=sc;var yb=function(I){return x(I.state,I.dispatch,!1)};D.copyLineUp=yb;var $b=function(I){return x(I.state,I.dispatch,!0)};D.copyLineDown=$b;var Rb=function(I){var Y=I.state,ta=Y.changes(H(Y).map(function(sa){var oa=sa.from;sa=sa.to;0<oa?oa--:sa<Y.doc.length&&sa++;return{from:oa,to:sa}})),la=Ja(Y.selection,function(sa){return I.moveVertically(sa,!0)}).map(ta);I.dispatch({changes:ta,selection:la,scrollIntoView:!0});
return!0};D.deleteLine=Rb;D.insertNewline=function(I){var Y=I.state;I=I.dispatch;I(Y.update(Y.replaceSelection(Y.lineBreak),{scrollIntoView:!0}));return!0};var ac=function(I){var Y=I.state;I=I.dispatch;var ta=Y.changeByRange(function(la){var sa=la.from;la=la.to;var oa;if(oa=sa==la)if(oa=sa,/\(\)|\[\]|\{\}/.test(Y.sliceDoc(oa-1,oa+1)))oa={from:oa,to:oa};else{var Oa=Y.tree.resolve(oa),bb=Oa.childBefore(oa);Oa=Oa.childAfter(oa);var Za;oa=bb&&Oa&&bb.end<=oa&&Oa.start>=oa&&(Za=bb.type.prop(k.NodeProp.closedBy))&&
-1<Za.indexOf(Oa.name)?{from:bb.end,to:Oa.start}:null}Za=oa;oa=new Q.IndentContext(Y,{simulateBreak:sa,simulateDoubleBreak:!!Za});bb=y(oa,sa);0>bb&&(bb=/^\s*/.exec(Y.doc.lineAt(sa).slice(0,50))[0].length);for(Oa=Y.doc.lineAt(sa);la<Oa.to&&/\s/.test(Oa.slice(la-Oa.from,la+1-Oa.from));)la++;Za?(sa=Za.from,la=Za.to):sa>Oa.from&&sa<Oa.from+100&&!/\S/.test(Oa.slice(0,sa))&&(sa=Oa.from);var hb=["",Y.indentString(bb)];Za&&hb.push(Y.indentString(oa.lineIndent(Oa)));return{changes:{from:sa,to:la,insert:G.Text.of(hb)},
range:Q.EditorSelection.cursor(sa+1+bb)}});I(Y.update(ta,{scrollIntoView:!0}));return!0};D.insertNewlineAndIndent=ac;var Qa=function(I){var Y=I.state;I=I.dispatch;var ta=Object.create(null),la=new Q.IndentContext(Y,{overrideIndentation:function(oa){oa=ta[oa];return null==oa?-1:oa}}),sa=M(Y,function(oa,Oa,bb){var Za=y(la,oa.from);if(!(0>Za)){var hb=/^\s*/.exec(oa.slice(0,Math.min(oa.length,200)))[0],Ib=Y.indentString(Za);if(hb!=Ib||bb.from<oa.from+hb.length)ta[oa.from]=Za,Oa.push({from:oa.from,to:oa.from+
hb.length,insert:Ib})}});sa.changes.empty||I(Y.update(sa));return!0};D.indentSelection=Qa;var bc=function(I){var Y=I.state;I=I.dispatch;I(Y.update(M(Y,function(ta,la){la.push({from:ta.from,insert:Y.facet(Q.EditorState.indentUnit)})})));return!0};D.indentMore=bc;var Lb=function(I){var Y=I.state;I=I.dispatch;I(Y.update(M(Y,function(ta,la){var sa=ta.slice(0,Math.min(ta.length,200));if(sa=/^\s*/.exec(sa)[0]){var oa=(0,G.countColumn)(sa,0,Y.tabSize);oa=Y.indentString(Math.max(0,oa-Y.indentUnit));for(var Oa=
0;Oa<sa.length&&Oa<oa.length&&sa.charCodeAt(Oa)==oa.charCodeAt(Oa);)Oa++;la.push({from:ta.from+Oa,to:ta.from+sa.length,insert:oa.slice(Oa)})}})));return!0};D.indentLess=Lb;F=[{key:"Ctrl-b",run:h,shift:fb},{key:"Ctrl-f",run:l,shift:db},{key:"Ctrl-p",run:E,shift:ob},{key:"Ctrl-n",run:O,shift:pb},{key:"Ctrl-a",run:Ga,shift:lc},{key:"Ctrl-e",run:Ta,shift:rc},{key:"Ctrl-d",run:ya},{key:"Ctrl-h",run:Ha},{key:"Ctrl-k",run:Va},{key:"Alt-d",run:Ya},{key:"Ctrl-Alt-h",run:Xa},{key:"Ctrl-o",run:cb},{key:"Ctrl-t",
run:rb},{key:"Alt-f",run:F,shift:wb},{key:"Alt-b",run:A,shift:Gb},{key:"Alt-\x3c",run:Z},{key:"Alt-\x3e",run:L},{key:"Ctrl-v",run:ca},{key:"Alt-v",run:U}];D.emacsStyleKeymap=F;h=[{key:"ArrowLeft",run:h,shift:fb},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:u,shift:ub},{mac:"Cmd-ArrowLeft",run:Ga,shift:lc},{key:"ArrowRight",run:l,shift:db},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:J,shift:nb},{mac:"Cmd-ArrowRight",run:Ta,shift:rc},{key:"ArrowUp",run:E,shift:ob},{mac:"Cmd-ArrowUp",run:Z,shift:K},
{mac:"Ctrl-ArrowUp",run:U,shift:qb},{key:"ArrowDown",run:O,shift:pb},{mac:"Cmd-ArrowDown",run:L,shift:C},{mac:"Ctrl-ArrowDown",run:ca,shift:Bb},{key:"PageUp",run:U,shift:qb},{key:"PageDown",run:ca,shift:Bb},{key:"Home",run:xa,shift:Cb},{key:"Mod-Home",run:Z,shift:K},{key:"End",run:ka,shift:dc},{key:"Mod-End",run:L,shift:C},{key:"Enter",run:ac},{key:"Mod-a",run:S},{key:"Backspace",run:Ba},{key:"Delete",run:ya},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Xa},{key:"Mod-Delete",mac:"Alt-Delete",run:Ya}].concat(F.map(function(I){return{mac:I.key,
run:I.run,shift:I.shift}}));D.standardKeymap=h;na=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:na,shift:Db},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Pa,shift:xb},{key:"Alt-ArrowUp",run:Kb},{key:"Shift-Alt-ArrowUp",run:yb},{key:"Alt-ArrowDown",run:sc},{key:"Shift-Alt-ArrowDown",run:$b},{key:"Escape",run:ia},{key:"Mod-l",run:W},{key:"Mod-i",run:ea},{key:"Mod-[",run:Lb},{key:"Mod-]",run:bc},{key:"Mod-Alt-\\",run:Qa},{key:"Shift-Mod-k",run:Rb},{key:"Shift-Mod-\\",run:lb}].concat(h);D.defaultKeymap=
na};
var h,aa=this||self;
function q(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}var ba="closure_uid_"+(1E9*Math.random()>>>0),ca=0;function ea(a,b){a.sort(b||fa)}function ha(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||fa;ea(c,function(f,g){return e(f.value,g.value)||f.index-g.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function fa(a,b){return a>b?1:a<b?-1:0};function ia(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b};function ja(a,b){null!=a&&this.append.apply(this,arguments)}h=ja.prototype;h.wa="";h.set=function(a){this.wa=""+a};h.append=function(a,b,c){this.wa+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.wa+=arguments[d];return this};h.clear=function(){this.wa=""};h.toString=function(){return this.wa};var ka={},la={},ma,t={},na=null;function oa(){return new v(null,5,[pa,!0,qa,!0,ra,!1,sa,!1,ua,null],null)}function w(a){return null!=a&&!1!==a}function va(a){return a instanceof Array}function wa(a){return null==a?!0:!1===a?!0:!1}function xa(a){return null!=a}function x(a,b){return a[q(null==b?null:b)]?!0:a._?!0:!1}function y(a,b){var c=null==b?null:b.constructor;c=w(w(c)?c.zb:c)?c.kb:q(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}
function ya(a){var b=a.kb;return w(b)?b:z.c(a)}var za="undefined"!==typeof Symbol&&"function"===q(Symbol)?Symbol.iterator:"@@iterator";function Aa(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ba(a){function b(d,e){d.push(e);return d}var c=[];return Ca?Ca(b,c,a):Da.call(null,b,c,a)}function Ea(a){return"symbol"===q(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Fa(){}
function Ga(a){if(null!=a&&null!=a.Y)a=a.Y(a);else{var b=Ga[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ga._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ICounted.-count",a);}return a}function Ha(){}function Ia(a){if(null!=a&&null!=a.V)a=a.V(a);else{var b=Ia[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ia._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IEmptyableCollection.-empty",a);}return a}function Ja(){}
function La(a,b){if(null!=a&&null!=a.X)a=a.X(a,b);else{var c=La[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=La._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("ICollection.-conj",a);}return a}function Ma(){}
var Oa=function(){function a(d,e,f){var g=Na[q(null==d?null:d)];if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);g=Na._;if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);throw y("IIndexed.-nth",d);}function b(d,e){var f=Na[q(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=Na._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw y("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.l=a;return c}(),Na=function Na(a){switch(arguments.length){case 2:return Na.g(arguments[0],arguments[1]);case 3:return Na.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};Na.g=function(a,b){return null!=a&&null!=a.M?a.M(a,b):Oa(a,b)};Na.l=function(a,b,c){return null!=a&&null!=a.la?a.la(a,b,c):Oa(a,b,c)};Na.F=3;
function A(a){if(null!=a&&null!=a.W)a=a.W(a);else{var b=A[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=A._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ISeq.-first",a);}return a}function Pa(a){if(null!=a&&null!=a.$)a=a.$(a);else{var b=Pa[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Pa._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ISeq.-rest",a);}return a}function Qa(){}function Ra(){}
var Ta=function(){function a(d,e,f){var g=Sa[q(null==d?null:d)];if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);g=Sa._;if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);throw y("ILookup.-lookup",d);}function b(d,e){var f=Sa[q(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw y("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.l=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.g(arguments[0],arguments[1]);case 3:return Sa.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};Sa.g=function(a,b){return null!=a&&null!=a.ja?a.ja(a,b):Ta(a,b)};Sa.l=function(a,b,c){return null!=a&&null!=a.K?a.K(a,b,c):Ta(a,b,c)};Sa.F=3;
function Ua(a,b,c){if(null!=a&&null!=a.ua)a=a.ua(a,b,c);else{var d=Ua[q(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=Ua._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw y("IAssociative.-assoc",a);}return a}function Va(a,b){if(null!=a&&null!=a.Xa)a=a.Xa(a,b);else{var c=Va[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Va._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IFind.-find",a);}return a}function Wa(){}
function Xa(a,b){if(null!=a&&null!=a.qb)a=a.qb(a,b);else{var c=Xa[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Xa._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IMap.-dissoc",a);}return a}function Ya(a){if(null!=a&&null!=a.Jb)a=a.key;else{var b=Ya[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ya._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IMapEntry.-key",a);}return a}
function Za(a){if(null!=a&&null!=a.Kb)a=a.O;else{var b=Za[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Za._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IMapEntry.-val",a);}return a}function $a(){}function ab(a){if(null!=a&&null!=a.Za)a=a.Za(a);else{var b=ab[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=ab._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IStack.-peek",a);}return a}
function bb(a){if(null!=a&&null!=a.$a)a=a.$a(a);else{var b=bb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=bb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IStack.-pop",a);}return a}function cb(){}function db(a){if(null!=a&&null!=a.pb)a=a.pb(a);else{var b=db[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=db._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IDeref.-deref",a);}return a}function eb(){}
function fb(a){if(null!=a&&null!=a.S)a=a.S(a);else{var b=fb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=fb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IMeta.-meta",a);}return a}function gb(a,b){if(null!=a&&null!=a.U)a=a.U(a,b);else{var c=gb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=gb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IWithMeta.-with-meta",a);}return a}function hb(){}
var jb=function(){function a(d,e,f){var g=ib[q(null==d?null:d)];if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);g=ib._;if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);throw y("IReduce.-reduce",d);}function b(d,e){var f=ib[q(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=ib._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw y("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.l=a;return c}(),ib=function ib(a){switch(arguments.length){case 2:return ib.g(arguments[0],arguments[1]);case 3:return ib.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};ib.g=function(a,b){return null!=a&&null!=a.ca?a.ca(a,b):jb(a,b)};ib.l=function(a,b,c){return null!=a&&null!=a.da?a.da(a,b,c):jb(a,b,c)};ib.F=3;function kb(){}
function lb(a,b,c){if(null!=a&&null!=a.jb)a=a.jb(a,b,c);else{var d=lb[q(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=lb._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw y("IKVReduce.-kv-reduce",a);}return a}function mb(a,b){if(null!=a&&null!=a.R)a=a.R(a,b);else{var c=mb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=mb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IEquiv.-equiv",a);}return a}
function nb(a){if(null!=a&&null!=a.T)a=a.T(a);else{var b=nb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=nb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IHash.-hash",a);}return a}function ob(){}function pb(a){if(null!=a&&null!=a.N)a=a.N(a);else{var b=pb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=pb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ISeqable.-seq",a);}return a}function qb(){}function rb(){}function sb(){}
function tb(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=tb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=tb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IWriter.-write",a);}return a}function ub(){}function vb(a,b,c){if(null!=a&&null!=a.P)a=a.P(a,b,c);else{var d=vb[q(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=vb._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw y("IPrintWithWriter.-pr-writer",a);}return a}
function wb(a){if(null!=a&&null!=a.Ra)a=a.Ra(a);else{var b=wb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=wb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IEditableCollection.-as-transient",a);}return a}function xb(a,b){if(null!=a&&null!=a.Ta)a=a.Ta(a,b);else{var c=xb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=xb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("ITransientCollection.-conj!",a);}return a}
function yb(a){if(null!=a&&null!=a.ab)a=a.ab(a);else{var b=yb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=yb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ITransientCollection.-persistent!",a);}return a}function zb(a,b,c){if(null!=a&&null!=a.Sa)a=a.Sa(a,b,c);else{var d=zb[q(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=zb._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw y("ITransientAssociative.-assoc!",a);}return a}
function Ab(){}function Bb(a,b){if(null!=a&&null!=a.Qa)a=a.Qa(a,b);else{var c=Bb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Bb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IComparable.-compare",a);}return a}function Cb(a){if(null!=a&&null!=a.ub)a=a.ub(a);else{var b=Cb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Cb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IChunk.-drop-first",a);}return a}
function Db(a){if(null!=a&&null!=a.ob)a=a.ob(a);else{var b=Db[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Db._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-first",a);}return a}function Eb(a){if(null!=a&&null!=a.ib)a=a.ib(a);else{var b=Eb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Eb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-rest",a);}return a}
function Fb(a,b){if(null!=a&&null!=a.Ob)a=a.Ob(a,b);else{var c=Fb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Fb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IReset.-reset!",a);}return a}
var Hb=function(){function a(f,g,k,l,m){var n=Gb[q(null==f?null:f)];if(null!=n)return n.ia?n.ia(f,g,k,l,m):n.call(null,f,g,k,l,m);n=Gb._;if(null!=n)return n.ia?n.ia(f,g,k,l,m):n.call(null,f,g,k,l,m);throw y("ISwap.-swap!",f);}function b(f,g,k,l){var m=Gb[q(null==f?null:f)];if(null!=m)return m.I?m.I(f,g,k,l):m.call(null,f,g,k,l);m=Gb._;if(null!=m)return m.I?m.I(f,g,k,l):m.call(null,f,g,k,l);throw y("ISwap.-swap!",f);}function c(f,g,k){var l=Gb[q(null==f?null:f)];if(null!=l)return l.l?l.l(f,g,k):l.call(null,
f,g,k);l=Gb._;if(null!=l)return l.l?l.l(f,g,k):l.call(null,f,g,k);throw y("ISwap.-swap!",f);}function d(f,g){var k=Gb[q(null==f?null:f)];if(null!=k)return k.g?k.g(f,g):k.call(null,f,g);k=Gb._;if(null!=k)return k.g?k.g(f,g):k.call(null,f,g);throw y("ISwap.-swap!",f);}var e=null;e=function(f,g,k,l,m){switch(arguments.length){case 2:return d.call(this,f,g);case 3:return c.call(this,f,g,k);case 4:return b.call(this,f,g,k,l);case 5:return a.call(this,f,g,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.g=d;e.l=c;e.I=b;e.ia=a;return e}(),Gb=function Gb(a){switch(arguments.length){case 2:return Gb.g(arguments[0],arguments[1]);case 3:return Gb.l(arguments[0],arguments[1],arguments[2]);case 4:return Gb.I(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Gb.ia(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};Gb.g=function(a,b){return null!=a&&null!=a.Qb?a.Qb(a,b):Hb(a,b)};
Gb.l=function(a,b,c){return null!=a&&null!=a.Rb?a.Rb(a,b,c):Hb(a,b,c)};Gb.I=function(a,b,c,d){return null!=a&&null!=a.Sb?a.Sb(a,b,c,d):Hb(a,b,c,d)};Gb.ia=function(a,b,c,d,e){return null!=a&&null!=a.Tb?a.Tb(a,b,c,d,e):Hb(a,b,c,d,e)};Gb.F=5;function Ib(){}function Jb(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Jb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IIterable.-iterator",a);}return a}
function Kb(a){this.Xb=a;this.j=1073741824;this.A=0}Kb.prototype.yb=function(a,b){return this.Xb.append(b)};function Lb(a){var b=new ja;a.P(null,new Kb(b),oa());return z.c(b)}var Mb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Nb(a){a=Mb(a|0,-862048943);return Mb(a<<15|a>>>-15,461845907)}
function Ob(a,b){a=(a|0)^(b|0);return Mb(a<<13|a>>>-13,5)+-430675100|0}function Pb(a,b){a=(a|0)^b;a=Mb(a^a>>>16,-2048144789);a=Mb(a^a>>>13,-1028477387);return a^a>>>16}function Qb(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Ob(c,Nb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return Pb(1===(a.length&1)?b^Nb(a.charCodeAt(a.length-1)):b,Mb(2,a.length))}var Rb={},Sb=0;
function Tb(a){255<Sb&&(Rb={},Sb=0);if(null==a)return 0;var b=Rb[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Mb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Rb[a]=b;Sb+=1;a=b}return a}
function Ub(a){if(null!=a&&(a.j&4194304||t===a.cc))return a.T(null)^0;if("number"===typeof a){if(w(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Tb(a),a=0===a?a:Pb(Ob(0,Nb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:nb(a)^0,a}function Vb(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Wb(a,b){if(a.str===b.str)return 0;if(w(wa(a.ha)?b.ha:!1))return-1;if(w(a.ha)){if(wa(b.ha))return 1;var c=fa(a.ha,b.ha);return 0===c?fa(a.name,b.name):c}return fa(a.name,b.name)}function Xb(a,b,c,d,e){this.ha=a;this.name=b;this.str=c;this.Pa=d;this.sa=e;this.j=2154168321;this.A=4096}h=Xb.prototype;h.toString=function(){return this.str};h.R=function(a,b){return b instanceof Xb?this.str===b.str:!1};
h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};h.c=function(a){return C.g?C.g(a,this):C.call(null,a,this)};h.g=function(a,b){return C.l?C.l(a,this,b):C.call(null,a,this,b)};h.S=function(){return this.sa};
h.U=function(a,b){return new Xb(this.ha,this.name,this.str,this.Pa,b)};h.T=function(){var a=this.Pa;return null!=a?a:this.Pa=a=Vb(Qb(this.name),Tb(this.ha))};h.P=function(a,b){return tb(b,this.str)};var Yb=function Yb(a){switch(arguments.length){case 1:return Yb.c(arguments[0]);case 2:return Yb.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};
Yb.c=function(a){for(;;){if(a instanceof Xb)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Yb.g(null,a):Yb.g(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof E)a=a.na;else throw Error("no conversion to symbol");}};Yb.g=function(a,b){var c=null!=a?[z.c(a),"/",z.c(b)].join(""):b;return new Xb(a,b,c,null,null)};Yb.F=2;function Zb(a){return null!=a?a.A&131072||t===a.dc?!0:a.A?!1:x(Ib,a):x(Ib,a)}
function G(a){if(null==a)return null;if(null!=a&&(a.j&8388608||t===a.Pb))return a.N(null);if(va(a)||"string"===typeof a)return 0===a.length?null:new H(a,0,null);if(null!=a&&null!=a[za])return a=(null!==a&&za in a?a[za]:void 0).call(a),$b.c?$b.c(a):$b.call(null,a);if(x(ob,a))return pb(a);throw Error([z.c(a)," is not ISeqable"].join(""));}function I(a){if(null==a)return null;if(null!=a&&(a.j&64||t===a.v))return a.W(null);a=G(a);return null==a?null:A(a)}
function ac(a){return null!=a?null!=a&&(a.j&64||t===a.v)?a.$(null):(a=G(a))?a.$(null):J:J}function K(a){return null==a?null:null!=a&&(a.j&128||t===a.Ya)?a.ba():G(ac(a))}var M=function M(a){switch(arguments.length){case 1:return M.c(arguments[0]);case 2:return M.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return M.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};M.c=function(){return!0};
M.g=function(a,b){return null==a?null==b:a===b||mb(a,b)};M.s=function(a,b,c){for(;;)if(M.g(a,b))if(K(c))a=b,b=I(c),c=K(c);else return M.g(b,I(c));else return!1};M.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};M.F=2;function bc(a){this.D=a}bc.prototype.next=function(){if(null!=this.D){var a=I(this.D);this.D=K(this.D);return{value:a,done:!1}}return{value:null,done:!0}};function cc(a){return new bc(G(a))}
function dc(a,b){this.value=a;this.Va=b;this.mb=null;this.j=8388672;this.A=0}dc.prototype.N=function(){return this};dc.prototype.W=function(){return this.value};dc.prototype.$=function(){null==this.mb&&(this.mb=$b.c?$b.c(this.Va):$b.call(null,this.Va));return this.mb};function $b(a){var b=a.next();return w(b.done)?null:new dc(b.value,a)}function ec(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=Mb(31,c)+Ub(I(a))|0,a=K(a);else return Pb(Ob(0,Nb(c)),b)}var fc=Pb(Ob(0,Nb(1)),0);
function gc(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+Ub(I(a))|0,a=K(a);else return Pb(Ob(0,Nb(c)),b)}var hc=Pb(Ob(0,Nb(0)),0);Fa["null"]=!0;Ga["null"]=function(){return 0};Date.prototype.R=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Wa=t;Date.prototype.Qa=function(a,b){if(b instanceof Date)return fa(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};mb.number=function(a,b){return a===b};eb["function"]=!0;
fb["function"]=function(){return null};nb._=function(a){return a[ba]||(a[ba]=++ca)};function ic(a){this.O=a;this.j=32768;this.A=0}ic.prototype.pb=function(){return this.O};function jc(a){return a instanceof ic}function kc(a){return db(a)}function lc(a,b){var c=a.length;if(0===a.length)return b.B?b.B():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.g?b.g(d,f):b.call(null,d,f);if(jc(d))return db(d);e+=1}else return d}
function mc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.g?b.g(e,f):b.call(null,e,f);if(jc(e))return db(e);c+=1}else return e}function nc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.g?b.g(c,f):b.call(null,c,f);if(jc(c))return db(c);d+=1}else return c}function oc(a){return null!=a?a.j&2||t===a.Cb?!0:a.j?!1:x(Fa,a):x(Fa,a)}function pc(a){return null!=a?a.j&16||t===a.wb?!0:a.j?!1:x(Ma,a):x(Ma,a)}
function N(a,b,c){var d=O.c?O.c(a):O.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(M.g(qc?qc(a,c):rc.call(null,a,c),b))return c;c+=1}else return-1}function P(a,b,c){var d=O.c?O.c(a):O.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(M.g(qc?qc(a,c):rc.call(null,a,c),b))return c;--c}else return-1}function sc(a,b){this.h=a;this.i=b}sc.prototype.ea=function(){return this.i<this.h.length};
sc.prototype.next=function(){var a=this.h[this.i];this.i+=1;return a};function H(a,b,c){this.h=a;this.i=b;this.meta=c;this.j=166592766;this.A=139264}h=H.prototype;h.toString=function(){return Lb(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O.c?O.c(this):O.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.M=function(a,b){a=b+this.i;if(0<=a&&a<this.h.length)return this.h[a];throw Error("Index out of bounds");};h.la=function(a,b,c){a=b+this.i;return 0<=a&&a<this.h.length?this.h[a]:c};
h.ma=function(){return new sc(this.h,this.i)};h.S=function(){return this.meta};h.ba=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):null};h.Y=function(){var a=this.h.length-this.i;return 0>a?0:a};h.T=function(){return ec(this)};h.R=function(a,b){return tc.g?tc.g(this,b):tc.call(null,this,b)};h.V=function(){return J};h.ca=function(a,b){return nc(this.h,b,this.h[this.i],this.i+1)};h.da=function(a,b,c){return nc(this.h,b,c,this.i)};h.W=function(){return this.h[this.i]};
h.$=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):J};h.N=function(){return this.i<this.h.length?this:null};h.U=function(a,b){return b===this.meta?this:new H(this.h,this.i,b)};h.X=function(a,b){return Q.g?Q.g(b,this):Q.call(null,b,this)};H.prototype[za]=function(){return cc(this)};function uc(a){return 0<a.length?new H(a,0,null):null}function vc(a){for(;;){var b=K(a);if(null!=b)a=b;else return I(a)}}mb._=function(a,b){return a===b};
var wc=function wc(a){switch(arguments.length){case 0:return wc.B();case 1:return wc.c(arguments[0]);case 2:return wc.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return wc.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};wc.B=function(){return xc};wc.c=function(a){return a};wc.g=function(a,b){return null!=a?La(a,b):new yc(null,b,null,1,null)};
wc.s=function(a,b,c){for(;;)if(w(c))a=wc.g(a,b),b=I(c),c=K(c);else return wc.g(a,b)};wc.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};wc.F=2;function O(a){if(null!=a)if(null!=a&&(a.j&2||t===a.Cb))a=a.Y(null);else if(va(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.j&8388608||t===a.Pb))a:{a=G(a);for(var b=0;;){if(oc(a)){a=b+Ga(a);break a}a=K(a);b+=1}}else a=Ga(a);else a=0;return a}
function zc(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?I(a):c;if(pc(a))return Na(a,b,c);if(G(a))a=K(a),--b;else return c}}function rc(a){switch(arguments.length){case 2:return qc(arguments[0],arguments[1]);case 3:return R(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}
function qc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.j&16||t===a.wb))return a.M(null,b);if(va(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.j&64||t===a.v)||null!=a&&(a.j&16777216||t===a.xb)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=I(a);break a}throw Error("Index out of bounds");}if(pc(a)){a=Na(a,b);break a}if(G(a))a=K(a),--b;else throw Error("Index out of bounds");}return a}if(x(Ma,a))return Na(a,b);throw Error(["nth not supported on this type ",z.c(ya(null==a?null:a.constructor))].join(""));}
function R(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.j&16||t===a.wb))return a.la(null,b,c);if(va(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.j&64||t===a.v)||null!=a&&(a.j&16777216||t===a.xb))return 0>b?c:zc(a,b,c);if(x(Ma,a))return Na(a,b,c);throw Error(["nth not supported on this type ",z.c(ya(null==a?null:a.constructor))].join(""));}
var C=function C(a){switch(arguments.length){case 2:return C.g(arguments[0],arguments[1]);case 3:return C.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};C.g=function(a,b){return null==a?null:null!=a&&(a.j&256||t===a.Ib)?a.ja(null,b):va(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:x(Ra,a)?Sa(a,b):null};
C.l=function(a,b,c){return null!=a?null!=a&&(a.j&256||t===a.Ib)?a.K(null,b,c):va(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:x(Ra,a)?Sa(a,b,c):c:c};C.F=3;var Ac=function Ac(a){switch(arguments.length){case 3:return Ac.l(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ac.s(arguments[0],arguments[1],arguments[2],new H(c.slice(3),0,null))}};
Ac.l=function(a,b,c){if(null!=a&&(a.j&512||t===a.$b))a=a.ua(null,b,c);else if(null!=a)a=Ua(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Bc(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new v(null,b.length/2,b,null)}return a};Ac.s=function(a,b,c,d){for(;;)if(a=Ac.l(a,b,c),w(d))b=I(d),c=I(K(d)),d=K(K(d));else return a};Ac.C=function(a){var b=I(a),c=K(a);a=I(c);var d=K(c);c=I(d);d=K(d);return this.s(b,a,c,d)};Ac.F=3;
var Cc=function Cc(a){switch(arguments.length){case 1:return Cc.c(arguments[0]);case 2:return Cc.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Cc.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Cc.c=function(a){return a};Cc.g=function(a,b){return null==a?null:Xa(a,b)};Cc.s=function(a,b,c){for(;;){if(null==a)return null;a=Cc.g(a,b);if(w(c))b=I(c),c=K(c);else return a}};
Cc.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};Cc.F=2;function Dc(a,b){this.o=a;this.meta=b;this.j=393217;this.A=0}h=Dc.prototype;h.S=function(){return this.meta};h.U=function(a,b){return new Dc(this.o,b)};
h.call=function(a){switch(arguments.length-1){case 0:return this.B();case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);case 3:return this.l(arguments[1],arguments[2],arguments[3]);case 4:return this.I(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ja(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Da(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Fa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ha(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=arguments[5],g=arguments[6],k=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],p=arguments[11],r=arguments[12],u=arguments[13],B=arguments[14],D=arguments[15],
F=arguments[16],S=arguments[17],W=arguments[18],da=arguments[19],ta=arguments[20],Ka=arguments[21];return Ec.Hb?Ec.Hb(this.o,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da,ta,Ka):Ec.call(null,this.o,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da,ta,Ka);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};h.B=function(){return this.o.B?this.o.B():this.o.call(null)};
h.c=function(a){return this.o.c?this.o.c(a):this.o.call(null,a)};h.g=function(a,b){return this.o.g?this.o.g(a,b):this.o.call(null,a,b)};h.l=function(a,b,c){return this.o.l?this.o.l(a,b,c):this.o.call(null,a,b,c)};h.I=function(a,b,c,d){return this.o.I?this.o.I(a,b,c,d):this.o.call(null,a,b,c,d)};h.ia=function(a,b,c,d,e){return this.o.ia?this.o.ia(a,b,c,d,e):this.o.call(null,a,b,c,d,e)};h.Ia=function(a,b,c,d,e,f){return this.o.Ia?this.o.Ia(a,b,c,d,e,f):this.o.call(null,a,b,c,d,e,f)};
h.Ja=function(a,b,c,d,e,f,g){return this.o.Ja?this.o.Ja(a,b,c,d,e,f,g):this.o.call(null,a,b,c,d,e,f,g)};h.Ka=function(a,b,c,d,e,f,g,k){return this.o.Ka?this.o.Ka(a,b,c,d,e,f,g,k):this.o.call(null,a,b,c,d,e,f,g,k)};h.La=function(a,b,c,d,e,f,g,k,l){return this.o.La?this.o.La(a,b,c,d,e,f,g,k,l):this.o.call(null,a,b,c,d,e,f,g,k,l)};h.xa=function(a,b,c,d,e,f,g,k,l,m){return this.o.xa?this.o.xa(a,b,c,d,e,f,g,k,l,m):this.o.call(null,a,b,c,d,e,f,g,k,l,m)};
h.ya=function(a,b,c,d,e,f,g,k,l,m,n){return this.o.ya?this.o.ya(a,b,c,d,e,f,g,k,l,m,n):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n)};h.za=function(a,b,c,d,e,f,g,k,l,m,n,p){return this.o.za?this.o.za(a,b,c,d,e,f,g,k,l,m,n,p):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n,p)};h.Aa=function(a,b,c,d,e,f,g,k,l,m,n,p,r){return this.o.Aa?this.o.Aa(a,b,c,d,e,f,g,k,l,m,n,p,r):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n,p,r)};
h.Ba=function(a,b,c,d,e,f,g,k,l,m,n,p,r,u){return this.o.Ba?this.o.Ba(a,b,c,d,e,f,g,k,l,m,n,p,r,u):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n,p,r,u)};h.Ca=function(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B){return this.o.Ca?this.o.Ca(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n,p,r,u,B)};h.Da=function(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D){return this.o.Da?this.o.Da(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D)};
h.Ea=function(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F){return this.o.Ea?this.o.Ea(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F)};h.Fa=function(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S){return this.o.Fa?this.o.Fa(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S)};
h.Ga=function(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W){return this.o.Ga?this.o.Ga(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W)};h.Ha=function(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da){return this.o.Ha?this.o.Ha(a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da):this.o.call(null,a,b,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da)};function Fc(a,b){return"function"==q(a)?new Dc(a,b):null==a?null:gb(a,b)}
function Gc(a){return null!=a&&(null!=a?a.j&131072||t===a.Lb||(a.j?0:x(eb,a)):x(eb,a))?fb(a):null}function Hc(a){return null==a?!1:null!=a?a.j&4096||t===a.kc?!0:a.j?!1:x($a,a):x($a,a)}function Ic(a){return null!=a?a.j&16777216||t===a.xb?!0:a.j?!1:x(qb,a):x(qb,a)}function Jc(a){return null==a?!1:null!=a?a.j&1024||t===a.hc?!0:a.j?!1:x(Wa,a):x(Wa,a)}function Kc(a){return null!=a?a.j&67108864||t===a.jc?!0:a.j?!1:x(sb,a):x(sb,a)}
function Lc(a){return null!=a?a.j&16384||t===a.lc?!0:a.j?!1:x(cb,a):x(cb,a)}function Mc(a){return null!=a?a.A&512||t===a.ac?!0:!1:!1}function Nc(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Oc={};function Pc(a){return null==a?!1:!1===a?!1:!0}function Qc(a,b){return C.l(a,b,Oc)===Oc?!1:!0}
function Rc(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return fa(a,b);throw Error(["Cannot compare ",z.c(a)," to ",z.c(b)].join(""));}if(null!=a?a.A&2048||t===a.Wa||(a.A?0:x(Ab,a)):x(Ab,a))return Bb(a,b);if("string"!==typeof a&&!va(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",z.c(a)," to ",z.c(b)].join(""));return fa(a,b)}
function Sc(a,b){var c=O(a),d=O(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Rc(qc(a,d),qc(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Tc(a){return M.g(a,Rc)?Rc:function(b,c){var d=a.g?a.g(b,c):a.call(null,b,c);return"number"===typeof d?d:w(d)?-1:w(a.g?a.g(c,b):a.call(null,c,b))?1:0}}function Uc(a,b){return G(b)?(b=Vc.c?Vc.c(b):Vc.call(null,b),ha(b,Tc(a)),G(b)):J}
function Wc(){return Uc(function(a,b){a=I.c?I.c(a):I.call(null,a);b=I.c?I.c(b):I.call(null,b);var c=Tc(Rc);return c.g?c.g(a,b):c.call(null,a,b)},Xc)}function Yc(a,b){var c=G(b);return c?(b=I(c),c=K(c),Ca?Ca(a,b,c):Da.call(null,a,b,c)):a.B?a.B():a.call(null)}function Zc(a,b,c){for(c=G(c);;)if(c){var d=I(c);b=a.g?a.g(b,d):a.call(null,b,d);if(jc(b))return db(b);c=K(c)}else return b}
function $c(a,b){a=Jb(a);if(w(a.ea()))for(var c=a.next();;)if(a.ea()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(jc(c))return db(c)}else return c;else return b.B?b.B():b.call(null)}function ad(a,b,c){for(a=Jb(a);;)if(a.ea()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(jc(c))return db(c)}else return c}
function Da(a){switch(arguments.length){case 2:return bd(arguments[0],arguments[1]);case 3:return Ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function bd(a,b){return null!=b&&(b.j&524288||t===b.Nb)?b.ca(null,a):va(b)?lc(b,a):"string"===typeof b?lc(b,a):x(hb,b)?ib(b,a):Zb(b)?$c(b,a):Yc(a,b)}
function Ca(a,b,c){return null!=c&&(c.j&524288||t===c.Nb)?c.da(null,a,b):va(c)?mc(c,a,b):"string"===typeof c?mc(c,a,b):x(hb,c)?ib(c,a,b):Zb(c)?ad(c,a,b):Zc(a,b,c)}function cd(a,b,c){return null!=c?lb(c,a,b):b}function dd(a){return a}function ed(a,b,c,d){a=a.c?a.c(b):a.call(null,b);c=Ca(a,c,d);return a.c?a.c(c):a.call(null,c)}function fd(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}
function gd(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}function hd(a){return 0>a}var z=function z(a){switch(arguments.length){case 0:return z.B();case 1:return z.c(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return z.s(arguments[0],new H(c.slice(1),0,null))}};z.B=function(){return""};z.c=function(a){return null==a?"":[a].join("")};
z.s=function(a,b){for(a=new ja(z.c(a));;)if(w(b))a=a.append(z.c(I(b))),b=K(b);else return a.toString()};z.C=function(a){var b=I(a);a=K(a);return this.s(b,a)};z.F=1;function tc(a,b){if(Ic(b))if(oc(a)&&oc(b)&&O(a)!==O(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&M.g(I(a),I(b)))a=K(a),b=K(b);else{a=!1;break a}}else a=null;return Pc(a)}function yc(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.u=e;this.j=65937646;this.A=8192}h=yc.prototype;
h.toString=function(){return Lb(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.meta};h.ba=function(){return 1===this.count?null:this.rest};h.Y=function(){return this.count};h.Za=function(){return this.first};h.$a=function(){return this.$(null)};
h.T=function(){var a=this.u;return null!=a?a:this.u=a=ec(this)};h.R=function(a,b){return tc(this,b)};h.V=function(){return gb(J,this.meta)};h.ca=function(a,b){return Yc(b,this)};h.da=function(a,b,c){return Zc(b,c,this)};h.W=function(){return this.first};h.$=function(){return 1===this.count?J:this.rest};h.N=function(){return this};h.U=function(a,b){return b===this.meta?this:new yc(b,this.first,this.rest,this.count,this.u)};h.X=function(a,b){return new yc(this.meta,b,this,this.count+1,null)};
yc.prototype[za]=function(){return cc(this)};function id(a){this.meta=a;this.j=65937614;this.A=8192}h=id.prototype;h.toString=function(){return Lb(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.meta};h.ba=function(){return null};h.Y=function(){return 0};h.Za=function(){return null};h.$a=function(){throw Error("Can't pop empty list");};h.T=function(){return fc};
h.R=function(a,b){return(null!=b?b.j&33554432||t===b.fc||(b.j?0:x(rb,b)):x(rb,b))||Ic(b)?null==G(b):!1};h.V=function(){return this};h.ca=function(a,b){return Yc(b,this)};h.da=function(a,b,c){return Zc(b,c,this)};h.W=function(){return null};h.$=function(){return J};h.N=function(){return null};h.U=function(a,b){return b===this.meta?this:new id(b)};h.X=function(a,b){return new yc(this.meta,b,null,1,null)};var J=new id(null);id.prototype[za]=function(){return cc(this)};
function jd(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.u=d;this.j=65929452;this.A=8192}h=jd.prototype;h.toString=function(){return Lb(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.meta};h.ba=function(){return null==this.rest?null:G(this.rest)};h.T=function(){var a=this.u;return null!=a?a:this.u=a=ec(this)};h.R=function(a,b){return tc(this,b)};h.V=function(){return J};
h.ca=function(a,b){return Yc(b,this)};h.da=function(a,b,c){return Zc(b,c,this)};h.W=function(){return this.first};h.$=function(){return null==this.rest?J:this.rest};h.N=function(){return this};h.U=function(a,b){return b===this.meta?this:new jd(b,this.first,this.rest,this.u)};h.X=function(a,b){return new jd(null,b,this,null)};jd.prototype[za]=function(){return cc(this)};
function Q(a,b){return null==b?new yc(null,a,null,1,null):null!=b&&(b.j&64||t===b.v)?new jd(null,a,b,null):new jd(null,a,G(b),null)}function kd(a,b){if(a.na===b.na)return 0;if(w(wa(a.ha)?b.ha:!1))return-1;if(w(a.ha)){if(wa(b.ha))return 1;var c=fa(a.ha,b.ha);return 0===c?fa(a.name,b.name):c}return fa(a.name,b.name)}function E(a,b,c,d){this.ha=a;this.name=b;this.na=c;this.Pa=d;this.j=2153775105;this.A=4096}h=E.prototype;h.toString=function(){return[":",z.c(this.na)].join("")};
h.R=function(a,b){return b instanceof E?this.na===b.na:!1};h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};h.c=function(a){return C.g(a,this)};h.g=function(a,b){return C.l(a,this,b)};
h.T=function(){var a=this.Pa;return null!=a?a:this.Pa=a=Vb(Qb(this.name),Tb(this.ha))+2654435769|0};h.P=function(a,b){return tb(b,[":",z.c(this.na)].join(""))};function ld(a){if(null!=a&&(a.A&4096||t===a.Mb))return a.ha;throw Error(["Doesn't support namespace: ",z.c(a)].join(""));}var md=function md(a){switch(arguments.length){case 1:return md.c(arguments[0]);case 2:return md.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};
md.c=function(a){if(a instanceof E)return a;if(a instanceof Xb)return new E(ld(a),nd.c?nd.c(a):nd.call(null,a),a.str,null);if(M.g("/",a))return new E(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new E(b[0],b[1],a,null):new E(null,b[0],a,null)}return null};
md.g=function(a,b){a=a instanceof E?nd.c?nd.c(a):nd.call(null,a):a instanceof Xb?nd.c?nd.c(a):nd.call(null,a):a;b=b instanceof E?nd.c?nd.c(b):nd.call(null,b):b instanceof Xb?nd.c?nd.c(b):nd.call(null,b):b;return new E(a,b,[w(a)?[z.c(a),"/"].join(""):null,z.c(b)].join(""),null)};md.F=2;function od(a,b,c){this.meta=a;this.bb=b;this.D=null;this.u=c;this.j=32374988;this.A=1}h=od.prototype;h.toString=function(){return Lb(this)};
function pd(a){null!=a.bb&&(a.D=a.bb.B?a.bb.B():a.bb.call(null),a.bb=null);return a.D}h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.meta};h.ba=function(){this.N(null);return null==this.D?null:K(this.D)};h.T=function(){var a=this.u;return null!=a?a:this.u=a=ec(this)};h.R=function(a,b){return tc(this,b)};
h.V=function(){return gb(J,this.meta)};h.ca=function(a,b){return Yc(b,this)};h.da=function(a,b,c){return Zc(b,c,this)};h.W=function(){this.N(null);return null==this.D?null:I(this.D)};h.$=function(){this.N(null);return null!=this.D?ac(this.D):J};h.N=function(){pd(this);if(null==this.D)return null;for(var a=this.D;;)if(a instanceof od)a=pd(a);else return this.D=a,G(this.D)};h.U=function(a,b){var c=this;return b===this.meta?c:new od(b,function(){return c.N(null)},this.u)};
h.X=function(a,b){return Q(b,this)};od.prototype[za]=function(){return cc(this)};function qd(a){this.nb=a;this.end=0;this.j=2;this.A=0}qd.prototype.add=function(a){this.nb[this.end]=a;return this.end+=1};qd.prototype.chunk=function(){var a=new rd(this.nb,0,this.end);this.nb=null;return a};qd.prototype.Y=function(){return this.end};function rd(a,b,c){this.h=a;this.off=b;this.end=c;this.j=524306;this.A=0}h=rd.prototype;h.Y=function(){return this.end-this.off};
h.M=function(a,b){return this.h[this.off+b]};h.la=function(a,b,c){return 0<=b&&b<this.end-this.off?this.h[this.off+b]:c};h.ub=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new rd(this.h,this.off+1,this.end)};h.ca=function(a,b){return nc(this.h,b,this.h[this.off],this.off+1)};h.da=function(a,b,c){return nc(this.h,b,c,this.off)};function sd(a,b,c,d){this.chunk=a;this.qa=b;this.meta=c;this.u=d;this.j=31850732;this.A=1536}h=sd.prototype;h.toString=function(){return Lb(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.meta};h.ba=function(){return 1<Ga(this.chunk)?new sd(Cb(this.chunk),this.qa,null,null):null==this.qa?null:pb(this.qa)};h.T=function(){var a=this.u;return null!=a?a:this.u=a=ec(this)};
h.R=function(a,b){return tc(this,b)};h.V=function(){return J};h.W=function(){return Na(this.chunk,0)};h.$=function(){return 1<Ga(this.chunk)?new sd(Cb(this.chunk),this.qa,null,null):null==this.qa?J:this.qa};h.N=function(){return this};h.ob=function(){return this.chunk};h.ib=function(){return null==this.qa?J:this.qa};h.U=function(a,b){return b===this.meta?this:new sd(this.chunk,this.qa,b,this.u)};h.X=function(a,b){return Q(b,this)};h.vb=function(){return null==this.qa?null:this.qa};
sd.prototype[za]=function(){return cc(this)};function td(a,b){return 0===Ga(a)?b:new sd(a,b,null,null)}function ud(a,b){a.add(b)}function Vc(a){var b=[];for(a=G(a);;)if(null!=a)b.push(I(a)),a=K(a);else return b}function vd(a,b){if(oc(b))return O(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=K(b);else return c}
var wd=function wd(a){if(null==a)return null;var c=K(a);return null==c?G(I(a)):Q(I(a),wd.c?wd.c(c):wd.call(null,c))},xd=function xd(a){switch(arguments.length){case 0:return xd.B();case 1:return xd.c(arguments[0]);case 2:return xd.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return xd.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};xd.B=function(){return new od(null,function(){return null},null)};
xd.c=function(a){return new od(null,function(){return a},null)};xd.g=function(a,b){return new od(null,function(){var c=G(a);return c?Mc(c)?td(Db(c),xd.g(Eb(c),b)):Q(I(c),xd.g(ac(c),b)):b},null)};xd.s=function(a,b,c){return function g(e,f){return new od(null,function(){var k=G(e);return k?Mc(k)?td(Db(k),g(Eb(k),f)):Q(I(k),g(ac(k),f)):w(f)?g(I(f),K(f)):null},null)}(xd.g(a,b),c)};xd.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};xd.F=2;
var yd=function yd(a){switch(arguments.length){case 0:return yd.B();case 1:return yd.c(arguments[0]);case 2:return yd.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return yd.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};yd.B=function(){return wb(xc)};yd.c=function(a){return a};yd.g=function(a,b){return xb(a,b)};yd.s=function(a,b,c){for(;;)if(a=xb(a,b),w(c))b=I(c),c=K(c);else return a};
yd.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};yd.F=2;
function zd(a,b,c){var d=G(c);if(0===b)return a.B?a.B():a.call(null);c=A(d);var e=Pa(d);if(1===b)return a.c?a.c(c):a.call(null,c);d=A(e);var f=Pa(e);if(2===b)return a.g?a.g(c,d):a.call(null,c,d);e=A(f);var g=Pa(f);if(3===b)return a.l?a.l(c,d,e):a.call(null,c,d,e);f=A(g);var k=Pa(g);if(4===b)return a.I?a.I(c,d,e,f):a.call(null,c,d,e,f);g=A(k);var l=Pa(k);if(5===b)return a.ia?a.ia(c,d,e,f,g):a.call(null,c,d,e,f,g);k=A(l);var m=Pa(l);if(6===b)return a.Ia?a.Ia(c,d,e,f,g,k):a.call(null,c,d,e,f,g,k);l=
A(m);var n=Pa(m);if(7===b)return a.Ja?a.Ja(c,d,e,f,g,k,l):a.call(null,c,d,e,f,g,k,l);m=A(n);var p=Pa(n);if(8===b)return a.Ka?a.Ka(c,d,e,f,g,k,l,m):a.call(null,c,d,e,f,g,k,l,m);n=A(p);var r=Pa(p);if(9===b)return a.La?a.La(c,d,e,f,g,k,l,m,n):a.call(null,c,d,e,f,g,k,l,m,n);p=A(r);var u=Pa(r);if(10===b)return a.xa?a.xa(c,d,e,f,g,k,l,m,n,p):a.call(null,c,d,e,f,g,k,l,m,n,p);r=A(u);var B=Pa(u);if(11===b)return a.ya?a.ya(c,d,e,f,g,k,l,m,n,p,r):a.call(null,c,d,e,f,g,k,l,m,n,p,r);u=A(B);var D=Pa(B);if(12===
b)return a.za?a.za(c,d,e,f,g,k,l,m,n,p,r,u):a.call(null,c,d,e,f,g,k,l,m,n,p,r,u);B=A(D);var F=Pa(D);if(13===b)return a.Aa?a.Aa(c,d,e,f,g,k,l,m,n,p,r,u,B):a.call(null,c,d,e,f,g,k,l,m,n,p,r,u,B);D=A(F);var S=Pa(F);if(14===b)return a.Ba?a.Ba(c,d,e,f,g,k,l,m,n,p,r,u,B,D):a.call(null,c,d,e,f,g,k,l,m,n,p,r,u,B,D);F=A(S);var W=Pa(S);if(15===b)return a.Ca?a.Ca(c,d,e,f,g,k,l,m,n,p,r,u,B,D,F):a.call(null,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F);S=A(W);var da=Pa(W);if(16===b)return a.Da?a.Da(c,d,e,f,g,k,l,m,n,p,r,u,B,
D,F,S):a.call(null,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S);W=A(da);var ta=Pa(da);if(17===b)return a.Ea?a.Ea(c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W):a.call(null,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W);da=A(ta);var Ka=Pa(ta);if(18===b)return a.Fa?a.Fa(c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da):a.call(null,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da);ta=A(Ka);Ka=Pa(Ka);if(19===b)return a.Ga?a.Ga(c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da,ta):a.call(null,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da,ta);var fg=A(Ka);Pa(Ka);if(20===b)return a.Ha?
a.Ha(c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da,ta,fg):a.call(null,c,d,e,f,g,k,l,m,n,p,r,u,B,D,F,S,W,da,ta,fg);throw Error("Only up to 20 arguments supported on functions");}function Ad(a){return null!=a&&(a.j&128||t===a.Ya)?a.ba():G(ac(a))}function Bd(a,b,c){return null==c?a.c?a.c(b):a.call(a,b):Cd(a,b,A(c),Ad(c))}function Cd(a,b,c,d){return null==d?a.g?a.g(b,c):a.call(a,b,c):Dd(a,b,c,A(d),Ad(d))}function Dd(a,b,c,d,e){return null==e?a.l?a.l(b,c,d):a.call(a,b,c,d):Ed(a,b,c,d,A(e),Ad(e))}
function Ed(a,b,c,d,e,f){if(null==f)return a.I?a.I(b,c,d,e):a.call(a,b,c,d,e);var g=A(f),k=K(f);if(null==k)return a.ia?a.ia(b,c,d,e,g):a.call(a,b,c,d,e,g);f=A(k);var l=K(k);if(null==l)return a.Ia?a.Ia(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);k=A(l);var m=K(l);if(null==m)return a.Ja?a.Ja(b,c,d,e,g,f,k):a.call(a,b,c,d,e,g,f,k);l=A(m);var n=K(m);if(null==n)return a.Ka?a.Ka(b,c,d,e,g,f,k,l):a.call(a,b,c,d,e,g,f,k,l);m=A(n);var p=K(n);if(null==p)return a.La?a.La(b,c,d,e,g,f,k,l,m):a.call(a,b,c,d,e,g,f,k,l,m);
n=A(p);var r=K(p);if(null==r)return a.xa?a.xa(b,c,d,e,g,f,k,l,m,n):a.call(a,b,c,d,e,g,f,k,l,m,n);p=A(r);var u=K(r);if(null==u)return a.ya?a.ya(b,c,d,e,g,f,k,l,m,n,p):a.call(a,b,c,d,e,g,f,k,l,m,n,p);r=A(u);var B=K(u);if(null==B)return a.za?a.za(b,c,d,e,g,f,k,l,m,n,p,r):a.call(a,b,c,d,e,g,f,k,l,m,n,p,r);u=A(B);var D=K(B);if(null==D)return a.Aa?a.Aa(b,c,d,e,g,f,k,l,m,n,p,r,u):a.call(a,b,c,d,e,g,f,k,l,m,n,p,r,u);B=A(D);var F=K(D);if(null==F)return a.Ba?a.Ba(b,c,d,e,g,f,k,l,m,n,p,r,u,B):a.call(a,b,c,d,
e,g,f,k,l,m,n,p,r,u,B);D=A(F);var S=K(F);if(null==S)return a.Ca?a.Ca(b,c,d,e,g,f,k,l,m,n,p,r,u,B,D):a.call(a,b,c,d,e,g,f,k,l,m,n,p,r,u,B,D);F=A(S);var W=K(S);if(null==W)return a.Da?a.Da(b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F):a.call(a,b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F);S=A(W);var da=K(W);if(null==da)return a.Ea?a.Ea(b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F,S):a.call(a,b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F,S);W=A(da);var ta=K(da);if(null==ta)return a.Fa?a.Fa(b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F,S,W):a.call(a,b,c,d,e,g,f,k,l,m,
n,p,r,u,B,D,F,S,W);da=A(ta);var Ka=K(ta);if(null==Ka)return a.Ga?a.Ga(b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F,S,W,da):a.call(a,b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F,S,W,da);ta=A(Ka);Ka=K(Ka);if(null==Ka)return a.Ha?a.Ha(b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F,S,W,da,ta):a.call(a,b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F,S,W,da,ta);b=[b,c,d,e,g,f,k,l,m,n,p,r,u,B,D,F,S,W,da,ta];for(c=Ka;;)if(c)b.push(A(c)),c=K(c);else break;return a.apply(a,b)}
function Ec(a){switch(arguments.length){case 2:return T(arguments[0],arguments[1]);case 3:return Fd(arguments[0],arguments[1],arguments[2]);case 4:return Gd(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Hd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];d=arguments[1];var e=arguments[2],f=arguments[3],g=arguments[4];b=new H(b.slice(5),0,null);c.C?(b=wd(b),
d=Q(d,Q(e,Q(f,Q(g,b)))),e=c.F,b=4+vd(e-3,b),c=b<=e?zd(c,b,d):c.C(d)):c=Ed(c,d,e,f,g,wd(b));return c}}function T(a,b){if(a.C){var c=a.F,d=vd(c+1,b);return d<=c?zd(a,d,b):a.C(b)}b=G(b);return null==b?a.B?a.B():a.call(a):Bd(a,A(b),Ad(b))}function Fd(a,b,c){if(a.C){b=Q(b,c);var d=a.F;c=vd(d,c)+1;return c<=d?zd(a,c,b):a.C(b)}return Bd(a,b,G(c))}function Gd(a,b,c,d){return a.C?(b=Q(b,Q(c,d)),c=a.F,d=2+vd(c-1,d),d<=c?zd(a,d,b):a.C(b)):Cd(a,b,c,G(d))}
function Hd(a,b,c,d,e){return a.C?(b=Q(b,Q(c,Q(d,e))),c=a.F,e=3+vd(c-2,e),e<=c?zd(a,e,b):a.C(b)):Dd(a,b,c,d,G(e))}
function Id(){if("undefined"===typeof ka||"undefined"===typeof la||"undefined"===typeof ma)ma=function(a){this.Wb=a;this.j=393216;this.A=0},ma.prototype.U=function(a,b){return new ma(b)},ma.prototype.S=function(){return this.Wb},ma.prototype.ea=function(){return!1},ma.prototype.next=function(){return Error("No such element")},ma.prototype.remove=function(){return Error("Unsupported operation")},ma.mc=function(){return new U(null,1,5,V,[Jd],null)},ma.zb=!0,ma.kb="cljs.core/t_cljs$core19718",ma.Ub=
function(a){return tb(a,"cljs.core/t_cljs$core19718")};return new ma(Kd)}function Ld(a,b){for(;;){if(null==G(b))return!0;var c=I(b);c=a.c?a.c(c):a.call(null,c);if(w(c))b=K(b);else return!1}}function Md(a,b){for(;;)if(b=G(b)){var c=I(b);c=a.c?a.c(c):a.call(null,c);if(w(c))return c;b=K(b)}else return null}
function Nd(a){return function(){function b(g,k){return wa(a.g?a.g(g,k):a.call(null,g,k))}function c(g){return wa(a.c?a.c(g):a.call(null,g))}function d(){return wa(a.B?a.B():a.call(null))}var e=null,f=function(){function g(l,m,n){var p=null;if(2<arguments.length){p=0;for(var r=Array(arguments.length-2);p<r.length;)r[p]=arguments[p+2],++p;p=new H(r,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return wa(Gd(a,l,m,n))}g.F=2;g.C=function(l){var m=I(l);l=K(l);var n=I(l);l=ac(l);return k(m,n,l)};
g.s=k;return g}();e=function(g,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,g);case 2:return b.call(this,g,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new H(n,0,null)}return f.s(g,k,m)}throw Error("Invalid arity: "+arguments.length);};e.F=2;e.C=f.C;e.B=d;e.c=c;e.g=b;e.s=f.s;return e}()}
function Od(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.F=0;b.C=function(c){G(c);return a};b.s=function(){return a};return b}()}function Pd(a){this.state=a;this.Bb=this.Zb=this.meta=null;this.A=16386;this.j=6455296}Pd.prototype.R=function(a,b){return this===b};Pd.prototype.pb=function(){return this.state};Pd.prototype.S=function(){return this.meta};
Pd.prototype.T=function(){return this[ba]||(this[ba]=++ca)};
function Qd(a,b){if(a instanceof Pd){var c=a.Zb;if(null!=c&&!w(c.c?c.c(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Bb)a:for(var d=G(a.Bb),e=null,f=0,g=0;;)if(g<f){var k=e.M(null,g),l=R(k,0,null);k=R(k,1,null);k.I?k.I(l,a,c,b):k.call(null,l,a,c,b);g+=1}else if(d=G(d))Mc(d)?(e=Db(d),d=Eb(d),l=e,f=O(e),e=l):(e=I(d),l=R(e,0,null),k=R(e,1,null),k.I?k.I(l,a,c,b):k.call(null,l,a,c,b),d=K(d),e=null,f=0),g=0;else break a;return b}return Fb(a,b)}
var Rd=function Rd(a){switch(arguments.length){case 2:return Rd.g(arguments[0],arguments[1]);case 3:return Rd.l(arguments[0],arguments[1],arguments[2]);case 4:return Rd.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Rd.s(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Rd.g=function(a,b){if(a instanceof Pd){var c=a.state;b=b.c?b.c(c):b.call(null,c);a=Qd(a,b)}else a=Gb(a,b);return a};Rd.l=function(a,b,c){if(a instanceof Pd){var d=a.state;b=b.g?b.g(d,c):b.call(null,d,c);a=Qd(a,b)}else a=Gb(a,b,c);return a};Rd.I=function(a,b,c,d){if(a instanceof Pd){var e=a.state;b=b.l?b.l(e,c,d):b.call(null,e,c,d);a=Qd(a,b)}else a=Gb(a,b,c,d);return a};Rd.s=function(a,b,c,d,e){return a instanceof Pd?Qd(a,Hd(b,a.state,c,d,e)):Gb(a,b,c,d,e)};
Rd.C=function(a){var b=I(a),c=K(a);a=I(c);var d=K(c);c=I(d);var e=K(d);d=I(e);e=K(e);return this.s(b,a,c,d,e)};Rd.F=4;
function Sd(a){return function(){function b(g,k,l){g=a.c?a.c(g):a.call(null,g);w(g)?(k=a.c?a.c(k):a.call(null,k),l=w(k)?a.c?a.c(l):a.call(null,l):k):l=g;return Pc(l)}function c(g,k){g=a.c?a.c(g):a.call(null,g);k=w(g)?a.c?a.c(k):a.call(null,k):g;return Pc(k)}function d(g){return Pc(a.c?a.c(g):a.call(null,g))}var e=null,f=function(){function g(l,m,n,p){var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+3],++r;r=new H(u,0,null)}return k.call(this,l,
m,n,r)}function k(l,m,n,p){l=e.l(l,m,n);p=w(l)?Ld(a,p):l;return Pc(p)}g.F=3;g.C=function(l){var m=I(l);l=K(l);var n=I(l);l=K(l);var p=I(l);l=ac(l);return k(m,n,p,l)};g.s=k;return g}();e=function(g,k,l,m){switch(arguments.length){case 0:return!0;case 1:return d.call(this,g);case 2:return c.call(this,g,k);case 3:return b.call(this,g,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new H(p,0,null)}return f.s(g,k,l,n)}throw Error("Invalid arity: "+
arguments.length);};e.F=3;e.C=f.C;e.B=function(){return!0};e.c=d;e.g=c;e.l=b;e.s=f.s;return e}()}
function Td(a,b){return function(){function c(k,l,m){return Pc(function(){var n=a.c?a.c(k):a.call(null,k);return w(n)?(n=a.c?a.c(l):a.call(null,l),w(n)?(n=a.c?a.c(m):a.call(null,m),w(n)?(n=b.c?b.c(k):b.call(null,k),w(n)?(n=b.c?b.c(l):b.call(null,l),w(n)?b.c?b.c(m):b.call(null,m):n):n):n):n):n}())}function d(k,l){return Pc(function(){var m=a.c?a.c(k):a.call(null,k);return w(m)?(m=a.c?a.c(l):a.call(null,l),w(m)?(m=b.c?b.c(k):b.call(null,k),w(m)?b.c?b.c(l):b.call(null,l):m):m):m}())}function e(k){var l=
a.c?a.c(k):a.call(null,k);k=w(l)?b.c?b.c(k):b.call(null,k):l;return Pc(k)}var f=null,g=function(){function k(m,n,p,r){var u=null;if(3<arguments.length){u=0;for(var B=Array(arguments.length-3);u<B.length;)B[u]=arguments[u+3],++u;u=new H(B,0,null)}return l.call(this,m,n,p,u)}function l(m,n,p,r){return Pc(function(){var u=f.l(m,n,p);return w(u)?Ld(function(B){var D=a.c?a.c(B):a.call(null,B);return w(D)?b.c?b.c(B):b.call(null,B):D},r):u}())}k.F=3;k.C=function(m){var n=I(m);m=K(m);var p=I(m);m=K(m);var r=
I(m);m=ac(m);return l(n,p,r,m)};k.s=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return!0;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new H(r,0,null)}return g.s(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=g.C;f.B=function(){return!0};f.c=e;f.g=d;f.l=c;f.s=g.s;return f}()}
function Ud(){var a=Vd,b=Wd;return function(){function c(k,l,m){var n=a.c?a.c(k):a.call(null,k);if(w(n))return n;n=a.c?a.c(l):a.call(null,l);if(w(n))return n;n=a.c?a.c(m):a.call(null,m);if(w(n))return n;k=b.c?b.c(k):b.call(null,k);if(w(k))return k;l=b.c?b.c(l):b.call(null,l);return w(l)?l:b.c?b.c(m):b.call(null,m)}function d(k,l){var m=a.c?a.c(k):a.call(null,k);if(w(m))return m;m=a.c?a.c(l):a.call(null,l);if(w(m))return m;k=b.c?b.c(k):b.call(null,k);return w(k)?k:b.c?b.c(l):b.call(null,l)}function e(k){var l=
a.c?a.c(k):a.call(null,k);return w(l)?l:b.c?b.c(k):b.call(null,k)}var f=null,g=function(){function k(m,n,p,r){var u=null;if(3<arguments.length){u=0;for(var B=Array(arguments.length-3);u<B.length;)B[u]=arguments[u+3],++u;u=new H(B,0,null)}return l.call(this,m,n,p,u)}function l(m,n,p,r){m=f.l(m,n,p);return w(m)?m:Md(function(u){var B=a.c?a.c(u):a.call(null,u);return w(B)?B:b.c?b.c(u):b.call(null,u)},r)}k.F=3;k.C=function(m){var n=I(m);m=K(m);var p=I(m);m=K(m);var r=I(m);m=ac(m);return l(n,p,r,m)};k.s=
l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new H(r,0,null)}return g.s(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=g.C;f.B=function(){return null};f.c=e;f.g=d;f.l=c;f.s=g.s;return f}()}
var Xd=function Xd(a){switch(arguments.length){case 1:return Xd.c(arguments[0]);case 2:return Xd.g(arguments[0],arguments[1]);case 3:return Xd.l(arguments[0],arguments[1],arguments[2]);case 4:return Xd.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Xd.s(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Xd.c=function(a){return function(b){return function(){function c(k,l){l=a.c?a.c(l):a.call(null,l);return b.g?b.g(k,l):b.call(null,k,l)}function d(k){return b.c?b.c(k):b.call(null,k)}function e(){return b.B?b.B():b.call(null)}var f=null,g=function(){function k(m,n,p){var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new H(u,0,null)}return l.call(this,m,n,r)}function l(m,n,p){n=Fd(a,n,p);return b.g?b.g(m,n):b.call(null,m,n)}k.F=2;k.C=function(m){var n=
I(m);m=K(m);var p=I(m);m=ac(m);return l(n,p,m)};k.s=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new H(p,0,null)}return g.s(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.F=2;f.C=g.C;f.B=e;f.c=d;f.g=c;f.s=g.s;return f}()}};
Xd.g=function(a,b){return new od(null,function(){var c=G(b);if(c){if(Mc(c)){for(var d=Db(c),e=O(d),f=new qd(Array(e)),g=0;;)if(g<e)ud(f,function(){var k=Na(d,g);return a.c?a.c(k):a.call(null,k)}()),g+=1;else break;return td(f.chunk(),Xd.g(a,Eb(c)))}return Q(function(){var k=I(c);return a.c?a.c(k):a.call(null,k)}(),Xd.g(a,ac(c)))}return null},null)};
Xd.l=function(a,b,c){return new od(null,function(){var d=G(b),e=G(c);if(d&&e){var f=I(d);var g=I(e);f=a.g?a.g(f,g):a.call(null,f,g);d=Q(f,Xd.l(a,ac(d),ac(e)))}else d=null;return d},null)};Xd.I=function(a,b,c,d){return new od(null,function(){var e=G(b),f=G(c),g=G(d);if(e&&f&&g){var k=I(e);var l=I(f),m=I(g);k=a.l?a.l(k,l,m):a.call(null,k,l,m);e=Q(k,Xd.I(a,ac(e),ac(f),ac(g)))}else e=null;return e},null)};
Xd.s=function(a,b,c,d,e){return Xd.g(function(f){return T(a,f)},function k(g){return new od(null,function(){var l=Xd.g(G,g);return Ld(dd,l)?Q(Xd.g(I,l),k(Xd.g(ac,l))):null},null)}(wc.s(e,d,uc([c,b]))))};Xd.C=function(a){var b=I(a),c=K(a);a=I(c);var d=K(c);c=I(d);var e=K(d);d=I(e);e=K(e);return this.s(b,a,c,d,e)};Xd.F=4;function Yd(a,b){return new od(null,function(){if(0<a){var c=G(b);return c?Q(I(c),Yd(a-1,ac(c))):null}return null},null)}
function Zd(a,b){return new od(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=ac(d);else break a;return d},null)}var $d={};function ae(a,b,c,d,e){this.meta=a;this.f=b;this.sb=c;this.lb=d;this.next=e;this.j=26083532;this.A=1}h=ae.prototype;h.toString=function(){return Lb(this)};h.S=function(){return this.meta};h.ba=function(){return this.$(null)};h.V=function(){return J};
h.ca=function(a,b){a=this.W(null);var c=this.f.c?this.f.c(a):this.f.call(null,a);for(a=b.g?b.g(a,c):b.call(null,a,c);;){if(jc(a))return db(a);c=this.f.c?this.f.c(c):this.f.call(null,c);a=b.g?b.g(a,c):b.call(null,a,c)}};h.da=function(a,b,c){a=this.W(null);for(c=b.g?b.g(c,a):b.call(null,c,a);;){if(jc(c))return db(c);a=this.f.c?this.f.c(a):this.f.call(null,a);c=b.g?b.g(c,a):b.call(null,c,a)}};h.W=function(){$d===this.lb&&(this.lb=this.f.c?this.f.c(this.sb):this.f.call(null,this.sb));return this.lb};
h.$=function(){null==this.next&&(this.next=new ae(null,this.f,this.W(null),$d,null));return this.next};h.N=function(){return this};h.U=function(a,b){return b===this.meta?this:new ae(b,this.f,this.sb,this.lb,this.next)};h.X=function(a,b){return Q(b,this)};function be(a,b){return new ae(null,a,null,b,null)}function ce(a,b){return T(xd,Fd(Xd,a,b))}
function de(a,b){return new od(null,function(){var c=G(b);if(c){if(Mc(c)){for(var d=Db(c),e=O(d),f=new qd(Array(e)),g=0;;)if(g<e){var k=Na(d,g);k=a.c?a.c(k):a.call(null,k);w(k)&&(k=Na(d,g),f.add(k));g+=1}else break;return td(f.chunk(),de(a,Eb(c)))}d=I(c);c=ac(c);return w(a.c?a.c(d):a.call(null,d))?Q(d,de(a,c)):de(a,c)}return null},null)}function ee(a,b){return de(Nd(a),b)}
var fe=function fe(a){switch(arguments.length){case 0:return fe.B();case 1:return fe.c(arguments[0]);case 2:return fe.g(arguments[0],arguments[1]);case 3:return fe.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};fe.B=function(){return xc};fe.c=function(a){return a};fe.g=function(a,b){return null!=a?null!=a&&(a.A&4||t===a.Db)?gb(yb(Ca(xb,wb(a),b)),Gc(a)):Ca(La,a,b):Ca(wc,a,b)};
fe.l=function(a,b,c){return null!=a&&(a.A&4||t===a.Db)?gb(yb(ed(b,yd,wb(a),c)),Gc(a)):ed(b,wc,a,c)};fe.F=3;function ge(a,b,c){return new od(null,function(){var d=G(c);if(d){var e=Yd(a,d);return a===O(e)?Q(e,ge(a,b,Zd(b,d))):null}return null},null)}function he(a,b){this.H=a;this.h=b}function ie(a){return new he(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function je(a){return new he(a.H,Aa(a.h))}function ke(a){a=a.m;return 32>a?0:a-1>>>5<<5}function le(a,b,c){for(;;){if(0===b)return c;var d=ie(a);d.h[0]=c;c=d;b-=5}}var me=function me(a,b,c,d){var f=je(c),g=a.m-1>>>b&31;5===b?f.h[g]=d:(c=c.h[g],null!=c?(b-=5,a=me.I?me.I(a,b,c,d):me.call(null,a,b,c,d)):a=le(null,b-5,d),f.h[g]=a);return f};function ne(a,b){if(b>=ke(a))return a.ga;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.h[b>>>a&31];a=d}else return c.h}
function oe(a,b){if(0<=b&&b<a.m)b=ne(a,b);else throw a=a.m,Error(["No item ",z.c(b)," in vector of length ",z.c(a)].join(""));return b}
var pe=function pe(a,b,c,d,e){var g=je(c);if(0===b)g.h[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.h[k];a=pe.ia?pe.ia(a,b,c,d,e):pe.call(null,a,b,c,d,e);g.h[k]=a}return g},qe=function qe(a,b,c){var e=a.m-2>>>b&31;if(5<b){b-=5;var f=c.h[e];a=qe.l?qe.l(a,b,f):qe.call(null,a,b,f);if(null==a&&0===e)return null;c=je(c);c.h[e]=a;return c}if(0===e)return null;c=je(c);c.h[e]=null;return c};function re(a,b,c){this.base=this.i=0;this.h=a;this.Yb=b;this.start=0;this.end=c}re.prototype.ea=function(){return this.i<this.end};
re.prototype.next=function(){32===this.i-this.base&&(this.h=ne(this.Yb,this.i),this.base+=32);var a=this.h[this.i&31];this.i+=1;return a};function se(a,b,c,d){return c<d?te(a,b,qc(a,c),c+1,d):b.B?b.B():b.call(null)}function te(a,b,c,d,e){var f=c;c=d;for(d=ne(a,d);;)if(c<e){var g=c&31;d=0===g?ne(a,c):d;g=d[g];f=b.g?b.g(f,g):b.call(null,f,g);if(jc(f))return db(f);c+=1}else return f}
function U(a,b,c,d,e,f){this.meta=a;this.m=b;this.shift=c;this.root=d;this.ga=e;this.u=f;this.j=167666463;this.A=139268}h=U.prototype;h.Xa=function(a,b){return 0<=b&&b<this.m?new ue(b,ne(this,b)[b&31]):null};h.toString=function(){return Lb(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.ja=function(a,b){return this.K(null,b,null)};h.K=function(a,b,c){return"number"===typeof b?this.la(null,b,c):c};
h.jb=function(a,b,c){a=0;for(var d=c;;)if(a<this.m){var e=ne(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=f+a,k=e[f];d=b.l?b.l(d,g,k):b.call(null,d,g,k);if(jc(d)){e=d;break a}f+=1}else{e=d;break a}if(jc(e))return db(e);a+=c;d=e}else return d};h.M=function(a,b){return oe(this,b)[b&31]};h.la=function(a,b,c){return 0<=b&&b<this.m?ne(this,b)[b&31]:c};
h.rb=function(a,b){if(0<=a&&a<this.m){if(ke(this)<=a){var c=Aa(this.ga);c[a&31]=b;return new U(this.meta,this.m,this.shift,this.root,c,null)}return new U(this.meta,this.m,this.shift,pe(this,this.shift,this.root,a,b),this.ga,null)}if(a===this.m)return this.X(null,b);throw Error(["Index ",z.c(a)," out of bounds  [0,",z.c(this.m),"]"].join(""));};h.ma=function(){var a=this.m;return new re(0<O(this)?ne(this,0):null,this,a)};h.S=function(){return this.meta};h.Y=function(){return this.m};
h.Za=function(){return 0<this.m?this.M(null,this.m-1):null};h.$a=function(){if(0===this.m)throw Error("Can't pop empty vector");if(1===this.m)return gb(xc,this.meta);if(1<this.m-ke(this))return new U(this.meta,this.m-1,this.shift,this.root,this.ga.slice(0,-1),null);var a=ne(this,this.m-2),b=qe(this,this.shift,this.root);b=null==b?V:b;var c=this.m-1;return 5<this.shift&&null==b.h[1]?new U(this.meta,c,this.shift-5,b.h[0],a,null):new U(this.meta,c,this.shift,b,a,null)};
h.T=function(){var a=this.u;return null!=a?a:this.u=a=ec(this)};h.R=function(a,b){if(b instanceof U)if(this.m===O(b))for(a=this.ma(null),b=b.ma(null);;)if(a.ea()){var c=a.next(),d=b.next();if(!M.g(c,d))return!1}else return!0;else return!1;else return tc(this,b)};h.Ra=function(){return new ve(this.m,this.shift,we.c?we.c(this.root):we.call(null,this.root),xe.c?xe.c(this.ga):xe.call(null,this.ga))};h.V=function(){return gb(xc,this.meta)};h.ca=function(a,b){return se(this,b,0,this.m)};
h.da=function(a,b,c){a=0;for(var d=c;;)if(a<this.m){var e=ne(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=e[f];d=b.g?b.g(d,g):b.call(null,d,g);if(jc(d)){e=d;break a}f+=1}else{e=d;break a}if(jc(e))return db(e);a+=c;d=e}else return d};h.ua=function(a,b,c){if("number"===typeof b)return this.rb(b,c);throw Error("Vector's key for assoc must be a number.");};
h.N=function(){if(0===this.m)return null;if(32>=this.m)return new H(this.ga,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.h[0];else{a=a.h;break a}}return ye?ye(this,a,0,0):ze.call(null,this,a,0,0)};h.U=function(a,b){return b===this.meta?this:new U(b,this.m,this.shift,this.root,this.ga,this.u)};
h.X=function(a,b){if(32>this.m-ke(this)){a=this.ga.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.ga[d],d+=1;else break;c[a]=b;return new U(this.meta,this.m+1,this.shift,this.root,c,null)}a=(c=this.m>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=ie(null),c.h[0]=this.root,d=le(null,this.shift,new he(null,this.ga)),c.h[1]=d):c=me(this,this.shift,this.root,new he(null,this.ga));return new U(this.meta,this.m+1,a,c,[b],null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};h.c=function(a){return this.M(null,a)};h.g=function(a,b){return this.la(null,a,b)};
var V=new he(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),xc=new U(null,0,5,V,[],fc);U.prototype[za]=function(){return cc(this)};
function Ae(a){if(w(Be.c?Be.c(a):Be.call(null,a)))a=new U(null,2,5,V,[Ce.c?Ce.c(a):Ce.call(null,a),De.c?De.c(a):De.call(null,a)],null);else if(Lc(a))a=Fc(a,null);else if(va(a))a:{var b=a.length;if(32>b)a=new U(null,b,5,V,a,null);else for(var c=32,d=(new U(null,32,5,V,a.slice(0,32),null)).Ra(null);;)if(c<b){var e=c+1;d=yd.g(d,a[c]);c=e}else{a=yb(d);break a}}else a=yb(Ca(xb,wb(xc),a));return a}
function Ee(a,b,c,d,e){this.ka=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.u=null;this.j=32375020;this.A=1536}h=Ee.prototype;h.toString=function(){return Lb(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.meta};h.ba=function(){if(this.off+1<this.node.length){var a=this.ka;var b=this.node,c=this.i,d=this.off+1;a=ye?ye(a,b,c,d):ze.call(null,a,b,c,d);return null==a?null:a}return this.vb()};
h.T=function(){var a=this.u;return null!=a?a:this.u=a=ec(this)};h.R=function(a,b){return tc(this,b)};h.V=function(){return J};h.ca=function(a,b){return se(this.ka,b,this.i+this.off,O(this.ka))};h.da=function(a,b,c){return te(this.ka,b,c,this.i+this.off,O(this.ka))};h.W=function(){return this.node[this.off]};h.$=function(){if(this.off+1<this.node.length){var a=this.ka;var b=this.node,c=this.i,d=this.off+1;a=ye?ye(a,b,c,d):ze.call(null,a,b,c,d);return null==a?J:a}return this.ib(null)};h.N=function(){return this};
h.ob=function(){var a=this.node;return new rd(a,this.off,a.length)};h.ib=function(){var a=this.i+this.node.length;if(a<Ga(this.ka)){var b=this.ka,c=ne(this.ka,a);return ye?ye(b,c,a,0):ze.call(null,b,c,a,0)}return J};h.U=function(a,b){return b===this.meta?this:Fe?Fe(this.ka,this.node,this.i,this.off,b):ze.call(null,this.ka,this.node,this.i,this.off,b)};h.X=function(a,b){return Q(b,this)};
h.vb=function(){var a=this.i+this.node.length;if(a<Ga(this.ka)){var b=this.ka,c=ne(this.ka,a);return ye?ye(b,c,a,0):ze.call(null,b,c,a,0)}return null};Ee.prototype[za]=function(){return cc(this)};
function ze(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Ee(b,oe(b,c),c,d,null);case 4:return ye(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Fe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function ye(a,b,c,d){return new Ee(a,b,c,d,null)}function Fe(a,b,c,d,e){return new Ee(a,b,c,d,e)}
function Ge(a,b){return a===b.H?b:new he(a,Aa(b.h))}function we(a){return new he({},Aa(a.h))}function xe(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Nc(a,0,b,0,a.length);return b}var He=function He(a,b,c,d){c=Ge(a.root.H,c);var f=a.m-1>>>b&31;if(5===b)a=d;else{var g=c.h[f];null!=g?(b-=5,a=He.I?He.I(a,b,g,d):He.call(null,a,b,g,d)):a=le(a.root.H,b-5,d)}c.h[f]=a;return c};
function ve(a,b,c,d){this.m=a;this.shift=b;this.root=c;this.ga=d;this.A=88;this.j=275}h=ve.prototype;
h.Ta=function(a,b){if(this.root.H){if(32>this.m-ke(this))this.ga[this.m&31]=b;else{a=new he(this.root.H,this.ga);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.ga=c;this.m>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=le(this.root.H,this.shift,a),this.root=new he(this.root.H,b),this.shift=c):this.root=He(this,this.shift,this.root,a)}this.m+=1;return this}throw Error("conj! after persistent!");};h.ab=function(){if(this.root.H){this.root.H=null;var a=this.m-ke(this),b=Array(a);Nc(this.ga,0,b,0,a);return new U(null,this.m,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
h.Sa=function(a,b,c){if("number"===typeof b)return Ie(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Ie(a,b,c){if(a.root.H){if(0<=b&&b<a.m){if(ke(a)<=b)a.ga[b&31]=c;else{var d=function k(f,g){g=Ge(a.root.H,g);if(0===f)g.h[b&31]=c;else{var l=b>>>f&31;f=k(f-5,g.h[l]);g.h[l]=f}return g}(a.shift,a.root);a.root=d}return a}if(b===a.m)return a.Ta(null,c);throw Error(["Index ",z.c(b)," out of bounds for TransientVector of length",z.c(a.m)].join(""));}throw Error("assoc! after persistent!");}h.Y=function(){if(this.root.H)return this.m;throw Error("count after persistent!");};
h.M=function(a,b){if(this.root.H)return oe(this,b)[b&31];throw Error("nth after persistent!");};h.la=function(a,b,c){return 0<=b&&b<this.m?this.M(null,b):c};h.ja=function(a,b){return this.K(null,b,null)};h.K=function(a,b,c){if(this.root.H)return"number"===typeof b?this.la(null,b,c):c;throw Error("lookup after persistent!");};
h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};h.c=function(a){return this.ja(null,a)};h.g=function(a,b){return this.K(null,a,b)};function Je(){this.j=2097152;this.A=0}Je.prototype.R=function(){return!1};var Ke=new Je;
function Le(a,b){return Pc(Jc(b)&&!Kc(b)?O(a)===O(b)?(null!=a?a.j&1048576||t===a.ec||(a.j?0:x(kb,a)):x(kb,a))?cd(function(c,d,e){return M.g(C.l(b,d,Ke),e)?!0:new ic(!1)},!0,a):Ld(function(c){return M.g(C.l(b,I(c),Ke),I(K(c)))},a):null:null)}function Me(a){this.D=a}Me.prototype.next=function(){if(null!=this.D){var a=I(this.D),b=R(a,0,null);a=R(a,1,null);this.D=K(this.D);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Ne(a){this.D=a}
Ne.prototype.next=function(){if(null!=this.D){var a=I(this.D);this.D=K(this.D);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Bc(a,b){if(b instanceof E)a:{var c=a.length;b=b.na;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof E&&b===a[d].na){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Xb)a:for(c=a.length,b=b.str,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Xb&&b===a[d].str){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(M.g(b,a[d])){a=d;break a}d+=2}return a}function ue(a,b){this.key=a;this.O=b;this.u=null;this.j=166619935;this.A=0}h=ue.prototype;h.Xa=function(a,b){switch(b){case 0:return new ue(0,this.key);case 1:return new ue(1,this.O);default:return null}};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.ja=function(a,b){return this.la(null,b,null)};h.K=function(a,b,c){return this.la(null,b,c)};h.M=function(a,b){if(0===b)return this.key;if(1===b)return this.O;throw Error("Index out of bounds");};
h.la=function(a,b,c){return 0===b?this.key:1===b?this.O:c};h.rb=function(a,b){return(new U(null,2,5,V,[this.key,this.O],null)).rb(a,b)};h.S=function(){return null};h.Y=function(){return 2};h.Jb=function(){return this.key};h.Kb=function(){return this.O};h.Za=function(){return this.O};h.$a=function(){return new U(null,1,5,V,[this.key],null)};h.T=function(){var a=this.u;return null!=a?a:this.u=a=ec(this)};h.R=function(a,b){return tc(this,b)};h.V=function(){return null};
h.ca=function(a,b){a:if(a=this.Y(null),0===a)b=b.B?b.B():b.call(null);else for(var c=this.M(null,0),d=1;;)if(d<a){var e=this.M(null,d);c=b.g?b.g(c,e):b.call(null,c,e);if(jc(c)){b=db(c);break a}d+=1}else{b=c;break a}return b};h.da=function(a,b,c){a:{a=this.Y(null);var d=c;for(c=0;;)if(c<a){var e=this.M(null,c);d=b.g?b.g(d,e):b.call(null,d,e);if(jc(d)){b=db(d);break a}c+=1}else{b=d;break a}}return b};h.ua=function(a,b,c){return Ac.l(new U(null,2,5,V,[this.key,this.O],null),b,c)};
h.N=function(){return new H([this.key,this.O],0,null)};h.U=function(a,b){return Fc(new U(null,2,5,V,[this.key,this.O],null),b)};h.X=function(a,b){return new U(null,3,5,V,[this.key,this.O,b],null)};h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};
h.c=function(a){return this.M(null,a)};h.g=function(a,b){return this.la(null,a,b)};function Be(a){return null!=a?a.j&2048||t===a.ic?!0:!1:!1}function Oe(a,b,c){this.h=a;this.i=b;this.sa=c;this.j=32374990;this.A=0}h=Oe.prototype;h.toString=function(){return Lb(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.sa};h.ba=function(){return this.i<this.h.length-2?new Oe(this.h,this.i+2,null):null};h.Y=function(){return(this.h.length-this.i)/2};h.T=function(){return ec(this)};
h.R=function(a,b){return tc(this,b)};h.V=function(){return J};h.ca=function(a,b){return Yc(b,this)};h.da=function(a,b,c){return Zc(b,c,this)};h.W=function(){return new ue(this.h[this.i],this.h[this.i+1])};h.$=function(){return this.i<this.h.length-2?new Oe(this.h,this.i+2,null):J};h.N=function(){return this};h.U=function(a,b){return b===this.sa?this:new Oe(this.h,this.i,b)};h.X=function(a,b){return Q(b,this)};Oe.prototype[za]=function(){return cc(this)};
function Pe(a,b){this.h=a;this.i=0;this.m=b}Pe.prototype.ea=function(){return this.i<this.m};Pe.prototype.next=function(){var a=new ue(this.h[this.i],this.h[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.m=b;this.h=c;this.u=d;this.j=16647951;this.A=139268}h=v.prototype;h.Xa=function(a,b){a=Bc(this.h,b);return-1===a?null:new ue(this.h[a],this.h[a+1])};h.toString=function(){return Lb(this)};h.keys=function(){return cc(Qe.c?Qe.c(this):Qe.call(null,this))};h.entries=function(){return new Me(G(G(this)))};
h.values=function(){return cc(Re.c?Re.c(this):Re.call(null,this))};h.has=function(a){return Qc(this,a)};h.get=function(a,b){return this.K(null,a,b)};h.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.M(null,e),g=R(f,0,null);f=R(f,1,null);a.g?a.g(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Mc(b)?(c=Db(b),b=Eb(b),g=c,d=O(c),c=g):(c=I(b),g=R(c,0,null),f=R(c,1,null),a.g?a.g(f,g):a.call(null,f,g),b=K(b),c=null,d=0),e=0;else return null};h.ja=function(a,b){return this.K(null,b,null)};
h.K=function(a,b,c){a=Bc(this.h,b);return-1===a?c:this.h[a+1]};h.jb=function(a,b,c){a=this.h.length;for(var d=0;;)if(d<a){var e=this.h[d],f=this.h[d+1];c=b.l?b.l(c,e,f):b.call(null,c,e,f);if(jc(c))return db(c);d+=2}else return c};h.ma=function(){return new Pe(this.h,2*this.m)};h.S=function(){return this.meta};h.Y=function(){return this.m};h.T=function(){var a=this.u;return null!=a?a:this.u=a=gc(this)};
h.R=function(a,b){if(Jc(b)&&!Kc(b))if(a=this.h.length,this.m===b.Y(null))for(var c=0;;)if(c<a){var d=b.K(null,this.h[c],Oc);if(d!==Oc)if(M.g(this.h[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};h.Ra=function(){return new Se(this.h.length,Aa(this.h))};h.V=function(){return gb(Kd,this.meta)};h.ca=function(a,b){return $c(this,b)};h.da=function(a,b,c){return ad(this,b,c)};
h.qb=function(a,b){if(0<=Bc(this.h,b)){a=this.h.length;var c=a-2;if(0===c)return this.V(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.m-1,c,null);M.g(b,this.h[d])?d+=2:(c[e]=this.h[d],c[e+1]=this.h[d+1],e+=2,d+=2)}}else return this};
h.ua=function(a,b,c){a=Bc(this.h,b);if(-1===a){if(this.m<Te){a=this.h;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.m+1,e,null)}return gb(Ua(fe.g(Ue,this),b,c),this.meta)}if(c===this.h[a+1])return this;b=Aa(this.h);b[a+1]=c;return new v(this.meta,this.m,b,null)};h.N=function(){var a=this.h;return 0<=a.length-2?new Oe(a,0,null):null};h.U=function(a,b){return b===this.meta?this:new v(b,this.m,this.h,this.u)};
h.X=function(a,b){if(Lc(b))return this.ua(null,Na(b,0),Na(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=I(b);if(Lc(c))a=Ua(a,Na(c,0),Na(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};
h.c=function(a){return this.ja(null,a)};h.g=function(a,b){return this.K(null,a,b)};var Kd=new v(null,0,[],hc),Te=8;v.prototype[za]=function(){return cc(this)};function Se(a,b){this.Ua={};this.len=a;this.h=b;this.j=259;this.A=56}h=Se.prototype;h.Y=function(){if(this.Ua)return fd(this.len);throw Error("count after persistent!");};h.ja=function(a,b){return this.K(null,b,null)};h.K=function(a,b,c){if(this.Ua)return a=Bc(this.h,b),-1===a?c:this.h[a+1];throw Error("lookup after persistent!");};
h.Ta=function(a,b){if(this.Ua){if(Be(b))return this.Sa(null,Ce.c?Ce.c(b):Ce.call(null,b),De.c?De.c(b):De.call(null,b));if(Lc(b))return this.Sa(null,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));a=G(b);for(b=this;;){var c=I(a);if(w(c))a=K(a),b=zb(b,Ce.c?Ce.c(c):Ce.call(null,c),De.c?De.c(c):De.call(null,c));else return b}}else throw Error("conj! after persistent!");};h.ab=function(){if(this.Ua)return this.Ua=!1,new v(null,fd(this.len),this.h,null);throw Error("persistent! called twice");};
h.Sa=function(a,b,c){if(this.Ua){a=Bc(this.h,b);if(-1===a){if(this.len+2<=2*Te)return this.len+=2,this.h.push(b),this.h.push(c),this;a=Ve.g?Ve.g(this.len,this.h):Ve.call(null,this.len,this.h);return zb(a,b,c)}c!==this.h[a+1]&&(this.h[a+1]=c);return this}throw Error("assoc! after persistent!");};h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};
h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};h.c=function(a){return this.K(null,a,null)};h.g=function(a,b){return this.K(null,a,b)};function Ve(a,b){for(var c=wb(Ue),d=0;;)if(d<a)c=zb(c,b[d],b[d+1]),d+=2;else return c}function We(){this.O=!1}function Xe(a,b){return a===b?!0:a===b||a instanceof E&&b instanceof E&&a.na===b.na?!0:M.g(a,b)}function Ye(a,b,c){a=Aa(a);a[b]=c;return a}
function Ze(a,b){var c=Array(a.length-2);Nc(a,0,c,0,2*b);Nc(a,2*(b+1),c,2*b,c.length-2*b);return c}function $e(a,b,c,d){a=a.Ma(b);a.h[c]=d;return a}function af(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var g=a[e+1];c=b.l?b.l(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.gb(b,f):f;if(jc(c))return c;e+=2;f=c}else return f}function bf(a){this.h=a;this.i=0;this.ra=this.hb=null}
bf.prototype.advance=function(){for(var a=this.h.length;;)if(this.i<a){var b=this.h[this.i],c=this.h[this.i+1];null!=b?b=this.hb=new ue(b,c):null!=c?(b=Jb(c),b=b.ea()?this.ra=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};bf.prototype.ea=function(){var a=null!=this.hb;return a?a:(a=null!=this.ra)?a:this.advance()};
bf.prototype.next=function(){if(null!=this.hb){var a=this.hb;this.hb=null;return a}if(null!=this.ra)return a=this.ra.next(),this.ra.ea()||(this.ra=null),a;if(this.advance())return this.next();throw Error("No such element");};bf.prototype.remove=function(){return Error("Unsupported operation")};function cf(a,b,c){this.H=a;this.J=b;this.h=c;this.A=131072;this.j=0}h=cf.prototype;
h.Ma=function(a){if(a===this.H)return this;var b=gd(this.J),c=Array(0>b?4:2*(b+1));Nc(this.h,0,c,0,2*b);return new cf(a,this.J,c)};h.eb=function(){return df?df(this.h):ef.call(null,this.h)};h.gb=function(a,b){return af(this.h,a,b)};h.Na=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.J&e))return d;var f=gd(this.J&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.Na(a+5,b,c,d):Xe(c,e)?f:d};
h.pa=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),k=gd(this.J&g-1);if(0===(this.J&g)){var l=gd(this.J);if(2*l<this.h.length){a=this.Ma(a);b=a.h;f.O=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.J|=g;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=ff.pa(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.J>>>d&1)?
d+=1:(k[d]=null!=this.h[e]?ff.pa(a,b+5,Ub(this.h[e]),this.h[e],this.h[e+1],f):this.h[e+1],e+=2,d+=1);else break;return new gf(a,l+1,k)}b=Array(2*(l+4));Nc(this.h,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Nc(this.h,2*k,b,2*(k+1),2*(l-k));f.O=!0;a=this.Ma(a);a.h=b;a.J|=g;return a}l=this.h[2*k];g=this.h[2*k+1];if(null==l)return l=g.pa(a,b+5,c,d,e,f),l===g?this:$e(this,a,2*k+1,l);if(Xe(d,l))return e===g?this:$e(this,a,2*k+1,e);f.O=!0;f=b+5;d=hf?hf(a,f,l,g,c,d,e):jf.call(null,a,f,l,g,c,d,e);e=2*k;k=2*k+1;a=this.Ma(a);
a.h[e]=null;a.h[k]=d;return a};
h.oa=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=gd(this.J&f-1);if(0===(this.J&f)){var k=gd(this.J);if(16<=k){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=ff.oa(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.J>>>c&1)?c+=1:(g[c]=null!=this.h[d]?ff.oa(a+5,Ub(this.h[d]),this.h[d],this.h[d+1],e):this.h[d+1],d+=2,c+=1);else break;return new gf(null,k+1,g)}a=Array(2*(k+1));Nc(this.h,
0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;Nc(this.h,2*g,a,2*(g+1),2*(k-g));e.O=!0;return new cf(null,this.J|f,a)}var l=this.h[2*g];f=this.h[2*g+1];if(null==l)return k=f.oa(a+5,b,c,d,e),k===f?this:new cf(null,this.J,Ye(this.h,2*g+1,k));if(Xe(c,l))return d===f?this:new cf(null,this.J,Ye(this.h,2*g+1,d));e.O=!0;e=this.J;k=this.h;a+=5;a=kf?kf(a,l,f,b,c,d):jf.call(null,a,l,f,b,c,d);c=2*g;g=2*g+1;d=Aa(k);d[c]=null;d[g]=a;return new cf(null,e,d)};
h.cb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.J&e))return d;var f=gd(this.J&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.cb(a+5,b,c,d):Xe(c,e)?new ue(e,f):d};h.fb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.J&d))return this;var e=gd(this.J&d-1),f=this.h[2*e],g=this.h[2*e+1];return null==f?(a=g.fb(a+5,b,c),a===g?this:null!=a?new cf(null,this.J,Ye(this.h,2*e+1,a)):this.J===d?null:new cf(null,this.J^d,Ze(this.h,e))):Xe(c,f)?new cf(null,this.J^d,Ze(this.h,e)):this};h.ma=function(){return new bf(this.h)};
var ff=new cf(null,0,[]);function lf(a){this.h=a;this.i=0;this.ra=null}lf.prototype.ea=function(){for(var a=this.h.length;;){if(null!=this.ra&&this.ra.ea())return!0;if(this.i<a){var b=this.h[this.i];this.i+=1;null!=b&&(this.ra=Jb(b))}else return!1}};lf.prototype.next=function(){if(this.ea())return this.ra.next();throw Error("No such element");};lf.prototype.remove=function(){return Error("Unsupported operation")};function gf(a,b,c){this.H=a;this.m=b;this.h=c;this.A=131072;this.j=0}h=gf.prototype;
h.Ma=function(a){return a===this.H?this:new gf(a,this.m,Aa(this.h))};h.eb=function(){return mf?mf(this.h):nf.call(null,this.h)};h.gb=function(a,b){for(var c=this.h.length,d=0;;)if(d<c){var e=this.h[d];if(null!=e){b=e.gb(a,b);if(jc(b))return b;d+=1}else d+=1}else return b};h.Na=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.Na(a+5,b,c,d):d};
h.pa=function(a,b,c,d,e,f){var g=c>>>b&31,k=this.h[g];if(null==k)return a=$e(this,a,g,ff.pa(a,b+5,c,d,e,f)),a.m+=1,a;b=k.pa(a,b+5,c,d,e,f);return b===k?this:$e(this,a,g,b)};h.oa=function(a,b,c,d,e){var f=b>>>a&31,g=this.h[f];if(null==g)return new gf(null,this.m+1,Ye(this.h,f,ff.oa(a+5,b,c,d,e)));a=g.oa(a+5,b,c,d,e);return a===g?this:new gf(null,this.m,Ye(this.h,f,a))};h.cb=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.cb(a+5,b,c,d):d};
h.fb=function(a,b,c){var d=b>>>a&31,e=this.h[d];if(null!=e){a=e.fb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.m)a:{e=this.h;a=e.length;b=Array(2*(this.m-1));c=0;for(var f=1,g=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,g|=1<<c,c+=1):c+=1;else{d=new cf(null,g,b);break a}}else d=new gf(null,this.m-1,Ye(this.h,d,a));else d=new gf(null,this.m,Ye(this.h,d,a));return d}return this};h.ma=function(){return new lf(this.h)};
function of(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Xe(c,a[d]))return d;d+=2}else return-1}function pf(a,b,c,d){this.H=a;this.ta=b;this.m=c;this.h=d;this.A=131072;this.j=0}h=pf.prototype;h.Ma=function(a){if(a===this.H)return this;var b=Array(2*(this.m+1));Nc(this.h,0,b,0,2*this.m);return new pf(a,this.ta,this.m,b)};h.eb=function(){return df?df(this.h):ef.call(null,this.h)};h.gb=function(a,b){return af(this.h,a,b)};
h.Na=function(a,b,c,d){a=of(this.h,this.m,c);return 0>a?d:Xe(c,this.h[a])?this.h[a+1]:d};
h.pa=function(a,b,c,d,e,f){if(c===this.ta){b=of(this.h,this.m,d);if(-1===b){if(this.h.length>2*this.m)return b=2*this.m,c=2*this.m+1,a=this.Ma(a),a.h[b]=d,a.h[c]=e,f.O=!0,a.m+=1,a;c=this.h.length;b=Array(c+2);Nc(this.h,0,b,0,c);b[c]=d;b[c+1]=e;f.O=!0;d=this.m+1;a===this.H?(this.h=b,this.m=d,a=this):a=new pf(this.H,this.ta,d,b);return a}return this.h[b+1]===e?this:$e(this,a,b+1,e)}return(new cf(a,1<<(this.ta>>>b&31),[null,this,null,null])).pa(a,b,c,d,e,f)};
h.oa=function(a,b,c,d,e){return b===this.ta?(a=of(this.h,this.m,c),-1===a?(a=2*this.m,b=Array(a+2),Nc(this.h,0,b,0,a),b[a]=c,b[a+1]=d,e.O=!0,new pf(null,this.ta,this.m+1,b)):M.g(this.h[a+1],d)?this:new pf(null,this.ta,this.m,Ye(this.h,a+1,d))):(new cf(null,1<<(this.ta>>>a&31),[null,this])).oa(a,b,c,d,e)};h.cb=function(a,b,c,d){a=of(this.h,this.m,c);return 0>a?d:Xe(c,this.h[a])?new ue(this.h[a],this.h[a+1]):d};
h.fb=function(a,b,c){a=of(this.h,this.m,c);return-1===a?this:1===this.m?null:new pf(null,this.ta,this.m-1,Ze(this.h,fd(a)))};h.ma=function(){return new bf(this.h)};function jf(a){switch(arguments.length){case 6:return kf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return hf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}
function kf(a,b,c,d,e,f){var g=Ub(b);if(g===d)return new pf(null,g,2,[b,c,e,f]);var k=new We;return ff.oa(a,g,b,c,k).oa(a,d,e,f,k)}function hf(a,b,c,d,e,f,g){var k=Ub(c);if(k===e)return new pf(null,k,2,[c,d,f,g]);var l=new We;return ff.pa(a,b,k,c,d,l).pa(a,b,e,f,g,l)}function qf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.u=e;this.j=32374988;this.A=0}h=qf.prototype;h.toString=function(){return Lb(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.meta};h.ba=function(){if(null==this.D){var a=this.nodes,b=this.i+2;return rf?rf(a,b,null):ef.call(null,a,b,null)}a=this.nodes;b=this.i;var c=K(this.D);return rf?rf(a,b,c):ef.call(null,a,b,c)};
h.T=function(){var a=this.u;return null!=a?a:this.u=a=ec(this)};h.R=function(a,b){return tc(this,b)};h.V=function(){return J};h.ca=function(a,b){return Yc(b,this)};h.da=function(a,b,c){return Zc(b,c,this)};h.W=function(){return null==this.D?new ue(this.nodes[this.i],this.nodes[this.i+1]):I(this.D)};
h.$=function(){var a=this,b=null==a.D?function(){var c=a.nodes,d=a.i+2;return rf?rf(c,d,null):ef.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=K(a.D);return rf?rf(c,d,e):ef.call(null,c,d,e)}();return null!=b?b:J};h.N=function(){return this};h.U=function(a,b){return b===this.meta?this:new qf(b,this.nodes,this.i,this.D,this.u)};h.X=function(a,b){return Q(b,this)};qf.prototype[za]=function(){return cc(this)};
function ef(a){switch(arguments.length){case 1:return df(arguments[0]);case 3:return rf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function df(a){return rf(a,0,null)}function rf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new qf(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.eb(),w(d)))return new qf(null,a,b+2,d,null);b+=2}else return null;else return new qf(null,a,b,c,null)}
function sf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.u=e;this.j=32374988;this.A=0}h=sf.prototype;h.toString=function(){return Lb(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.meta};h.ba=function(){var a=this.nodes,b=this.i,c=K(this.D);return tf?tf(a,b,c):nf.call(null,a,b,c)};h.T=function(){var a=this.u;return null!=a?a:this.u=a=ec(this)};
h.R=function(a,b){return tc(this,b)};h.V=function(){return J};h.ca=function(a,b){return Yc(b,this)};h.da=function(a,b,c){return Zc(b,c,this)};h.W=function(){return I(this.D)};h.$=function(){var a=this.nodes;var b=this.i,c=K(this.D);a=tf?tf(a,b,c):nf.call(null,a,b,c);return null!=a?a:J};h.N=function(){return this};h.U=function(a,b){return b===this.meta?this:new sf(b,this.nodes,this.i,this.D,this.u)};h.X=function(a,b){return Q(b,this)};sf.prototype[za]=function(){return cc(this)};
function nf(a){switch(arguments.length){case 1:return mf(arguments[0]);case 3:return tf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function mf(a){return tf(a,0,null)}function tf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.eb(),w(d)))return new sf(null,a,b+1,d,null);b+=1}else return null;else return new sf(null,a,b,c,null)}function uf(a,b){this.aa=a;this.Ab=b;this.tb=!1}
uf.prototype.ea=function(){return!this.tb||this.Ab.ea()};uf.prototype.next=function(){if(this.tb)return this.Ab.next();this.tb=!0;return new ue(null,this.aa)};uf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c,d,e,f){this.meta=a;this.m=b;this.root=c;this.fa=d;this.aa=e;this.u=f;this.j=16123663;this.A=139268}h=vf.prototype;h.Xa=function(a,b){return null==b?this.fa?new ue(null,this.aa):null:null==this.root?null:this.root.cb(0,Ub(b),b,null)};h.toString=function(){return Lb(this)};
h.keys=function(){return cc(Qe.c?Qe.c(this):Qe.call(null,this))};h.entries=function(){return new Me(G(G(this)))};h.values=function(){return cc(Re.c?Re.c(this):Re.call(null,this))};h.has=function(a){return Qc(this,a)};h.get=function(a,b){return this.K(null,a,b)};
h.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.M(null,e),g=R(f,0,null);f=R(f,1,null);a.g?a.g(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Mc(b)?(c=Db(b),b=Eb(b),g=c,d=O(c),c=g):(c=I(b),g=R(c,0,null),f=R(c,1,null),a.g?a.g(f,g):a.call(null,f,g),b=K(b),c=null,d=0),e=0;else return null};h.ja=function(a,b){return this.K(null,b,null)};h.K=function(a,b,c){return null==b?this.fa?this.aa:c:null==this.root?c:this.root.Na(0,Ub(b),b,c)};
h.jb=function(a,b,c){a=this.fa?b.l?b.l(c,null,this.aa):b.call(null,c,null,this.aa):c;jc(a)?b=db(a):null!=this.root?(b=this.root.gb(b,a),b=jc(b)?kc.c?kc.c(b):kc.call(null,b):b):b=a;return b};h.ma=function(){var a=this.root?Jb(this.root):Id();return this.fa?new uf(this.aa,a):a};h.S=function(){return this.meta};h.Y=function(){return this.m};h.T=function(){var a=this.u;return null!=a?a:this.u=a=gc(this)};h.R=function(a,b){return Le(this,b)};h.Ra=function(){return new wf(this.root,this.m,this.fa,this.aa)};
h.V=function(){return gb(Ue,this.meta)};h.qb=function(a,b){if(null==b)return this.fa?new vf(this.meta,this.m-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.fb(0,Ub(b),b);return a===this.root?this:new vf(this.meta,this.m-1,a,this.fa,this.aa,null)};
h.ua=function(a,b,c){if(null==b)return this.fa&&c===this.aa?this:new vf(this.meta,this.fa?this.m:this.m+1,this.root,!0,c,null);a=new We;b=(null==this.root?ff:this.root).oa(0,Ub(b),b,c,a);return b===this.root?this:new vf(this.meta,a.O?this.m+1:this.m,b,this.fa,this.aa,null)};h.N=function(){if(0<this.m){var a=null!=this.root?this.root.eb():null;return this.fa?Q(new ue(null,this.aa),a):a}return null};h.U=function(a,b){return b===this.meta?this:new vf(b,this.m,this.root,this.fa,this.aa,this.u)};
h.X=function(a,b){if(Lc(b))return this.ua(null,Na(b,0),Na(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=I(b);if(Lc(c))a=Ua(a,Na(c,0),Na(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};
h.c=function(a){return this.ja(null,a)};h.g=function(a,b){return this.K(null,a,b)};var Ue=new vf(null,0,null,!1,null,hc);function xf(a,b){for(var c=a.length,d=0,e=wb(Ue);;)if(d<c){var f=d+1;e=zb(e,a[d],b[d]);d=f}else return yb(e)}vf.prototype[za]=function(){return cc(this)};function wf(a,b,c,d){this.H={};this.root=a;this.count=b;this.fa=c;this.aa=d;this.j=259;this.A=56}
function yf(a,b,c){if(a.H){if(null==b)a.aa!==c&&(a.aa=c),a.fa||(a.count+=1,a.fa=!0);else{var d=new We;b=(null==a.root?ff:a.root).pa(a.H,0,Ub(b),b,c,d);b!==a.root&&(a.root=b);d.O&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}h=wf.prototype;h.Y=function(){if(this.H)return this.count;throw Error("count after persistent!");};h.ja=function(a,b){return null==b?this.fa?this.aa:null:null==this.root?null:this.root.Na(0,Ub(b),b)};
h.K=function(a,b,c){return null==b?this.fa?this.aa:c:null==this.root?c:this.root.Na(0,Ub(b),b,c)};h.Ta=function(a,b){a:if(this.H)if(Be(b))a=yf(this,Ce.c?Ce.c(b):Ce.call(null,b),De.c?De.c(b):De.call(null,b));else if(Lc(b))a=yf(this,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));else for(a=G(b),b=this;;){var c=I(a);if(w(c))a=K(a),b=yf(b,Ce.c?Ce.c(c):Ce.call(null,c),De.c?De.c(c):De.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
h.ab=function(){if(this.H){this.H=null;var a=new vf(null,this.count,this.root,this.fa,this.aa,null)}else throw Error("persistent! called twice");return a};h.Sa=function(a,b,c){return yf(this,b,c)};h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};
h.c=function(a){return this.ja(null,a)};h.g=function(a,b){return this.K(null,a,b)};var X=function X(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return X.s(0<c.length?new H(c.slice(0),0,null):null)};X.s=function(a){for(var b=G(a),c=wb(Ue);;)if(b){a=K(K(b));var d=I(b);b=I(K(b));c=zb(c,d,b);b=a}else return yb(c)};X.F=0;X.C=function(a){return this.s(G(a))};function zf(a,b){this.G=a;this.sa=b;this.j=32374988;this.A=0}h=zf.prototype;h.toString=function(){return Lb(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.sa};h.ba=function(){var a=(null!=this.G?this.G.j&128||t===this.G.Ya||(this.G.j?0:x(Qa,this.G)):x(Qa,this.G))?this.G.ba():K(this.G);return null==a?null:new zf(a,null)};h.T=function(){return ec(this)};
h.R=function(a,b){return tc(this,b)};h.V=function(){return J};h.ca=function(a,b){return Yc(b,this)};h.da=function(a,b,c){return Zc(b,c,this)};h.W=function(){return this.G.W(null).key};h.$=function(){var a=(null!=this.G?this.G.j&128||t===this.G.Ya||(this.G.j?0:x(Qa,this.G)):x(Qa,this.G))?this.G.ba():K(this.G);return null!=a?new zf(a,null):J};h.N=function(){return this};h.U=function(a,b){return b===this.sa?this:new zf(this.G,b)};h.X=function(a,b){return Q(b,this)};zf.prototype[za]=function(){return cc(this)};
function Qe(a){return(a=G(a))?new zf(a,null):null}function Ce(a){return Ya(a)}function Af(a,b){this.G=a;this.sa=b;this.j=32374988;this.A=0}h=Af.prototype;h.toString=function(){return Lb(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();h.S=function(){return this.sa};h.ba=function(){var a=(null!=this.G?this.G.j&128||t===this.G.Ya||(this.G.j?0:x(Qa,this.G)):x(Qa,this.G))?this.G.ba():K(this.G);return null==a?null:new Af(a,null)};h.T=function(){return ec(this)};
h.R=function(a,b){return tc(this,b)};h.V=function(){return J};h.ca=function(a,b){return Yc(b,this)};h.da=function(a,b,c){return Zc(b,c,this)};h.W=function(){return this.G.W(null).O};h.$=function(){var a=(null!=this.G?this.G.j&128||t===this.G.Ya||(this.G.j?0:x(Qa,this.G)):x(Qa,this.G))?this.G.ba():K(this.G);return null!=a?new Af(a,null):J};h.N=function(){return this};h.U=function(a,b){return b===this.sa?this:new Af(this.G,b)};h.X=function(a,b){return Q(b,this)};Af.prototype[za]=function(){return cc(this)};
function Re(a){return(a=G(a))?new Af(a,null):null}function De(a){return Za(a)}function Bf(a){this.Va=a}Bf.prototype.ea=function(){return this.Va.ea()};Bf.prototype.next=function(){if(this.Va.ea())return this.Va.next().key;throw Error("No such element");};Bf.prototype.remove=function(){return Error("Unsupported operation")};function Cf(a,b,c){this.meta=a;this.va=b;this.u=c;this.j=15077647;this.A=139268}h=Cf.prototype;h.toString=function(){return Lb(this)};h.keys=function(){return cc(G(this))};
h.entries=function(){return new Ne(G(G(this)))};h.values=function(){return cc(G(this))};h.has=function(a){return Qc(this,a)};h.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.M(null,e),g=R(f,0,null);f=R(f,1,null);a.g?a.g(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Mc(b)?(c=Db(b),b=Eb(b),g=c,d=O(c),c=g):(c=I(b),g=R(c,0,null),f=R(c,1,null),a.g?a.g(f,g):a.call(null,f,g),b=K(b),c=null,d=0),e=0;else return null};h.ja=function(a,b){return this.K(null,b,null)};
h.K=function(a,b,c){a=Va(this.va,b);return w(a)?Ya(a):c};h.ma=function(){return new Bf(Jb(this.va))};h.S=function(){return this.meta};h.Y=function(){return Ga(this.va)};h.T=function(){var a=this.u;return null!=a?a:this.u=a=gc(this)};h.R=function(a,b){if(Hc(b))if(O(this)===O(b))try{return cd(function(c,d){return(c=Qc(b,d))?c:new ic(!1)},!0,this.va)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};h.Ra=function(){return new Df(wb(this.va))};h.V=function(){return gb(Ef,this.meta)};
h.N=function(){return Qe(this.va)};h.U=function(a,b){return b===this.meta?this:new Cf(b,this.va,this.u)};h.X=function(a,b){return new Cf(this.meta,Ac.l(this.va,b,null),null)};h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};h.c=function(a){return this.ja(null,a)};
h.g=function(a,b){return this.K(null,a,b)};var Ef=new Cf(null,Kd,hc);Cf.prototype[za]=function(){return cc(this)};function Df(a){this.Oa=a;this.A=136;this.j=259}h=Df.prototype;h.Ta=function(a,b){this.Oa=zb(this.Oa,b,null);return this};h.ab=function(){return new Cf(null,yb(this.Oa),null)};h.Y=function(){return O(this.Oa)};h.ja=function(a,b){return this.K(null,b,null)};h.K=function(a,b,c){return Sa(this.Oa,b,Oc)===Oc?c:b};
h.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};h.c=function(a){return Sa(this.Oa,a,Oc)===Oc?null:a};h.g=function(a,b){return Sa(this.Oa,a,Oc)===Oc?b:a};
function nd(a){if(null!=a&&(a.A&4096||t===a.Mb))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",z.c(a)].join(""));}function Ff(a,b){return new od(null,function(){var c=G(b);if(c){var d=I(c);d=a.c?a.c(d):a.call(null,d);c=w(d)?Q(I(c),Ff(a,ac(c))):null}else c=null;return c},null)}
function Gf(){var a=Hf;return function(){function b(k,l,m){return new U(null,2,5,V,[a.l?a.l(k,l,m):a.call(null,k,l,m),dd.l?dd.l(k,l,m):dd.call(null,k,l,m)],null)}function c(k,l){return new U(null,2,5,V,[a.g?a.g(k,l):a.call(null,k,l),dd.g?dd.g(k,l):dd.call(null,k,l)],null)}function d(k){return new U(null,2,5,V,[a.c?a.c(k):a.call(null,k),dd.c?dd.c(k):dd.call(null,k)],null)}function e(){return new U(null,2,5,V,[a.B?a.B():a.call(null),dd.B?dd.B():dd.call(null)],null)}var f=null,g=function(){function k(m,
n,p,r){var u=null;if(3<arguments.length){u=0;for(var B=Array(arguments.length-3);u<B.length;)B[u]=arguments[u+3],++u;u=new H(B,0,null)}return l.call(this,m,n,p,u)}function l(m,n,p,r){return new U(null,2,5,V,[Hd(a,m,n,p,r),Hd(dd,m,n,p,r)],null)}k.F=3;k.C=function(m){var n=I(m);m=K(m);var p=I(m);m=K(m);var r=I(m);m=ac(m);return l(n,p,r,m)};k.s=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);case 3:return b.call(this,
k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new H(r,0,null)}return g.s(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=g.C;f.B=e;f.c=d;f.g=c;f.l=b;f.s=g.s;return f}()}
var If=function If(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Ae(d);return Q(f,new od(null,function(){var g=e.length;g=d.index+(1>g?1:g);return g<=b.length?(g=b.substring(g),If.g?If.g(a,g):If.call(null,a,g)):null},null))};
function Jf(a,b,c,d,e,f,g){var k=na;na=null==na?null:na-1;try{if(null!=na&&0>na)return tb(a,"#");tb(a,c);if(0===ua.c(f))G(g)&&tb(a,function(){var u=Kf.c(f);return w(u)?u:"..."}());else{if(G(g)){var l=I(g);b.l?b.l(l,a,f):b.call(null,l,a,f)}for(var m=K(g),n=ua.c(f)-1;;)if(!m||null!=n&&0===n){G(m)&&0===n&&(tb(a,d),tb(a,function(){var u=Kf.c(f);return w(u)?u:"..."}()));break}else{tb(a,d);var p=I(m);c=a;g=f;b.l?b.l(p,c,g):b.call(null,p,c,g);var r=K(m);c=n-1;m=r;n=c}}return tb(a,e)}finally{na=k}}
function Lf(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.M(null,e);tb(a,f);e+=1}else if(b=G(b))c=b,Mc(c)?(b=Db(c),d=Eb(c),c=b,f=O(b),b=d,d=f):(f=I(c),tb(a,f),b=K(c),c=null,d=0),e=0;else return null}var Mf={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Nf(a){return['"',z.c(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Mf[b]})),'"'].join("")}function Of(a,b){return Pc(C.g(a,ra))?null!=b&&(b.j&131072||t===b.Lb)?null!=Gc(b):!1:!1}
function Pf(a,b,c){if(null==a)return tb(b,"nil");if(Of(c,a)){tb(b,"^");var d=Gc(a);Qf.l?Qf.l(d,b,c):Qf.call(null,d,b,c);tb(b," ")}if(a.zb)return a.Ub(b);if(null!=a?a.j&2147483648||t===a.Z||(a.j?0:x(ub,a)):x(ub,a))return vb(a,b,c);if(!0===a||!1===a)return tb(b,z.c(a));if("number"===typeof a)return tb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":z.c(a));if(null!=a&&a.constructor===Object)return tb(b,"#js "),d=Xd.g(function(f){var g=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;
if("string"===typeof f)g=g.exec(f),g=null!=g&&M.g(g[0],f)?1===g.length?g[0]:Ae(g):null;else throw new TypeError("re-matches must match against a string.");return new ue(null!=g?md.c(f):f,a[f])},ia(a)),Rf.I?Rf.I(d,Qf,b,c):Rf.call(null,d,Qf,b,c);if(va(a))return Jf(b,Qf,"#js ["," ","]",c,a);if("string"==typeof a)return w(qa.c(c))?tb(b,Nf(a)):tb(b,a);if("function"==q(a)){var e=a.name;c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Lf(b,uc(["#object[",c,w(!1)?[' "',
z.c(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,g){for(f=z.c(f);;)if(f.length<g)f=["0",f].join("");else return f},Lf(b,uc(['#inst "',z.c(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Lf(b,uc(['#"',a.source,'"']));if(Ea(a))return Lf(b,uc(["#object[",a.toString(),"]"]));if(w(function(){var f=null==
a?null:a.constructor;return null==f?null:f.kb}()))return Lf(b,uc(["#object[",a.constructor.kb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Lf(b,uc(["#object[",c,"]"])):Lf(b,uc(["#object[",c," ",z.c(a),"]"]))}function Qf(a,b,c){var d=Sf.c(c);return w(d)?(c=Ac.l(c,Tf,Pf),d.l?d.l(a,b,c):d.call(null,a,b,c)):Pf(a,b,c)}
function Uf(a,b){var c=new ja;a:{var d=new Kb(c);Qf(I(a),d,b);a=G(K(a));for(var e=null,f=0,g=0;;)if(g<f){var k=e.M(null,g);tb(d," ");Qf(k,d,b);g+=1}else if(a=G(a))e=a,Mc(e)?(a=Db(e),f=Eb(e),e=a,k=O(a),a=f,f=k):(k=I(e),tb(d," "),Qf(k,d,b),a=K(e),e=null,f=0),g=0;else break a}return c}function Vf(a){return a instanceof Xb?Yb.g(null,nd(a)):md.g(null,nd(a))}
function Wf(a){if(w(!1)){var b=G(a),c=G(b),d=I(c);K(c);R(d,0,null);R(d,1,null);c=null==a?null:null!=a&&(a.j&4||t===a.Eb)?a.V(null):(null!=a?a.j&4||t===a.Eb||(a.j?0:x(Ha,a)):x(Ha,a))?Ia(a):null;for(a=null;;){d=a;b=G(b);a=I(b);var e=K(b),f=a;a=R(f,0,null);b=R(f,1,null);if(w(f))if(a instanceof E||a instanceof Xb)if(w(d))if(M.g(d,ld(a)))c=Ac.l(c,Vf(a),b),a=d,b=e;else return null;else if(d=ld(a),w(d))c=Ac.l(c,Vf(a),b),a=d,b=e;else return null;else return null;else return new U(null,2,5,V,[d,c],null)}}else return null}
function Xf(a,b,c,d,e){return Jf(d,function(f,g,k){var l=Ya(f);c.l?c.l(l,g,k):c.call(null,l,g,k);tb(g," ");f=Za(f);return c.l?c.l(f,g,k):c.call(null,f,g,k)},[z.c(a),"{"].join(""),", ","}",e,G(b))}function Rf(a,b,c,d){var e=Jc(a)?Wf(a):null,f=R(e,0,null);e=R(e,1,null);return w(f)?Xf(["#:",z.c(f)].join(""),e,b,c,d):Xf(null,a,b,c,d)}H.prototype.Z=t;H.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};od.prototype.Z=t;od.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};
ue.prototype.Z=t;ue.prototype.P=function(a,b,c){return Jf(b,Qf,"["," ","]",c,this)};qf.prototype.Z=t;qf.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};Oe.prototype.Z=t;Oe.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};dc.prototype.Z=t;dc.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};Ee.prototype.Z=t;Ee.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};jd.prototype.Z=t;jd.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};
ae.prototype.Z=t;ae.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};vf.prototype.Z=t;vf.prototype.P=function(a,b,c){return Rf(this,Qf,b,c)};sf.prototype.Z=t;sf.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};Cf.prototype.Z=t;Cf.prototype.P=function(a,b,c){return Jf(b,Qf,"#{"," ","}",c,this)};sd.prototype.Z=t;sd.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};Pd.prototype.Z=t;
Pd.prototype.P=function(a,b,c){tb(b,"#object[cljs.core.Atom ");Qf(new v(null,1,[Yf,this.state],null),b,c);return tb(b,"]")};Af.prototype.Z=t;Af.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};U.prototype.Z=t;U.prototype.P=function(a,b,c){return Jf(b,Qf,"["," ","]",c,this)};id.prototype.Z=t;id.prototype.P=function(a,b){return tb(b,"()")};v.prototype.Z=t;v.prototype.P=function(a,b,c){return Rf(this,Qf,b,c)};zf.prototype.Z=t;
zf.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};yc.prototype.Z=t;yc.prototype.P=function(a,b,c){return Jf(b,Qf,"("," ",")",c,this)};Xb.prototype.Wa=t;Xb.prototype.Qa=function(a,b){if(b instanceof Xb)return Wb(this,b);throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};E.prototype.Wa=t;E.prototype.Qa=function(a,b){if(b instanceof E)return kd(this,b);throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};U.prototype.Wa=t;
U.prototype.Qa=function(a,b){if(Lc(b))return Sc(this,b);throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};ue.prototype.Wa=t;ue.prototype.Qa=function(a,b){if(Lc(b))return Sc(this,b);throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};function Zf(){}
function $f(a){if(null!=a&&null!=a.Gb)a=a.Gb(a);else{var b=$f[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=$f._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IEncodeJS.-clj-\x3ejs",a);}return a}function ag(a,b){(null!=a?t===a.Fb||(a.Vb?0:x(Zf,a)):x(Zf,a))?a=$f(a):"string"===typeof a||"number"===typeof a||a instanceof E||a instanceof Xb?a=b.c?b.c(a):b.call(null,a):(a=uc([a]),b=oa(),a=null==a||wa(G(a))?"":z.c(Uf(a,b)));return a}
var bg=function bg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return bg.s(arguments[0],1<c.length?new H(c.slice(1),0,null):null)};
bg.s=function(a,b){b=null!=b&&(b.j&64||t===b.v)?T(X,b):b;var c=C.l(b,cg,nd),d=function g(f){if(null==f)return null;if(null!=f?t===f.Fb||(f.Vb?0:x(Zf,f)):x(Zf,f))return $f(f);if(f instanceof E)return c.c?c.c(f):c.call(null,f);if(f instanceof Xb)return z.c(f);if(Jc(f)){var k={};f=G(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.M(null,n),r=R(p,0,null);p=R(p,1,null);r=ag(r,d);p=g(p);k[r]=p;n+=1}else if(f=G(f))Mc(f)?(m=Db(f),f=Eb(f),l=m,m=O(m)):(m=I(f),l=R(m,0,null),m=R(m,1,null),l=ag(l,d),m=g(m),k[l]=m,
f=K(f),l=null,m=0),n=0;else break;return k}if(null==f?0:null!=f?f.j&8||t===f.bc||(f.j?0:x(Ja,f)):x(Ja,f)){k=[];f=G(Xd.g(g,f));l=null;for(n=m=0;;)if(n<m)r=l.M(null,n),k.push(r),n+=1;else if(f=G(f))l=f,Mc(l)?(f=Db(l),n=Eb(l),l=f,m=O(f),f=n):(f=I(l),k.push(f),f=K(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};bg.F=1;bg.C=function(a){var b=I(a);a=K(a);return this.s(b,a)};var dg=new E(null,"cursorGroupBackward","cursorGroupBackward",-1004717331),eg=new E("cursor","mapped","cursor/mapped",1625530272),gg=new E(null,"slurp-forward","slurp-forward",-866284566),hg=new E(null,"selection-return","selection-return",267226206),ig=new E(null,"selectGroupForward","selectGroupForward",1344873433),jg=new E(null,"table","table",-564943036),Yf=new E(null,"val","val",128701612),kg=new E(null,"doc","doc",1913296891),lg=new E(null,"selectLineEnd","selectLineEnd",-1578526086),mg=new E(null,
"cursorDocStart","cursorDocStart",2008312830),ra=new E(null,"meta","meta",1499536964),ng=new E(null,"barf-backward","barf-backward",434854195),og=new E(null,"cursorPageDown","cursorPageDown",-1143253131),pg=new E(null,"mac","mac",-1879391650),qg=new E(null,"barf-forward","barf-forward",1278612337),rg=new E(null,"from","from",1815293044),sg=new E(null,"selectPageDown","selectPageDown",226562613),tg=new E(null,"deleteCharBackward","deleteCharBackward",-618312025),ug=new E(null,"cursorPageUp","cursorPageUp",
-716828715),vg=new E(null,"selectCharLeft","selectCharLeft",1894248154),wg=new E(null,"nav-left","nav-left",845947876),xg=new E(null,"start","start",-355208981),yg=new E(null,"cursorLineDown","cursorLineDown",180576864),zg=new E(null,"range","range",1639692286),Ag=new E(null,"selectDocEnd","selectDocEnd",496449813),Bg=new E(null,"cursor","cursor",1011937484),Cg=new E(null,"nav-right","nav-right",591041267),Dg=new E(null,"shift","shift",997140064),Jd=new Xb(null,"meta19719","meta19719",1333101962,
null),Sf=new E(null,"alt-impl","alt-impl",670969595),Eg=new E(null,"selectDocStart","selectDocStart",-217268371),Fg=new E(null,"deleteCharForward","deleteCharForward",823474956),Gg=new E(null,"deleteGroupBackward","deleteGroupBackward",616768113),Hg=new E(null,"selectLineUp","selectLineUp",-255594686),Ig=new E(null,"selectAll","selectAll",869127842),Jg=new E(null,"cursorDocEnd","cursorDocEnd",-1298653903),sa=new E(null,"dup","dup",556298533),Kg=new E(null,"cursorGroupForward","cursorGroupForward",
1231480632),Lg=new E(null,"nav-select-right","nav-select-right",-455278613),Mg=new E(null,"cellpadding","cellpadding",-1752450238),ua=new E(null,"print-length","print-length",1931866356),Ng=new E(null,"unwrap","unwrap",-1399175462),Og=new E(null,"selectLineDown","selectLineDown",1741100604),pa=new E(null,"flush-on-newline","flush-on-newline",-151457939),Pg=new E(null,"selectGroupBackward","selectGroupBackward",1569543117),Qg=new E(null,"nav-select-left","nav-select-left",-1033285138),Rg=new E(null,
"selection-grow","selection-grow",1627169352),Sg=new E(null,"cursorLineUp","cursorLineUp",-1375841219),Tg=new E(null,"selectCharRight","selectCharRight",1049825195),Ug=new E(null,"i","i",-1386841315),Y=new E(null,"key","key",-1516042587),Vg=new E(null,"tr","tr",-1424774646),Wg=new E(null,"selectLineBoundaryForward","selectLineBoundaryForward",904508598),Xg=new E(null,"to","to",192099007),Yg=new E(null,"b","b",1482224470),Zg=new E(null,"selectPageUp","selectPageUp",152840428),$g=new E(null,"splitLine",
"splitLine",-1338533189),ah=new E(null,"td","td",1479933353),bh=new E(null,"run","run",-1821166653),ch=new E(null,"cursorLineBoundaryForward","cursorLineBoundaryForward",-1283359997),dh=new E(null,"changes","changes",1492088),eh=new E(null,"cursorLineBoundaryBackward","cursorLineBoundaryBackward",1373049802),fh=new E(null,"kill","kill",-12335575),gh=new E(null,"div","div",1057191632),Tf=new E(null,"fallback-impl","fallback-impl",-1501286995),hh=new E(null,"insertNewlineAndIndent","insertNewlineAndIndent",
-542382007),ih=new E(null,"preventDefault","preventDefault",-1714933772),jh=new E(null,"pre","pre",2118456869),qa=new E(null,"readably","readably",1129599760),kh=new E(null,"deleteGroupForward","deleteGroupForward",596007091),lh=new E(null,"selectLineBoundaryBackward","selectLineBoundaryBackward",-1443564123),cg=new E(null,"keyword-fn","keyword-fn",-64566675),mh=new E(null,"cursorCharRight","cursorCharRight",-739900583),nh=new E(null,"transposeChars","transposeChars",1566260285),oh=new E(null,"cursorCharLeft",
"cursorCharLeft",-1572589780),ph=new E(null,"end","end",-268185958),qh=new E(null,"indent","indent",-148200125),rh=new E(null,"insert","insert",1286475395),sh=new E(null,"cursorLineStart","cursorLineStart",-1505072960),th=new E(null,"slurp-backward","slurp-backward",-1615745159),uh=new E(null,"undoSelection","undoSelection",628691449),vh=new E(null,"from-to","from-to",-640428401),wh=new E(null,"cursorLineEnd","cursorLineEnd",-234219178),xh=new E(null,"selectLineStart","selectLineStart",1211557745),
Kf=new E(null,"more-marker","more-marker",-14717935);var yh={},zh={},Ah=[];function Bh(a,b){var c=zh[a];if(void 0!==c)return c;try{Ah.push(a);var d=yh[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};yh[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,Bh,d,d.exports)}catch(g){throw console.warn("shadow-cljs - failed to load",a),g;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{Ah.pop()}return d.exports}Bh.cache={};Bh.resolve=function(a){return a};
function Ch(a){return Bh(a,{})};Ch(0);var Dh=Ch(1);var Eh=Ch(2);var Fh=Ch(5);var Gh=Ch(6);Ch(7);var Hh=Ch(8);var Ih=Ch(9);var Jh=Ch(10);var Kh=Ch(11);var Lh=Ch(12);Ch(14);var Mh=Ch(15);function Nh(a){return a instanceof E?nd(a):a};function Oh(a,b){var c=G(b);I(c);c=K(c);I(c);for(K(c);;){c=G(b);b=I(c);c=K(c);var d=I(c);c=K(c);a[Nh(b)]=d;if(c)b=c;else break}}var Ph=function Ph(a){switch(arguments.length){case 1:return Ph.c(arguments[0]);case 2:return Ph.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ph.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Ph.c=function(a){return a};
Ph.g=function(a,b){a=null!=a?a:{};if(null!=b)for(var c=G(ia(b)),d=null,e=0,f=0;;)if(f<e){var g=d.M(null,f);Oh(a,uc([g,b[Nh(g)]]));f+=1}else if(c=G(c))d=c,Mc(d)?(c=Db(d),f=Eb(d),d=c,e=O(c),c=f):(c=I(d),Oh(a,uc([c,b[Nh(c)]])),c=K(d),d=null,e=0),f=0;else break;return a};Ph.s=function(a,b,c){return Ca(Ph,Ph.g(a,b),c)};Ph.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};Ph.F=2;function Qh(){var a=/----/;a="/(?:)/"===z.c(a)?wc.g(Ae(Q("",Xd.g(z,G("# codemirror-clojure\n\nLive demo: https://nextjournal.github.io/codemirror.next-clojure/\n\ndev: `shadow-cljs watch app`\n\n----\n\nIn progress:\n\n\nNext:\n- [ ] Copy/paste (only first line copies to clipboard?)\n- [ ] \"Yank\" after kill (https://www.howtogeek.com/293850/how-to-use-macos-built-in-kill-and-yank-as-an-alternative-cut-and-paste/)\n- [ ] Ctrl-A \x3d\x3e move to beginning of line (first non-whitespace char)\n\n\nDone\n\n- [x] Expand/contract region\n- [x] Barf\n- [x] Slurp\n- [x] Format whitespace (necessary for commands like Slurp to behave nicely)\n- [x] Navigate left/right by sexp\n- [x] cannot 'indent-all', changes on one line don't affect measurements taken on subsequent lines\n- [x] operators are recognized (lists with symbol in 1st position)\n- [x] Unwrap current collection\n- [x] Kill (remove all children of current node starting on current line)\n- [x] GitHub Action to publish demo site to github.io\n- [x] indentation\n- [x] odd error recovery behaviour - a `#` token can't be deleted\n- [x] deletion\n")))),
""):Ae(z.c("# codemirror-clojure\n\nLive demo: https://nextjournal.github.io/codemirror.next-clojure/\n\ndev: `shadow-cljs watch app`\n\n----\n\nIn progress:\n\n\nNext:\n- [ ] Copy/paste (only first line copies to clipboard?)\n- [ ] \"Yank\" after kill (https://www.howtogeek.com/293850/how-to-use-macos-built-in-kill-and-yank-as-an-alternative-cut-and-paste/)\n- [ ] Ctrl-A \x3d\x3e move to beginning of line (first non-whitespace char)\n\n\nDone\n\n- [x] Expand/contract region\n- [x] Barf\n- [x] Slurp\n- [x] Format whitespace (necessary for commands like Slurp to behave nicely)\n- [x] Navigate left/right by sexp\n- [x] cannot 'indent-all', changes on one line don't affect measurements taken on subsequent lines\n- [x] operators are recognized (lists with symbol in 1st position)\n- [x] Unwrap current collection\n- [x] Kill (remove all children of current node starting on current line)\n- [x] GitHub Action to publish demo site to github.io\n- [x] indentation\n- [x] odd error recovery behaviour - a `#` token can't be deleted\n- [x] deletion\n").split(a));
if(1<O(a))a:for(;;)if(""===(null==a?null:ab(a)))a=null==a?null:bb(a);else break a;return a};var Rh=Ch(16);function Sh(a,b){b=0<b?b:0;a=a.doc.length;return b<a?b:a};function Th(a,b){return w(b.c?b.c(a):b.call(null,a))?a:null}function Uh(a,b){return a>b?{from:b,to:a}:{from:a,to:b}}function Vh(a,b){return w(b)?(a.dispatch(b),!0):!1}function Wh(a,b){return new v(null,2,[dh,new v(null,2,[rh,b,rg,a],null),Bg,a+b.length],null)}function Xh(a,b){return Yh(a,null,b)}
function Yh(a,b,c){return a.update(Ph.g(a.changeByRange(function(d){var e=c.c?c.c(d):c.call(null,d);if(null==e)e=null;else{e=Th(e,Jc);e=null!=e&&(e.j&64||t===e.v)?T(X,e):e;var f=C.g(e,eg),g=C.g(e,Bg),k=C.g(e,vh),l=C.g(e,zg);e=C.g(e,dh);e=w(e)?a.changes(bg(e)):null;w(f)?k=Eh.EditorSelection.cursor(e.mapPos(f)):w(g)?k=Eh.EditorSelection.cursor(g):w(k)?(f=k.c?k.c(0):k.call(null,0),k=k.c?k.c(1):k.call(null,1),k=Eh.EditorSelection.range(f,k)):k=w(l)?l:void 0;f={};w(e)&&(f.changes=e);w(k)&&(f.range=k);
e=f}return w(e)?e:{range:d}}),b))}function Zh(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return $h(arguments[0],arguments[1],2<b.length?new H(b.slice(2),0,null):null)}
function $h(a,b,c){c=R(c,0,null);c=null!=c&&(c.j&64||t===c.v)?T(X,c):c;var d=C.l(c,rg,0),e=C.g(c,Xg);c=a.doc.iterLines(0);for(var f=c.next(),g=[],k=d,l=1;;){var m=f,n=null!=m&&(m.j&64||t===m.v)?T(X,m):m,p=function(){var D=n;if(null!=D&&"done"in D)return D.done}(),r=function(){var D=n;if(null!=D&&"value"in D)return D.value}();if(w(function(){var D=p;return w(D)?D:d>e}()))return a.update({changes:a.changes(g)});f=c.next();m=function(){var D=b.l?b.l(k,r,l):b.call(null,k,r,l);if(w(D)){var F=g;F.push(D);
return F}return g}();var u=k+1+r.length,B=l+1;g=m;k=u;l=B}}
function ai(a,b){var c=new Pd(-1),d=a.doc;return a.changeByRange(function(e){var f=null!=e&&(e.j&64||t===e.v)?T(X,e):e;var g=null!=f&&"from"in f?f.from:void 0;var k=null!=f&&"to"in f?f.to:void 0;var l=null!=f&&"anchor"in f?f.anchor:void 0;var m=null!=f&&"head"in f?f.head:void 0;for(var n=[],p=d.lineAt(g);;){var r=p,u=null!=r&&(r.j&64||t===r.v)?T(X,r):r,B=function(){var F=u;if(null!=F&&"number"in F)return F.number}(),D=function(){var F=u;if(null!=F&&"to"in F)return F.to}();p.number>db(c)&&(Qd(c,B),
b.l?b.l(p,n,f):b.call(null,p,n,f));p=k>D?Th(d.lineAt(D+1),function(F,S,W,da){return function(ta){return ta.number>da}}(p,r,u,B,D,n,e,f,f,g,k,l,m,c,d)):!1;if(!w(p))return e=a.changes(n),{changes:n,range:Eh.EditorSelection.range(e.mapPos(l,1),e.mapPos(m,1))}}})}
function bi(a,b){var c=null!=a&&(a.j&64||t===a.v)?T(X,a):a;a=null!=c&&"state"in c?c.state:void 0;var d=null!=a&&(a.j&64||t===a.v)?T(X,a):a;var e=null!=d&&"doc"in d?d.doc:void 0;var f=null!=c&&"changes"in c?c.changes:void 0;a=null!=c&&"effects"in c?c.effects:void 0;var g=null!=c&&"selection"in c?c.selection:void 0;var k=new Pd(-1),l=[];f.iterChanges(function(p,r,u,B){p=e.lineAt(u);u=null!=p&&(p.j&64||t===p.v)?T(X,p):p;p=null!=u&&"number"in u?u.number:void 0;r=null!=u&&"to"in u?u.to:void 0;for(;;){p>
db(k)&&(Qd(k,p),b.g?b.g(u,l):b.call(null,u,l));if(B<=r)return null;var D=e.lineAt(r+1),F=D;if(w(w(F)?D.number>u.number:F))u=D;else return null}});var m=d.changes(l);if(G(l)){var n=function(){if(null!=c){var p={};"annotations"in c&&(p.annotations=c.annotations);"scrollIntoView"in c&&(p.scrollIntoView=c.scrollIntoView);"reconfigure"in c&&(p.reconfigure=c.reconfigure)}else p={};p=null!=p?p:{};p.changes=f.compose(m);return p}();g=w(g)?function(){var p=null!=n?n:{};p.selection=d.selection.map(m);return p}():
n;return w(a)?(g=null!=g?g:{},g.effects=Eh.StateEffect.mapEffects(a,m),g):g}return c}function ci(a){a=null!=a&&(a.j&64||t===a.v)?T(X,a):a;a=null!=a&&"selection"in a?a.selection:void 0;a=null!=a&&(a.j&64||t===a.v)?T(X,a):a;a=null!=a&&"ranges"in a?a.ranges:void 0;return!Ld(function(b){return b.empty},a)};var di=Rh.props.coll,ei=Rh.props.prefixColl,fi=Rh.props.prefixEdge,gi=Rh.props.prefixContainer,hi=Dh.NodeProp.closedBy,ii=Dh.NodeProp.openedBy,ji=Rh.props.sameEdge;function ki(a){return a.parent.childBefore(a.start)}function li(a){return a.parent.childAfter(a.end)}function mi(a){return a.type.prop(fi)}function ni(a){return a.type.prop(gi)}function Vd(a){return a.type.prop(hi)}function Wd(a){return a.type.prop(ii)}function oi(a){a=a.type;return a.prop(hi)||a.prop(ji)||a.prop(fi)}
function pi(a){return a.prop(ii)||a.prop(ji)}function qi(a){a=a.type.prop(Dh.NodeProp.closedBy);return null==a?null:a[0]}function ri(a){a=a.type.prop(Dh.NodeProp.openedBy);return null==a?null:a[0]}function si(a){return"String"===a.name}function ti(a){return"LineComment"===a.name}function ui(a){return a.type.prop(di)}
function vi(a){var b=null!=a&&(a.j&64||t===a.v)?T(X,a):a;a=null!=b&&"firstChild"in b?b.firstChild:void 0;b=null!=b&&"lastChild"in b?b.lastChild:void 0;var c=qi(a);return w(c)?M.g(c,b.name)&&!M.g(a.end,b.end):!0}var wi=function wi(a){var c=a.parent;return null==c?null:Q(c,new od(null,function(){return wi.c?wi.c(c):wi.call(null,c)},null))};function xi(a,b){return w(b.c?b.c(a):b.call(null,a))?a:Ca(function(c,d){return w(b.c?b.c(d):b.call(null,d))?new ic(d):null},null,wi(a))}
function yi(a,b,c){a:switch(c){case 1:var d=a.childAfter(b);break a;case -1:d=a.childBefore(b);break a;default:throw Error(["No matching clause: ",z.c(c)].join(""));}return null==d?null:Q(d,new od(null,function(){var e=yi;a:switch(c){case 1:var f=d.end;break a;case -1:f=d.start;break a;default:throw Error(["No matching clause: ",z.c(c)].join(""));}return e(a,f,c)},null))}function zi(a,b){return a.start===b.start&&a.end===b.end&&a.depth===b.depth}
function Ai(a){var b=a.name;return w(ui(a))?zi(li(a.firstChild),a.lastChild):M.g("String",b)?a.firstChild.end===a.lastChild.start:!1}function Bi(a){return new v(null,2,[rg,a.start,Xg,a.end],null)}function Ci(a,b){return Pc(a.depth<b.depth&&a.start<=b.start&&a.end>=b.end)}
function Di(a,b,c){var d=new Pd(xc);a.iterate({from:b,to:c,enter:function(e,f,g){w(e.prop(Dh.NodeProp.error))&&console.log(e,f,g);var k=(k=w(e.prop(Dh.NodeProp.top))?!1:w(e.prop(ei))?!1:w(e.prop(di))?!1:"Meta"===e.name?!1:!0)?k:e.prop(Dh.NodeProp.error);if(w(k))return Rd.l(d,wc,[e,f,g]),!1}});return db(d)}
function Ei(a,b){if(zi(a,b))return null;var c=Rc(b.start,a.start);switch(c){case 0:return Ci(b,a)?a.parent:Ci(a,b)?a.firstChild:null;case -1:if(Ci(a,b))return a.lastChild;b=ki(a);return w(b)?b:a.parent;case 1:if(Ci(a,b))return a.firstChild;b=li(a);return w(b)?b:a.parent;default:throw Error(["No matching clause: ",z.c(c)].join(""));}}function Fi(a,b){return Ff(dd,be(function(c){return Ei(c,b)},a))}function Gi(a){var b=ui(a);return w(b)?b:si(a)||"RegExp"===a.name}
function Hi(a){switch(arguments.length){case 1:return arguments[0].tree;case 2:return arguments[0].tree.resolve(arguments[1]);case 3:return arguments[0].tree.resolve(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}
function Ii(a,b,c){c=Uc(Rc,new U(null,2,5,V,[b,c],null));b=R(c,0,null);c=R(c,1,null);var d=Hi(a,b,1),e=Hi(a,c,-1);a=w(Gi(d))?d.start:b;b=w(Gi(e))?e.end:c;b=Ca(function(f,g){var k=R(f,0,null);f=R(f,1,null);return new U(null,2,5,V,[Ci(g,d)?g.start:k,Ci(g,e)?g.end:f],null)},new U(null,2,5,V,[a,b],null),Xd.g(function(f){var g=f.type;return g.prop(hi)||g.prop(ii)||g.prop(ji)||g.prop(ei)?f.parent:f},Fi(d,e)));a=R(b,0,null);b=R(b,1,null);return Eh.EditorSelection.range(a,b)}
function Hf(a){a=null!=a&&(a.j&64||t===a.v)?T(X,a):a;var b=null!=a&&"firstChild"in a?a.firstChild:void 0;var c=null!=a&&"lastChild"in a?a.lastChild:void 0;return{start:oi(b)?b.end:a.start,end:pi(c.type)?c.start:a.end}}function Ji(a){a=a.parent;if(null==a)return null;var b=Th(a,ni);return w(b)?b:Th(a.firstChild,mi)}function Ki(a,b){return[z.c(function(){var c=Ji(b);return null==c?null:a.doc.slice(c.start,c.end)}()),b.firstChild.name].join("")}function Li(a){return w(Ji(a))?a.parent:a};(function(a){if(Hc(a))return Fc(a,null);a=G(a);if(null==a)return Ef;if(a instanceof H&&0===a.i){a=a.h;for(var b=a.length,c=wb(Ef),d=0;;)if(d<b)xb(c,a[d]),d+=1;else break;return yb(c)}for(c=wb(Ef);;)if(null!=a)b=K(a),c=xb(c,A(a)),a=b;else return yb(c)})(Xd.g(function(a){return a.charCodeAt(0)},new U(null,4,5,V,[" ","n","r",","],null)));var Z=Ch(18);var Mi=Lh.indentNodeProp.add(function(a){var b=null!=a&&(a.j&64||t===a.v)?T(X,a):a;var c=null!=b&&"name"in b?b.name:void 0;return function(d){d=null!=d&&(d.j&64||t===d.v)?T(X,d):d;var e=null!=d&&"node"in d?d.node:void 0;if(M.g("Program",c))return 0;if(w(b.prop(di))){d=d.column(e.firstChild.end);if(M.g("List",e.name)){e=null==e?null:e.childAfter(e.firstChild.end);e=null==e?null:e.name;var f=new Cf(null,new v(null,2,["DefLike",null,"Operator",null],null),null);e=f.c?f.c(e):f.call(null,e)}else e=!1;
return w(e)?d+1:d}return-1}});function Ni(a,b){return Ca(function(c,d){d=d.g?d.g(a,b):d.call(null,a,b);return-1<d?new ic(d):c},-1,a.state.facet(Eh.EditorState.indentation))}function Oi(a){var b={};return new Eh.IndentContext(a,function(c){c=Nh(c);return null!=b&&c in b?b[c]:-1})}
function Pi(a,b,c){return Ca(function(d,e){var f=R(e,0,null),g=null!=f,k=g?f[0]:null;f=g?f[1]:null;g=R(e,1,null);var l=null!=g;e=l?g[2]:null;g=l?g[0]:null;k=g.prop(hi)||g.prop(fi)||k.prop(ii)||k.prop(ji)?0:1;switch(Rc(f-e,k)){case 0:return d;case 1:return d.push({from:0===k?e:e+1,to:f}),d;case -1:return d.push({from:e,insert:" "}),d;default:return d}},[],ge(2,1,Di(a.tree,c,b)))}
function Qi(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.M(null,e);a.push(f);e+=1}else if(b=G(b))c=b,Mc(c)?(b=Db(c),e=Eb(c),c=b,d=O(b),b=e):(b=I(c),a.push(b),b=K(c),c=null,d=0),e=0;else break;return a}
function Ri(a,b,c,d,e){var f=/^\s*/.exec(d)[0].length,g=function(){var k=Th(Ni(b,c),Nd(hd));if(null==k)return null;var l=Rc(k,f);switch(l){case 0:return null;case 1:return{from:c+f,insert:a.indentString(k-f)};case -1:return{from:c+k,to:c+f};default:throw Error(["No matching clause: ",z.c(l)].join(""));}}();d=w(!0)?Pi(a,c+f,c+O(d)):null;e=w(d)?Qi(e,d):e;w(g)&&e.push(g);return e}
function Si(a){var b=Oi(a);return ai(a,function(c,d){var e=null!=c&&(c.j&64||t===c.v)?T(X,c):c;c=null!=e&&"from"in e?e.from:void 0;e=null!=e&&"content"in e?e.content:void 0;return Ri(a,b,c,e,d)})}function Ti(a){var b=Oi(a);return Zh(a,function(c,d){return Ri(a,b,c,d,[])})};function Ui(){var a=Vi,b=new U(null,2,5,V,["",xc],null);a:{var c=If(/\||<[^>]*?>|[^<>|]+/,'(defn lezer-clojure\n  "This is a showcase for `lezer-clojure`, an grammar for Clojure/Script to\n  enable a decent editor experience in the browser."\n  {:added "0.1"}\n  [demo]\n  nil ;; nil\n  (+ 1 1.0 1/5 1E3 042 +042 -042) ;; numbers\n  :hi :hi/ho ::ho :*+!-_? :abc:def:ghi ;; keywords\n  true false ;; booleans\n  :hello #_ :ignored ;; ignore next form\n  #"[A-Z]" ;; regex\n  ^{:meta/data \'is-data} \'too\n  (if (test? \x3cdemo\x3e)\n    (inc demo)|\n    (dec demo)))\n  #\n    [ ]\n    #"a"\na b(c|)d e');
break a;throw new TypeError("re-seq must match against a string.");}c=Ca(function(d,e){var f=R(d,0,null);d=R(d,1,null);if(M.g(e,"|"))e=new U(null,2,5,V,[f,wc.g(d,Eh.EditorSelection.cursor(f.length))],null);else if(0==e.lastIndexOf("\x3c",0)){var g=V,k=O(e)-1;e=new U(null,2,5,g,[[f,e.substring(1,k)].join(""),wc.g(d,Eh.EditorSelection.range(f.length,f.length+(O(e)-2)))],null)}else e=new U(null,2,5,V,[[f,z.c(e)].join(""),d],null);return e},b,c);b=R(c,0,null);c=R(c,1,null);return Eh.EditorState.create({doc:b,
selection:G(c)?Eh.EditorSelection.create(Vc(c)):void 0,extensions:function(){var d=[Eh.EditorState.allowMultipleSelections.of(!0)];w(a)&&d.push(a);return d}()})};function Wi(a){return Md(function(b){return wa(b.empty)},a.ranges)}
var Xi=Eh.StateField.define({create:Od(J),update:function(a,b){b=null!=b&&(b.j&64||t===b.v)?T(X,b):b;var c=null!=b&&"state"in b?b.state:void 0;c=null!=c&&(c.j&64||t===c.v)?T(X,c):c;var d=null!=c&&"selection"in c?c.selection:void 0;b=null!=b&&"docChanged"in b?b.docChanged:void 0;return w(b)?J:wa(Wi(d))?new yc(null,d,null,1,null):w(function(){var e=null==a?null:I(K(a));return null==e?null:e.eq(d)}())?Zd(1,a):w(function(){var e=null==a?null:I(a);return null==e?null:e.eq(d)}())?a:wc.g(a,d)}});function Yi(a){return function(b){var c=null!=b&&(b.j&64||t===b.v)?T(X,b):b;b=null!=c&&"state"in c?c.state:void 0;c=null!=c&&"dispatch"in c?c.dispatch:void 0;b=a.c?a.c(b):a.call(null,b);null!=b&&(c.c?c.c(b):c.call(null,b));return!0}}
function Zi(a,b,c){var d=function(){var e=xi(Hi(a,b),function(g){var k=ui(g);return w(k)?k:(k=si(g))?k:g.type.prop(Dh.NodeProp.top)});e=null==e?null:yi(e,b,c);e=null==e?null:I(e);if(null==e)return null;a:switch(c){case -1:var f=xg;break a;case 1:f=ph;break a;default:throw Error(["No matching clause: ",z.c(c)].join(""));}f=Nh(f);if(null!=e&&f in e)return e[f]}();return w(d)?d:Sh(a,b+c)}
function $i(a){return function(b){return Xh(b,function(c){var d=null!=c&&(c.j&64||t===c.v)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[Bg,Zi(b,c,a)],null);else{c=Uh(c,e);b:switch(a){case -1:e=rg;break b;case 1:e=Xg;break b;default:throw Error(["No matching clause: ",z.c(a)].join(""));}e=Nh(e);c=null!=c&&e in c?c[e]:void 0;c=new v(null,1,[Bg,c],null)}return c})}}
function aj(a){return function(b){return Xh(b,function(c){var d=null!=c&&(c.j&64||t===c.v)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[zg,Ii(b,c,Zi(b,c,a))],null);else{a:switch(c=Uh(c,e),e=null!=c&&(c.j&64||t===c.v)?T(X,c):c,c=null!=e&&"from"in e?e.from:void 0,e=null!=e&&"to"in e?e.to:void 0,a){case 1:c=Ii(b,c,Zi(b,e,a));break a;case -1:c=Ii(b,Zi(b,c,a),e);break a;default:throw Error(["No matching clause: ",
z.c(a)].join(""));}c=new v(null,1,[zg,c],null)}return c})}}function bj(a,b){var c=function(){var g=Hi(a,b,-1);return null==g?null:Th(g,function(k){k=null!=k&&(k.j&64||t===k.v)?T(X,k):k;k=null!=k&&"end"in k?k.end:void 0;return M.g(b,k)})}(),d=function(){var g=Hi(a,b,1);return null==g?null:Th(g,function(k){k=null!=k&&(k.j&64||t===k.v)?T(X,k):k;k=null!=k&&"start"in k?k.start:void 0;return M.g(b,k)})}(),e=Hi(a,b);var f=Th(c,Td(xa,Nd(oi)));return w(f)?f:w(d)?d:w(c)?c:e}
function cj(a,b,c){a=bj(a,c);return I(de(function(d){var e=null!=d&&(d.j&64||t===d.v)?T(X,d):d;d=null!=e&&"start"in e?e.start:void 0;e=null!=e&&"end"in e?e.end:void 0;return d<=b&&e>=c&&!(d===b&&e===c)},Q(a,ce(Gf(),uc([wi(a)])))))}
function dj(a){return function(b){return Xh(b,function(c){var d=null!=c&&(c.j&64||t===c.v)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d)){var e=xi(Hi(b,c),Td(ui,function(g){a:switch(a){case 1:g=null==g?null:Li(g);g=null==g?null:li(g);g=null==g?null:Wd(g);break a;case -1:g=null==g?null:Li(g);g=null==g?null:ki(g);g=null==g?null:Vd(g);break a;default:throw Error(["No matching clause: ",z.c(a)].join(""));}return wa(g)}));if(w(e)){a:switch(a){case 1:var f=I(ee(ti,
Ff(dd,be(li,li(Li(e))))));break a;case -1:f=I(ee(ti,Ff(dd,be(ki,ki(Li(e))))));break a;default:throw Error(["No matching clause: ",z.c(a)].join(""));}return w(f)?new v(null,2,[eg,c,dh,function(){switch(a){case 1:var g=e.lastChild;return new U(null,2,5,V,[new v(null,2,[rg,f.end,rh,g.name],null),Ac.l(Bi(g),rh," ")],null);case -1:g=Ki(b,e);var k=Li(e).start;return new U(null,2,5,V,[new v(null,3,[rg,k,Xg,k+g.length,rh," "],null),new v(null,2,[rg,f.start,rh,g],null)],null);default:throw Error(["No matching clause: ",
z.c(a)].join(""));}}()],null):null}}return null})}}
function ej(a){return function(b){return Xh(b,function(c){c=null!=c&&(c.j&64||t===c.v)?T(X,c):c;var d=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;if(w(c)){var e=xi(Hi(b,d),ui);if(w(e))switch(a){case 1:c=function(){var l=e.lastChild;l=null==l?null:Ff(dd,be(ki,ki(l)));l=null==l?null:ee(ti,l);l=null==l?null:Zd(1,l);return null==l?null:I(l)}();if(w(c)){var f=c;return new v(null,2,[Bg,function(){var l=f.end;return l<d?l:d}(),dh,new U(null,2,5,V,[new v(null,2,[rg,f.end,rh,e.lastChild.name],
null),Ac.l(Bi(e.lastChild),rh," ")],null)],null)}return null;case -1:c=function(){var l=e.firstChild;l=null==l?null:Ff(dd,be(li,li(l)));l=null==l?null:ee(ti,l);l=null==l?null:Zd(1,l);return null==l?null:I(l)}();if(w(c)){var g=c,k=Ki(b,e);c=Li(e).start;return new v(null,2,[Bg,function(){var l=g.start+(k.length+1);return d>l?d:l}(),dh,new U(null,2,5,V,[new v(null,2,[rg,g.start,rh,[" ",k].join("")],null),new v(null,3,[rg,c,Xg,c+k.length,rh,b.indentString(k.length)],null)],null)],null)}return null;default:throw Error(["No matching clause: ",
z.c(a)].join(""));}else return null}else return null})}}
var fj=xf([sh,yg,Ig,Hg,ch,lh,tg,hh,eh,Tg,Zg,Fg,oh,dg,Eg,Pg,Jg,Gg,xh,kh,Ag,sg,og,ug,Wg,wh,Kg,mh,ig,lg,vg,$g,Og,nh,Sg,mg],[Z.cursorLineStart,Z.cursorLineDown,Z.selectAll,Z.selectLineUp,Z.cursorLineBoundaryForward,Z.selectLineBoundaryBackward,Z.deleteCharBackward,Z.insertNewlineAndIndent,Z.cursorLineBoundaryBackward,Z.selectCharRight,Z.selectPageUp,Z.deleteCharForward,Z.cursorCharLeft,Z.cursorGroupBackward,Z.selectDocStart,Z.selectGroupBackward,Z.cursorDocEnd,Z.deleteGroupBackward,Z.selectLineStart,
Z.deleteGroupForward,Z.selectDocEnd,Z.selectPageDown,Z.cursorPageDown,Z.cursorPageUp,Z.selectLineBoundaryForward,Z.cursorLineEnd,Z.cursorGroupForward,Z.cursorCharRight,Z.selectGroupForward,Z.selectLineEnd,Z.selectCharLeft,Z.splitLine,Z.selectLineDown,Z.transposeChars,Z.cursorLineUp,Z.cursorDocStart]),gj=xf([qh,wg,Rg,fh,gg,Lg,Qg,qg,ng,Cg,th,Ng,hg],[Yi(function(a){return ci(a)?a.update(Si(a)):Ti(a)}),Yi($i(-1)),Yi(function(a){return Xh(a,function(b){var c=null!=b&&(b.j&64||t===b.v)?T(X,b):b;var d=null!=
c&&"from"in c?c.from:void 0;var e=null!=c&&"to"in c?c.to:void 0;b=null!=c&&"empty"in c?c.empty:void 0;return w(b)?new v(null,1,[zg,function(){var f=bj(a,d);f=null==f?null:Ii(a,f.start,f.end);return w(f)?f:c}()],null):new v(null,1,[zg,function(){var f=cj(a,d,e);f=null==f?null:Eh.EditorSelection.range(f.start,f.end);return w(f)?f:c}()],null)})}),Yi(function(a){return Xh(a,function(b){var c=null!=b&&(b.j&64||t===b.v)?T(X,b):b;var d=null!=c&&"from"in c?c.from:void 0;b=null!=c&&"to"in c?c.to:void 0;c=
null!=c&&"empty"in c?c.empty:void 0;var e=w(c)?function(){var f=Hi(a,d),g=xi(f,function(m){var n=ui(m);return w(n)?n:(n=si(m))?n:m.type.prop(Dh.NodeProp.top)}),k=a.doc.lineAt(d).to,l=w(g)?yi(g,d,1):null;f=w(g)?function(){var m=null==l?null:Ff(Sd(function(n){return n.start<=k}),l);return null==m?null:vc(m)}():null;f=si(g)?function(){var m=z.c(a.doc.slice(g.start,g.end)).substring(d-g.start).indexOf("\n");return 0>m?g.end-1:d+m+1}():w(f)?Wd(f)?f.start:f.end:w(function(){var m=I(l);m=null==m?null:m.start;
return null==m?null:m>k}())?I(l).start:null;return w(f)?new v(null,2,[Bg,d,dh,new v(null,2,[rg,d,Xg,f],null)],null):null}():null;return w(e)?e:w(c)?null:new v(null,2,[Bg,d,dh,Uh(d,b)],null)})}),Yi(dj(1)),Yi(aj(1)),Yi(aj(-1)),Yi(ej(1)),Yi(ej(-1)),Yi($i(1)),Yi(dj(-1)),Yi(function(a){return Xh(a,function(b){var c=null!=b&&(b.j&64||t===b.v)?T(X,b):b;b=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;return w(c)?(c=Hi(a,b,-1),c=null==c?null:xi(c,ui),c=null==c?null:Th(c,vi),w(c)?
new v(null,2,[Bg,b-1,dh,new U(null,2,5,V,[Bi(c.firstChild),Bi(c.lastChild)],null)],null):null):null})}),Yi(function(a){var b=I(K(a.field(Xi)));return w(b)?a.update({selection:b}):Xh(a,function(c){return new v(null,1,[Bg,c.from],null)})})]),hj=function(a){return w(Md(dd,a))?bd(function(b,c){return wc.g(w(b)?b:Kd,c)},a):null}(uc([fj,gj]));cd(function(a,b,c){return Ac.l(a,c,b)},Kd,hj);function ij(a){var b=null!=a&&(a.j&64||t===a.v)?T(X,a):a;return w(M.g(1,b.selection.ranges.length)?function(){var c;if(c=null!=b)c="selection"in b;c=c?b.selection:void 0;c=null!=c&&"ranges"in c?c.ranges:void 0;c=null!=c&&0 in c?c[0]:void 0;var d=c.empty;return w(d)?M.g(0,c.from):d}():!1)?null:Yh(b,{annotations:Eh.Transaction.userEvent.of("delete")},function(c){var d=null!=c&&(c.j&64||t===c.v)?T(X,c):c;c=null!=d&&"empty"in d?d.empty:void 0;var e=null!=d&&"head"in d?d.head:void 0;d=null!=d&&"anchor"in
d?d.anchor:void 0;e=Uh(e,d);e=null!=e&&(e.j&64||t===e.v)?T(X,e):e;var f=null!=e&&"from"in e?e.from:void 0;if(wa(c))return new v(null,2,[Bg,f,dh,e],null);c=b.tree.resolve(f,-1);e=c.parent;c=w(w(e)?!vi(e):e)?null:pi(c.type)&&f===e.end?new v(null,1,[Bg,f-1],null):(Vd(c)||c.type.prop(ji))&&c.start===e.start?Ai(c.parent)?new v(null,2,[Bg,e.start,dh,new U(null,1,5,V,[Uh(e.start,e.end)],null)],null):new v(null,1,[Bg,f],null):w(function(){var g=Hi(b,f-1,-1);return null==g?null:Th(g,Td(function(k){return M.g(f-
1,k.end)},ti))}())?new v(null,1,[Bg,f-1],null):null;return w(c)?c:new v(null,2,[Bg,Sh(b,f-1),dh,Uh(Sh(b,f-1),f)],null)})}var jj=new v(null,4,'()[]{}""'.split(""),null);
function kj(a,b){var c=jj.c?jj.c(b):jj.call(null,b);return Xh(a,function(d){var e=null!=d&&(d.j&64||t===d.v)?T(X,d):d;var f=null!=e&&"from"in e?e.from:void 0;d=null!=e&&"head"in e?e.head:void 0;var g=null!=e&&"empty"in e?e.empty:void 0;wa(g)?(g=null!=e&&"to"in e?e.to:void 0,e=null!=e&&"anchor"in e?e.anchor:void 0,f=new v(null,2,[dh,new U(null,2,5,V,[new v(null,2,[rh,b,rg,f],null),new v(null,2,[rh,c,rg,g],null)],null),vh,new U(null,2,5,V,[e+b.length,d+b.length],null)],null)):f=w(M.g(b,'"')?xi(Hi(a,
f),si):!1)?Wh(d,'\\"'):null;return w(f)?f:new v(null,2,[dh,new v(null,2,[rh,[b,c].join(""),rg,d],null),Bg,d+b.length],null)})}
function lj(a,b){return Yh(a,{annotations:Eh.Transaction.userEvent.of("format-selections")},function(c){c=null!=c&&(c.j&64||t===c.v)?T(X,c):c;var d=null!=c&&"empty"in c?c.empty:void 0;var e=null!=c&&"head"in c?c.head:void 0;c=function(){var f=function(){var l=Hi(a,e,-1);l=null==l?null:wi(l);l=null==l?null:de(Td(ui,Nd(vi)),l);return null==l?null:I(l)}(),g=function(){var l=null==f?null:f.firstChild;return null==l?null:qi(l)}(),k=null==f?null:f.end;return w(w(g)?M.g(g,b):g)?new v(null,2,[dh,new v(null,
2,[rg,k,rh,g],null),Bg,k+1],null):null}();if(w(c))return c;c=function(){var f=function(){return w(d)?Hi(a).iterate({from:e+1,enter:function(g,k,l){if(pi(g))return l}}):d}();return w(f)?new v(null,1,[Bg,f],null):null}();return w(c)?c:Wh(e,b)})};var mj=Gh.EditorView.baseTheme({matchingBracket:{color:"#0b0"},nonmatchingBracket:{color:"#a22"}}),nj=Gh.Decoration.mark({"class":Gh.themeClass("matchingBracket")}),oj=Gh.Decoration.mark({"class":Gh.themeClass("nonmatchingBracket")});function pj(a,b){return b.range(a.start,a.end)}
var qj=Eh.StateField.define({create:Od(Gh.Decoration.none),update:function(a,b){var c=null!=b&&(b.j&64||t===b.v)?T(X,b):b;var d=null!=c&&"state"in c?c.state:void 0;b=null!=c&&"docChanged"in c?c.docChanged:void 0;var e=null!=c&&"selection"in c?c.selection:void 0;return w(w(b)?b:e)?(a=Ca(function(f,g){g=null!=g&&(g.j&64||t===g.v)?T(X,g):g;var k=null!=g&&"head"in g?g.head:void 0;var l=null!=g&&"empty"in g?g.empty:void 0;g=function(){var m=w(l)?I(de(Ud(),new U(null,2,5,V,[Hi(d,k,-1),Hi(d,k,1)],null))):
l;if(w(m)){var n=Vd(m)&&M.g(m.start,m.parent.start)?Th(m.parent.lastChild,function(p){return M.g(p.name,qi(m))}):Wd(m)&&M.g(m.end,m.parent.end)?Th(m.parent.firstChild,function(p){return M.g(p.name,ri(m))}):null;return w(n)?wc.s(f,pj(m,nj),uc([pj(n,nj)])):wc.g(f,pj(m,oj))}return null}();if(w(g))return g;g=function(){if(wa(xi(Hi(d,k),si))){var m=c.state.doc.slice(k,k+1).toString();var n=new Cf(null,new v(null,3,[")",null,"]",null,"}",null],null),null);m=n.c?n.c(m):n.call(null,m)}else m=!1;return w(m)?
wc.g(f,pj({start:k,end:k+1},oj)):null}();return w(g)?g:f},xc,c.state.selection.ranges),Gh.Decoration.set(Ba(a),!0)):a},provide:[Gh.EditorView.decorations]});function rj(a){return cd(function(b,c,d){var e=C.g(b,c);return null==e?Cc.g(b,c):Ac.l(b,c,d.c?d.c(e):d.call(null,e))},a,new v(null,2,[bh,hj,Dg,hj],null))}function sj(a){return bg(cd(function(b,c,d){return fe.g(b,Xd.g(function(e){return rj(Ac.l(e,bh,c))},d))},xc,a))}
var tj=xf([yg,Ig,ch,tg,hh,eh,Fg,oh,dg,Jg,Gg,kh,og,ug,wh,Kg,uh,mh,$g,nh,Sg,mg],[new U(null,2,5,V,[new v(null,2,[Y,"ArrowDown",Dg,Og],null),new v(null,2,[pg,"Ctrl-n",Dg,Og],null)],null),new U(null,1,5,V,[new v(null,1,[Y,"Mod-a"],null)],null),new U(null,1,5,V,[new v(null,2,[Y,"End",Dg,Wg],null)],null),new U(null,2,5,V,[new v(null,1,[Y,"Backspace"],null),new v(null,1,[pg,"Ctrl-h"],null)],null),new U(null,1,5,V,[new v(null,1,[Y,"Enter"],null)],null),new U(null,2,5,V,[new v(null,3,[Y,"Home",Dg,lh,pg,"Ctrl-a"],
null),new v(null,2,[pg,"Cmd-ArrowLeft",Dg,lh],null)],null),new U(null,2,5,V,[new v(null,1,[Y,"Delete"],null),new v(null,1,[pg,"Ctrl-d"],null)],null),new U(null,2,5,V,[new v(null,2,[Y,"ArrowLeft",Dg,vg],null),new v(null,2,[pg,"Ctrl-b",Dg,vg],null)],null),new U(null,1,5,V,[new v(null,2,[pg,"Alt-b",Dg,Pg],null)],null),new U(null,3,5,V,[new v(null,2,[pg,"Cmd-ArrowDown",Dg,Ag],null),new v(null,2,[Y,"Mod-End",Dg,Ag],null),new v(null,1,[pg,"Alt-\x3e"],null)],null),new U(null,2,5,V,[new v(null,2,[Y,"Mod-Backspace",
pg,"Ctrl-Alt-Backspace"],null),new v(null,1,[pg,"Ctrl-Alt-h"],null)],null),new U(null,3,5,V,[new v(null,2,[Y,"Mod-Delete",pg,"Alt-Backspace"],null),new v(null,1,[pg,"Alt-Delete"],null),new v(null,1,[pg,"Alt-d"],null)],null),new U(null,3,5,V,[new v(null,2,[pg,"Ctrl-ArrowDown",Dg,sg],null),new v(null,2,[Y,"PageDown",Dg,sg],null),new v(null,1,[pg,"Ctrl-v"],null)],null),new U(null,3,5,V,[new v(null,2,[pg,"Ctrl-ArrowUp",Dg,Zg],null),new v(null,2,[Y,"PageUp",Dg,Zg],null),new v(null,1,[pg,"Alt-v"],null)],
null),new U(null,2,5,V,[new v(null,1,[pg,"Cmd-ArrowRight"],null),new v(null,2,[pg,"Ctrl-e",Dg,lg],null)],null),new U(null,1,5,V,[new v(null,2,[pg,"Alt-f",Dg,ig],null)],null),new U(null,1,5,V,[new v(null,2,[Y,"Mod-u",ih,!0],null)],null),new U(null,2,5,V,[new v(null,2,[Y,"ArrowRight",Dg,Tg],null),new v(null,2,[pg,"Ctrl-f",Dg,Tg],null)],null),new U(null,1,5,V,[new v(null,1,[pg,"Ctrl-o"],null)],null),new U(null,1,5,V,[new v(null,1,[pg,"Ctrl-t"],null)],null),new U(null,2,5,V,[new v(null,2,[Y,"ArrowUp",
Dg,Hg],null),new v(null,2,[pg,"Ctrl-p",Dg,Hg],null)],null),new U(null,3,5,V,[new v(null,2,[pg,"Cmd-ArrowUp",Dg,Eg],null),new v(null,2,[Y,"Mod-Home",Dg,Eg],null),new v(null,1,[pg,"Alt-\x3c"],null)],null)]),Xc=xf([qh,wg,Rg,fh,gg,qg,ng,Cg,th,Ng,hg],[new U(null,1,5,V,[new v(null,2,[Y,"Tab",kg,"Indent document (or selection)"],null)],null),new U(null,1,5,V,[new v(null,4,[Y,"Alt-ArrowLeft",Dg,Qg,kg,"Move cursor one unit to the left (shift: selects this region)",ih,!0],null)],null),new U(null,2,5,V,[new v(null,
2,[kg,"Grow selections",Y,"Alt-ArrowUp"],null),new v(null,1,[Y,"Mod-1"],null)],null),new U(null,1,5,V,[new v(null,3,[Y,"Ctrl-k",kg,"Remove all forms from cursor to end of line",ih,!0],null)],null),new U(null,2,5,V,[new v(null,3,[Y,"Ctrl-ArrowRight",kg,"Expand collection to include form to the right",ih,!0],null),new v(null,2,[Y,"Mod-Shift-k",ih,!0],null)],null),new U(null,2,5,V,[new v(null,3,[Y,"Ctrl-ArrowLeft",kg,"Shrink collection forwards by one form",ih,!0],null),new v(null,2,[Y,"Mod-Shift-j",
ih,!0],null)],null),new U(null,1,5,V,[new v(null,2,[kg,"Shrink collection backwards by one form",Y,"Ctrl-Alt-ArrowRight"],null)],null),new U(null,1,5,V,[new v(null,4,[Y,"Alt-ArrowRight",Dg,Lg,kg,"Move cursor one unit to the right (shift: selects this region)",ih,!0],null)],null),new U(null,1,5,V,[new v(null,3,[kg,"Grow collection backwards by one form",Y,"Ctrl-Alt-ArrowLeft",ih,!0],null)],null),new U(null,1,5,V,[new v(null,3,[Y,"Alt-s",kg,"Lift contents of collection into parent",ih,!0],null)],null),
new U(null,2,5,V,[new v(null,2,[kg,"Shrink selections",Y,"Alt-ArrowDown"],null),new v(null,1,[Y,"Mod-2"],null)],null)]),uj=sj(tj),vj=sj(Xc).concat(uj);var wj=[Lh.LezerSyntax.define(Rh.parser.withProps(Mi,Lh.foldNodeProp.add(function(){function a(b){return{from:b.start+1,to:b.end-1}}return{Vector:a,Map:a,List:a}}()),Jh.styleTags({LineComment:"lineComment","VarName/Symbol":"variableName definition",Boolean:"atom",Keyword:"atom",Number:"number",DocString:"+emphasis",RegExp:"regexp",Discard:"!comment","Operator/Symbol":"keyword",String:"string",DefLike:"keyword",Nil:"null"})),{languageData:{commentTokens:{line:";;"}}}),Gh.EditorView.domEventHandlers({keydown:function(a,
b){var c=null!=a&&(a.j&64||t===a.v)?T(X,a):a;var d=null!=c&&"metaKey"in c?c.metaKey:void 0;var e=null!=c&&"ctrlKey"in c?c.ctrlKey:void 0;var f=null!=c&&"keyCode"in c?c.keyCode:void 0;b=null!=b&&(b.j&64||t===b.v)?T(X,b):b;a=null!=b&&"state"in b?b.state:void 0;if(w(w(d)?d:e))return!1;if(8===f)return Vh(b,ij(a));c=Fh.keyName(c);w(jj.c?jj.c(c):jj.call(null,c))?a=kj(a,c):(d=new Cf(null,new v(null,4,['"',null,")",null,"]",null,"}",null],null),null),d=d.c?d.c(c):d.call(null,c),a=w(d)?lj(a,c):null);return Vh(b,
a)}}),[mj,qj],Xi,Eh.EditorState.transactionFilter.of(function(a){var b=a.annotation(Eh.Transaction.userEvent),c=function(){switch(b){case "input":case "delete":case "keyboardselection":case "keyboarselection":case "pointerselection":case "cut":return null;case "format-selections":return Si(a.state);default:var d=a.state,e=Oi(d);return bi(a,function(f,g){return Ri(d,e,f.from,f.content,g)})}}();return w(c)?a.startState.update(function(){var d=null!=c?c:{};d.filter=!1;return d}()):a})];Mh.buildParser('@external prop prefixColl from "./props"\n@external prop coll from "./props"\n@external prop prefixEdge from "./props"\n@external prop sameEdge from "./props"\n@external prop prefixContainer from "./props"\n\n@top[name\x3dProgram] { expression* }\n\n@skip { whitespace | LineComment | Discard }\nexpression { Constructor | Boolean | Nil | Deref | Quote | SyntaxQuote | Unquote | UnquoteSplice | Symbol | Number | Keyword | List | Vector | Map | String | Character | Set | NamespacedMap | RegExp | Var | ReaderConditional | DataLiteral | SymbolicValue | AnonymousFunction | Meta\x3cexpression\x3e }\nDiscard { "#_" expression }\n@precedence { docString @left, operator @left, meta @right, prefixLiteral @right }\n\nlistContents {\n   defList { defLikeWithMeta varNameWithMeta (DocString expression+ | expression+)? } |\n   anyList { operatorWithMeta? expression* }\n }\n\nDocString { !docString String }\nList[coll] { "(" listContents ")" }\nVector[coll] { "[" expression* "]" }\nMap[coll] { "{" expression* "}" }\nVarName { Symbol }\n\n@skip {} {\n  dataLiteral { "#" ident }\n  DataLiteral { dataLiteral }\n  SymbolicValue { "##" simpleIdent }\n  Set[prefixColl] { "#" Map }\n  AnonymousFunction[prefixColl] { "#" List }\n\n  KeywordPrefix[prefixEdge] { "#" keyword }\n  NamespacedMap[prefixColl] { KeywordPrefix Map }\n\n  ConstructorPrefix[prefixEdge] { !prefixLiteral  dataLiteral }\n  Constructor[prefixColl] { ConstructorPrefix (Vector | Map) }\n\n  RegExp[prefixColl] { "#" String }\n  Var[prefixColl] { "#\'" Symbol }\n  ReaderConditional[prefixColl] { "#?" (List | Deref) }\n  ReaderMetadata[prefixColl] { "#^" expression }\n  Metadata[prefixColl] { "^" expression }\n  String { \'"\' StringContent? \'"\' }\n}\n\nMeta[prefixContainer]\x3ct\x3e { (Metadata | ReaderMetadata) !meta t }\n\nDeref[prefixColl] { "@" expression }\nQuote[prefixColl] { "\'" expression }\nSyntaxQuote[prefixColl] { "`" expression }\nUnquote[prefixColl] { "~" expression }\nUnquoteSplice[prefixColl] { "~@" expression }\noperatorWithMeta { Operator | Meta\x3coperatorWithMeta\x3e }\ndefLikeWithMeta { DefLike | Meta\x3cdefLikeWithMeta\x3e }\nvarNameWithMeta { VarName | Meta\x3cvarNameWithMeta\x3e }\n\nOperator { !operator Symbol }\n\n@tokens {\n\n\n  "["\n  "{"\n  "("\n\n  "#"[prefixEdge]\n  "##"[prefixEdge]\n  "#\'"[prefixEdge]\n  "#?"[prefixEdge]\n  "#^"[prefixEdge]\n  "#_"[prefixEdge]\n\n  \'"\'[sameEdge, closedBy\x3d\'"\', openedBy\x3d\'"\']\n  "\'"[prefixEdge]\n  "`"[prefixEdge]\n  "~"[prefixEdge]\n  "~@"[prefixEdge]\n  "^"[prefixEdge]\n  "@"[prefixEdge]\n\n\n  "]"\n  "}"\n  ")"\n\n  whitespace { (std.whitespace | ",")+ }\n\n  LineComment { ";" ![\\n]* }\n\n  identStart { std.asciiLetter | $[\x3c\x3e\x26%._\x3d?!*+\\-$\\u{a1}-\\u{10ff}] }\n  identChar { identStart | std.digit | ":" | "\'" | "#" }\n  simpleIdent { identStart identChar* }\n  qualifiedIdent { simpleIdent "/" identChar+ }\n  ident { simpleIdent | qualifiedIdent }\n  Symbol { ident | "/" }\n\n  keyword { ":" ":"? ident }\n  Keyword { keyword }\n\n  Number {\n    ("+" | "-")? (std.digit+ ("." std.digit* "M"?)? | "." std.digit+) (("e" | "E") ("+" | "-")? std.digit+ "M"?)? |\n    ("+" | "-")? std.digit+ ("M" | "N") |\n    ("+" | "-")? std.digit+ "/" std.digit+ |\n    ("+" | "-")? "0x" (std.digit | $[a-fA-F])+ |\n    "0b" $[01]+ |\n    "0o" $[0-7]+\n  }\n  @precedence { Number, Symbol }\n\n  StringContent {\n    (!["] | "\\\\" _)+\n  }\n\n  Character { "\\\\" (std.asciiLetter | std.digit | "@")+ }\n\n}\n\nBoolean { @specialize\x3cSymbol, "true" | "false"\x3e }\nNil { @specialize\x3cSymbol, "nil"\x3e }\nDefLike[dynamicPrecedence\x3d1] { @extend\x3cSymbol, "def" | "defn" | "defn-" | "defmacro" | "definline" | "defonce" | "deftest" | "defcard"\x3e }\n\n@detectDelim\n',
{externalProp:function(a){switch(a){case "prefixColl":return ei;case "coll":return di;case "prefixEdge":return fi;case "prefixContainer":return gi;case "sameEdge":return ji;default:throw Error(["No matching clause: ",z.c(a)].join(""));}}});var Vi=[Kh.history(),Jh.defaultHighlighter,Gh.multipleSelections(),Hh.lineNumbers(),Ih.foldGutter(),wj,Gh.keymap(vj)],xj=new Pd(xc);function yj(){var a=Ui();Rd.l(xj,wc,new Gh.EditorView({state:a,parent:document.querySelector("#editor")}))}
function zj(a,b){var c=Jc(I(b))?new U(null,2,5,V,[I(b),ac(b)],null):new U(null,2,5,V,[null,b],null);b=R(c,0,null);c=R(c,1,null);return["\x3c",nd(a),z.c(cd(function(d,e,f){return[z.c(d)," ",nd(e),"\x3d'",z.c(f),"'"].join("")},"",b)),"\x3e",z.c(T(z,c)),"\x3c/",nd(a),"\x3e"].join("")}
function Aj(){for(var a=G(db(xj)),b=null,c=0,d=0;;)if(d<c){var e=b.M(null,d);e.destroy.call(e);d+=1}else if(a=G(a))b=a,Mc(b)?(a=Db(b),d=Eb(b),b=a,c=O(a),a=d):(a=I(b),a.destroy.call(a),a=K(b),b=null,c=0),d=0;else break;yj();a=document.getElementById("docs");(null!=a?a:{}).innerHTML=zj(gh,uc([zj(jg,uc([new v(null,1,[Mg,5],null),Ca(function(f,g){var k=R(g,0,null);g=R(g,1,null);g=R(g,0,null);var l=null!=g&&(g.j&64||t===g.v)?T(X,g):g;g=C.g(l,Y);var m=C.g(l,Dg);l=C.g(l,kg);return[z.c(f),zj(Vg,uc([zj(ah,
uc([zj(Yg,uc([nd(k)]))])),zj(ah,uc([g])),zj(ah,uc([w(m)?zj(Ug,uc(["+Shift ",zj(Yg,uc([m]))])):null])),zj(ah,uc([l]))]))].join("")},"",Wc()),"\x3c/table\x3e"])),zj(jh,uc([I(K(Qh()))]))]));vc(db(xj)).focus()};try{Aj()}catch(a){throw console.error("An error occurred when calling (codemirror-next.clojure.demo/render)"),a;};
}).call(this);