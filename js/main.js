var shadow$provide = {};
(function(){
shadow$provide[0]=function(Da,aa,lb,F){function Ha(z){Ha="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"===typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};return Ha(z)}function Oa(z,x){if(x&&("object"===Ha(x)||"function"===typeof x))return x;if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function Ia(z,x,D){Ia="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get:function(I,O,Y){for(;!Object.prototype.hasOwnProperty.call(I,O)&&(I=Pa(I),null!==I););if(I)return O=Object.getOwnPropertyDescriptor(I,O),O.get?O.get.call(Y):O.value};return Ia(z,x,D||z)}function Pa(z){Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)};return Pa(z)}function Aa(z,x){if("function"!==typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(x&&x.prototype,
{constructor:{value:z,writable:!0,configurable:!0}});x&&wa(z,x)}function wa(z,x){wa=Object.setPrototypeOf||function(D,I){D.__proto__=I;return D};return wa(z,x)}function ma(z,x){if(!(z instanceof x))throw new TypeError("Cannot call a class as a function");}function Qa(z,x){for(var D=0;D<x.length;D++){var I=x[D];I.enumerable=I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);Object.defineProperty(z,I.key,I)}}function oa(z,x,D){x&&Qa(z.prototype,x);D&&Qa(z,D);return z}function eb(z){return 127462<=
z&&127487>=z}function ra(z,x){if(x==z.length)return x;var D;if(D=x)D=z.charCodeAt(x),D=56320<=D&&57344>D;D&&(D=z.charCodeAt(x-1),D=55296<=D&&56320>D);D&&x--;D=Ja(z,x);for(x+=La(D);x<z.length;){var I=Ja(z,x),O;if(!(O=D==q||I==q))a:{for(O=1;O<ea.length;O+=2)if(ea[O]>I){O=ea[O-1]<=I;break a}O=!1}if(O)x+=La(I),D=I;else if(eb(I)){I=0;for(O=x-2;0<=O&&eb(Ja(z,O));)I++,O-=2;if(0==I%2)break;else x+=2}else break}return x}function Fa(z,x){for(;0<x;){var D=ra(z,x-2);if(D<x)return D;x--}return 0}function Ja(z,
x){var D=z.charCodeAt(x);if(!(55296<=D&&56320>D)||x+1==z.length)return D;z=z.charCodeAt(x+1);return 56320<=z&&57344>z?(D-55296<<10)+(z-56320)+65536:D}function La(z){return 65536>z?1:2}function va(z){return E[P=(P+1)%Z]=z}function Ma(z){var x=-1,D=!0,I=!1,O=void 0;try{for(var Y=z[Symbol.iterator](),ba;!(D=(ba=Y.next()).done);D=!0)x+=ba.value.length+1}catch(na){I=!0,O=na}finally{try{if(!D&&null!=Y["return"])Y["return"]()}finally{if(I)throw O;}}return x}function Va(z,x){for(var D=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:0,I=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1E9,O=0,Y=0,ba=!0;Y<z.length&&O<=I;Y++){var na=z[Y],Ea=O+na.length;Ea>=D&&(Ea>I&&(na=na.slice(0,I-O)),O<D&&(na=na.slice(D-O)),ba?(x[x.length-1]+=na,ba=!1):x.push(na));O=Ea+1}return x}function ta(z,x){if(z.length!=x.length||z.lines!=x.lines)return!1;z=new t(z);x=new t(x);for(var D=0,I=0;;){if(z.lineBreak!=x.lineBreak||z.done!=x.done)return!1;if(z.done)return!0;if(z.lineBreak)z.next(),x.next(),D=I=0;else{var O=
z.value.slice(D),Y=x.value.slice(I);if(O.length==Y.length){if(O!=Y)return!1;z.next();x.next();D=I=0}else if(O.length>Y.length){if(O.slice(0,Y.length)!=Y)return!1;D+=Y.length;x.next();I=0}else{if(Y.slice(0,O.length)!=O)return!1;I+=O.length;z.next();D=0}}}}Object.defineProperty(F,"__esModule",{value:!0});F.codePointAt=Ja;F.codePointSize=La;F.countColumn=function(z,x,D){for(var I=0;I<z.length;)9==z.charCodeAt(I)?(x+=D-x%D,I++):(x++,I=ra(z,I));return x};F.findColumn=function(z,x,D,I){for(var O=0;O<z.length;){if(x>=
D)return{offset:O,leftOver:0};x+=9==z.charCodeAt(O)?I-x%I:1;O=ra(z,O)}return{offset:z.length,leftOver:D-x}};F.fromCodePoint=function(z){if(65535>=z)return String.fromCharCode(z);z-=65536;return String.fromCharCode((z>>10)+55296,(z&1023)+56320)};F.nextClusterBreak=ra;F.prevClusterBreak=Fa;F.Text=F.Line=void 0;var ea="lc 34 7n 7 7b 19    2  2   20 b 1c l g  2t 7 2 6 2 2  4 z  u r 2j b 1m 9 9  o 4  9  3  5 17 3 3b f  w 1j    4 8 4  3 7 a 2 t  1m    2 4 8  9  a 2 q  2 2 1l  4 2 4 2 2 3 3  u 2 3  b 2 1l  4 5  2 4  k 2 m 6   1m   2  4 8  7 3 a 2 u  1n    c  9  14  3  1l 3 5 3  4 7 2 b 2 t  1m  2  2  3  5 2 7 2 b 2 s 2 1l 2   2 4 8  9  a 2 t  20  4  2 3   8  29  2 7 c 8 2q  2 9 b 6 22 2 r      1j e  5  2 5 b  10 9  2u 4  6  2 2 2 p 2 4 3 g 4 d  2 2 6  f  jj 3 qa 3 t 3 t 2 u 2 1s 2  7 8  2 b 9  19 3 3b 2 y  3a 3 4 2 9  6 3 63 2 2  1m   7     2 8 6 a 2  1c h 1r 4 1c 7   5  14 9 c 2 w 4 2 2  3 1k   2 3   3 1m 8 2 2 48 3  d  7 4  6  3 2 5i 1m  5 ek  5f x 2da 3 3x  2o w fe 6 2x 2 n9w 4  a w 2 28 2 7k  3  4  p 2 5  47 2 q i d  12 8 p b 1a 3 1c  2 4 2 2 13  1v 6 2 2 2 2 c  8  1b  1f   3 2 2 5 2   16 2 8  6m  2  4  fn4  kh g g g a6 2 gt  6a  45 5 1ae 3  2 5 4 14 3 4  4l 2 fx 4 ar 2 49 b 4w  1i f 1k 3 1d 4 2 2 1x 3 10 5  8 1q  c 2 1g 9 a 4 2  2n 3 2   2 6  4g  3 8 l 2 1l 2     m  e 7 3 5 5f 8 2 3   n  29  2 6   2   2  2 6j  2 4 6 2  2 r 2 2d 8 2   2 2y    2 6   2t 3 2 4  5 77 9  2 6t  a 2   4  40 4 2 2 4  w a 14 6 2 4 8  9 6 2 3 1a d  2 ba 7  6   2a m 2 7  2  2 3e 6 3   2  7   20 2 3    9n 2 f0b 5 1n 7 t4  1r 4 29  f5k 2 43q   3 4 5 8 8 2 7 u 4 44 3 1iz 1j 4 1e 8  e  m 5  f 11s 7  h 2 7  2  5 79 7 c5 4 15s 7 31 7 240 5 gx7k 2o 3k 6o".split(" ").map(function(z){return z?
parseInt(z,36):1});for(Da=1;Da<ea.length;Da++)ea[Da]+=ea[Da-1];var q=8205,y=function(){function z(){ma(this,z)}oa(z,[{key:"lineAt",value:function(x){if(0>x||x>this.length)throw new RangeError("Invalid position ".concat(x," in document of length ").concat(this.length));var D=!0,I=!1,O=void 0;try{for(var Y=E[Symbol.iterator](),ba;!(D=(ba=Y.next()).done);D=!0){var na=ba.value;if(na.doc==this&&na.from<=x&&na.to>=x)return na}}catch(Ea){I=!0,O=Ea}finally{try{if(!D&&null!=Y["return"])Y["return"]()}finally{if(I)throw O;
}}return va(this.lineInner(x,!1,1,0).finish(this))}},{key:"line",value:function(x){if(1>x||x>this.lines)throw new RangeError("Invalid line number ".concat(x," in ").concat(this.lines,"-line document"));var D=!0,I=!1,O=void 0;try{for(var Y=E[Symbol.iterator](),ba;!(D=(ba=Y.next()).done);D=!0){var na=ba.value;if(na.doc==this&&na.number==x)return na}}catch(Ea){I=!0,O=Ea}finally{try{if(!D&&null!=Y["return"])Y["return"]()}finally{if(I)throw O;}}return va(this.lineInner(x,!0,1,0).finish(this))}},{key:"replace",
value:function(x,D,I){var O=[];this.decompose(0,x,O);O.push(I);this.decompose(D,this.length,O);return p.from(O,this.length-(D-x)+I.length)}},{key:"append",value:function(x){return 0==this.length?x:0==x.length?this:p.from([this,x],this.length+x.length)}},{key:"slice",value:function(x){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,I=[];this.decompose(x,D,I);return p.from(I,D-x)}},{key:"eq",value:function(x){return this==x||ta(this,x)}},{key:"iter",value:function(){return new t(this,
0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)}},{key:"iterRange",value:function(x){return new r(this,x,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length)}},{key:"iterLines",value:function(){return new v(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){for(var x=[],D=this.iterLines();!D.next().done;)x.push(D.value);return x}}],[{key:"of",value:function(x){if(0==
x.length)throw new RangeError("A document must have at least one line");if(1==x.length&&!x[0]&&z.empty)return z.empty;var D=Ma(x);return 1024>D?new l(x,D):p.from(l.split(x,[]),D)}}]);return z}();F.Text=y;"undefined"!=typeof Symbol&&(y.prototype[Symbol.iterator]=function(){return this.iter()});var E=[],P=-1,Z=10,l=function(z){function x(D){var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ma(D);ma(this,x);var O=Oa(this,Pa(x).call(this));O.text=D;O.length=I;return O}Aa(x,z);oa(x,[{key:"lineInner",
value:function(D,I,O,Y){for(var ba=0;;ba++){var na=this.text[ba],Ea=Y+na.length;if((I?O:Ea)>=D)return new A(Y,Ea,O,na);Y=Ea+1;O++}}},{key:"decompose",value:function(D,I,O){O.push(new x(Va(this.text,[""],D,I),Math.min(I,this.length)-Math.max(0,D)))}},{key:"lastLineLength",value:function(){return this.text[this.text.length-1].length}},{key:"firstLineLength",value:function(){return this.text[0].length}},{key:"replace",value:function(D,I,O){var Y=this.length+O.length-(I-D);return 1024<=Y||!(O instanceof
x)?Ia(Pa(x.prototype),"replace",this).call(this,D,I,O):new x(Va(this.text,Va(O.text,Va(this.text,[""],0,D)),I),Y)}},{key:"sliceString",value:function(D){for(var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,O=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"\n",Y="",ba=0,na=0;ba<=I&&na<this.text.length;na++){var Ea=this.text[na],Na=ba+Ea.length;ba>D&&na&&(Y+=O);D<Na&&I>ba&&(Y+=Ea.slice(Math.max(0,D-ba),I-ba));ba=Na+1}return Y}},{key:"flatten",value:function(D){D[D.length-
1]+=this.text[0];for(var I=1;I<this.text.length;I++)D.push(this.text[I])}},{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}}],[{key:"split",value:function(D,I){var O=[],Y=-1,ba=!0,na=!1,Ea=void 0;try{for(var Na=D[Symbol.iterator](),bb;!(ba=(bb=Na.next()).done);ba=!0)for(var Wa=bb.value;;){var fb=Y+Wa.length+1;if(512>fb){Y=fb;O.push(Wa);break}D=512-Y-1;var kb=Wa.charCodeAt(D);56320<=kb&&57344>kb&&D++;O.push(Wa.slice(0,D));I.push(new x(O,512));Wa=Wa.slice(D);
Y=-1;O=[]}}catch(gb){na=!0,Ea=gb}finally{try{if(!ba&&null!=Na["return"])Na["return"]()}finally{if(na)throw Ea;}}-1!=Y&&I.push(new x(O,Y));return I}}]);return x}(y),p=function(z){function x(D,I){ma(this,x);var O=Oa(this,Pa(x).call(this));O.children=D;O.length=I;O.lines=1;I=!0;var Y=!1,ba=void 0;try{for(var na=D[Symbol.iterator](),Ea;!(I=(Ea=na.next()).done);I=!0)O.lines+=Ea.value.lines-1}catch(Na){Y=!0,ba=Na}finally{try{if(!I&&null!=na["return"])na["return"]()}finally{if(Y)throw ba;}}return O}Aa(x,
z);oa(x,[{key:"lineInner",value:function(D,I,O,Y){for(var ba=0;;ba++){var na=this.children[ba],Ea=Y+na.length,Na=O+na.lines-1;if((I?Na:Ea)>=D)return D=na.lineInner(D,I,O,Y),I=void 0,D.from==Y&&(I=this.lineLengthTo(ba))&&(D.from-=I,D.content=null),D.to==Ea&&(I=this.lineLengthFrom(ba+1))&&(D.to+=I,D.content=null),D;Y=Ea;O=Na}}},{key:"decompose",value:function(D,I,O){for(var Y=0,ba=0;ba<I&&Y<this.children.length;Y++){var na=this.children[Y],Ea=ba+na.length;D<Ea&&I>ba&&(ba>=D&&Ea<=I?O.push(na):na.decompose(D-
ba,I-ba,O));ba=Ea}}},{key:"lineLengthTo",value:function(D){var I=0;for(--D;0<=D;D--){var O=this.children[D];if(1<O.lines)return I+O.lastLineLength();I+=O.length}return I}},{key:"lastLineLength",value:function(){return this.lineLengthTo(this.children.length)}},{key:"lineLengthFrom",value:function(D){for(var I=0;D<this.children.length;D++){var O=this.children[D];if(1<O.lines)return I+O.firstLineLength();I+=O.length}return I}},{key:"firstLineLength",value:function(){return this.lineLengthFrom(0)}},{key:"replace",
value:function(D,I,O){if(512>O.length&&512>I-D)for(var Y=O.length-(I-D),ba=0,na=0;ba<this.children.length;ba++){var Ea=this.children[ba],Na=na+Ea.length;if(D>=na&&I<=Na&&Ea.length+Y<this.length+Y>>2&&0<Ea.length+Y)return Na=this.children.slice(),Na[ba]=Ea.replace(D-na,I-na,O),new x(Na,this.length+Y);na=Na}return Ia(Pa(x.prototype),"replace",this).call(this,D,I,O)}},{key:"sliceString",value:function(D){for(var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,O=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:"\n",Y="",ba=0,na=0;na<I&&ba<this.children.length;ba++){var Ea=this.children[ba],Na=na+Ea.length;if(D<Na&&I>na){Ea=Ea.sliceString(D-na,I-na,O);if(D>=na&&I<=Na)return Ea;Y+=Ea}na=Na}return Y}},{key:"flatten",value:function(D){var I=!0,O=!1,Y=void 0;try{for(var ba=this.children[Symbol.iterator](),na;!(I=(na=ba.next()).done);I=!0)na.value.flatten(D)}catch(Ea){O=!0,Y=Ea}finally{try{if(!I&&null!=ba["return"])ba["return"]()}finally{if(O)throw Y;}}}}],[{key:"from",value:function(D,
I){function O(mb){var rb=mb.length;if(rb)if(rb>kb&&mb instanceof x){rb=!0;var Eb=!1;var xb=void 0;try{for(var nb=mb.children[Symbol.iterator](),yb;!(rb=(yb=nb.next()).done);rb=!0)O(yb.value)}catch(ac){Eb=!0,xb=ac}finally{try{if(!rb&&null!=nb["return"])nb["return"]()}finally{if(Eb)throw xb;}}}else rb>gb&&(sb>gb||0==sb)?(Y(),ob.push(mb)):mb instanceof l&&0<sb&&(Eb=wb[wb.length-1])instanceof l&&512>=mb.length+Eb.length?(sb+=rb,wb[wb.length-1]=new l(Va(mb.text,Eb.text.slice()),mb.length+Eb.length)):(sb+
rb>fb&&Y(),sb+=rb,wb.push(mb))}function Y(){0!=sb&&(ob.push(1==wb.length?wb[0]:x.from(wb,sb)),sb=0,wb.length=0)}if(!D.every(function(mb){return mb instanceof y}))throw Error("NOP");if(1024>I){var ba=[""],na=!0,Ea=!1,Na=void 0;try{for(var bb=D[Symbol.iterator](),Wa;!(na=(Wa=bb.next()).done);na=!0)Wa.value.flatten(ba)}catch(mb){Ea=!0,Na=mb}finally{try{if(!na&&null!=bb["return"])bb["return"]()}finally{if(Ea)throw Na;}}return new l(ba,I)}var fb=Math.max(512,I>>3),kb=fb<<1,gb=fb>>1,ob=[],sb=0,wb=[];bb=
!0;Wa=!1;Ea=void 0;try{for(ba=D[Symbol.iterator]();!(bb=(na=ba.next()).done);bb=!0)O(na.value)}catch(mb){Wa=!0,Ea=mb}finally{try{if(!bb&&null!=ba["return"])ba["return"]()}finally{if(Wa)throw Ea;}}Y();return 1==ob.length?ob[0]:new x(ob,I)}}]);return x}(y);y.empty=y.of([""]);var t=function(){function z(x){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;ma(this,z);this.dir=D;this.lineBreak=this.done=!1;this.value="";this.nodes=[x];this.offsets=[0<D?0:x instanceof l?x.text.length:x.children.length]}
oa(z,[{key:"next",value:function(){for(var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;;){var D=this.nodes.length-1;if(0>D)return this.done=!0,this.value="",this.lineBreak=!1,this;var I=this.nodes[D],O=this.offsets[D];if(I instanceof l)if(O==(0<this.dir?0:I.text.length)||this.lineBreak){var Y=I.text[O-(0>this.dir?1:0)];this.offsets[D]=O+=this.dir;O==(0<this.dir?I.text.length:0)&&(this.nodes.pop(),this.offsets.pop());this.lineBreak=!1;if(Y.length>Math.max(0,x))return this.value=0==x?
Y:0<this.dir?Y.slice(x):Y.slice(0,Y.length-x),this;x-=Y.length}else{this.lineBreak=!0;if(0==x)return this.value="\n",this;x--}else O==(0<this.dir?I.children.length:0)?(this.nodes.pop(),this.offsets.pop()):(I=I.children[0<this.dir?O:O-1],Y=I.length,this.offsets[D]=O+this.dir,x>Y?x-=Y:(this.nodes.push(I),this.offsets.push(0<this.dir?0:I instanceof l?I.text.length:I.children.length)))}}}]);return z}(),r=function(){function z(x,D,I){ma(this,z);this.value="";this.cursor=new t(x,D>I?-1:1);D>I?(this.skip=
x.length-D,this.limit=D-I):(this.skip=D,this.limit=I-D)}oa(z,[{key:"next",value:function(){if(0>=this.limit)this.limit=-1;else{var x=this.cursor.next(this.skip),D=x.value,I=x.lineBreak;x=x.done;this.skip=0;this.value=D;I=I?1:D.length;I>this.limit&&(this.value=0<this.cursor.dir?D.slice(0,this.limit):D.slice(I-this.limit));this.limit=x||0==this.value.length?-1:this.limit-this.value.length}return this}},{key:"lineBreak",get:function(){return this.cursor.lineBreak}},{key:"done",get:function(){return 0>
this.limit}}]);return z}(),v=function(){function z(x){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;ma(this,z);this.value="";this.done=!1;this.cursor=x.iter();this.skip=D}oa(z,[{key:"next",value:function(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(this.cursor.done)return this.done=!0,this.value="",this;x+=this.skip;this.skip=0;for(this.value="";;){x=this.cursor.next(x);var D=x.value,I=x.lineBreak,O=x.done;x=0;if(O||I)return this;this.value+=D}}},{key:"lineBreak",
get:function(){return!1}}]);return z}(),A=function(){function z(x,D,I,O){ma(this,z);this.from=x;this.to=D;this.number=I;this.content=O}oa(z,[{key:"slice",value:function(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if(x==D)return"";if("string"==typeof this.content)return this.content.slice(x,D);this.content||(this.content=new C(this.doc,this.from));var I=this.content.slice(x,D);0==x&&D==this.length&&(this.content=
I);return I}},{key:"finish",value:function(x){this.doc=x;return this}},{key:"findClusterBreak",value:function(x,D){if(0>x||x>this.length)throw new RangeError("Invalid position given to Line.findClusterBreak");if("string"==this.content){var I=this.from;var O=this.content}else I=Math.max(0,x-256),O=this.slice(I,Math.min(this.length,I+512));return(D?ra:Fa)(O,x-I)+I}},{key:"length",get:function(){return this.to-this.from}}]);return z}();F.Line=A;var C=function(){function z(x,D){ma(this,z);this.doc=x;
this.start=D;this.strings=this.cursor=null}oa(z,[{key:"slice",value:function(x,D){this.cursor||(this.cursor=this.doc.iter(),this.strings=[this.cursor.next(this.start).value]);for(var I="",O=0,Y=0;;Y++){if(Y==this.strings.length){var ba=this.cursor.next().value;if(!ba)return I;this.strings.push(ba)}ba=this.strings[Y];var na=O;O+=ba.length;if(!(O<=x)&&(I+=ba.slice(Math.max(0,x-na),Math.min(ba.length,D-na)),O>=D))return I}}}]);return z}()};
shadow$provide[1]=function(Da,aa,lb,F){function Ha(U){Ha="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"===typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G};return Ha(U)}function Oa(U){Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)};return Oa(U)}function Ia(U,G){if("function"!==typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");
U.prototype=Object.create(G&&G.prototype,{constructor:{value:U,writable:!0,configurable:!0}});G&&Pa(U,G)}function Pa(U,G){Pa=Object.setPrototypeOf||function(J,L){J.__proto__=L;return J};return Pa(U,G)}function Aa(U,G){if(!(U instanceof G))throw new TypeError("Cannot call a class as a function");}function wa(U,G){for(var J=0;J<G.length;J++){var L=G[J];L.enumerable=L.enumerable||!1;L.configurable=!0;"value"in L&&(L.writable=!0);Object.defineProperty(U,L.key,L)}}function ma(U,G,J){G&&wa(U.prototype,
G);J&&wa(U,J);return U}function Qa(U,G,J){var L=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;if(!(0==G&&0>=J)){var S=U.length-2;0<=S&&0>=J&&J==U[S+1]?U[S]+=G:0==G&&0==U[S]?U[S+1]+=J:L?(U[S]+=G,U[S+1]+=J):U.push(G,J)}}function oa(U,G,J){if(0!=J.length)if(G=G.length-2>>1,G<U.length)U[U.length-1]=U[U.length-1].append(J);else{for(;U.length<G;)U.push(v.Text.empty);U.push(J)}}function eb(U,G,J){for(var L=U.inserted,S=0,W=0,ca=0;ca<U.sections.length;){var ia=U.sections[ca++],sa=U.sections[ca++];
if(0>sa)S+=ia,W+=ia;else{for(var za=S,Ga=W,Ba=v.Text.empty;;){za+=ia;Ga+=sa;sa&&L&&(Ba=Ba.append(L[ca-2>>1]));if(J||ca==U.sections.length||0>U.sections[ca+1])break;ia=U.sections[ca++];sa=U.sections[ca++]}G(S,za,W,Ga,Ba);S=za;W=Ga}}}function ra(U,G,J){for(var L=[],S=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?[]:null,W=new D(U),ca=new D(G),ia=0,sa=0;;)if(-1==W.ins)ia+=W.len,W.next();else if(-1==ca.ins&&sa<ia){var za=Math.min(ca.len,ia-sa);ca.forward(za);Qa(L,za,-1);sa+=za}else if(0<=ca.ins&&
(W.done||sa<ia||sa==ia&&(ca.len<W.len||ca.len==W.len&&!J))){for(Qa(L,ca.ins,-1);ia>sa&&!W.done&&ia+W.len<sa+ca.len;)ia+=W.len,W.next();sa+=ca.len;ca.next()}else if(0<=W.ins){za=0;for(var Ga=ia+W.len;;)if(0<=ca.ins&&sa>ia&&sa+ca.len<Ga)za+=ca.ins,sa+=ca.len,ca.next();else if(-1==ca.ins&&sa<Ga){var Ba=Math.min(ca.len,Ga-sa);za+=Ba;ca.forward(Ba);sa+=Ba}else break;Qa(L,za,W.ins);S&&oa(S,L,W.text);ia=Ga;W.next()}else{if(W.done&&ca.done)return S?new x(L,S):new z(L);throw Error("Mismatched change set lengths");
}}function Fa(U,G){for(var J=[],L=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?[]:null,S=new D(U),W=new D(G),ca=!1;;){if(S.done&&W.done)return L?new x(J,L):new z(J);if(0==S.ins)Qa(J,S.len,0,ca),S.next();else if(0!=W.len||W.done){if(S.done||W.done)throw Error("Mismatched change set lengths");var ia=Math.min(S.len2,W.len),sa=J.length;if(-1==S.ins){var za=-1==W.ins?-1:W.off?0:W.ins;Qa(J,ia,za,ca);L&&za&&oa(L,J,W.text)}else-1==W.ins?(Qa(J,S.off?0:S.len,ia,ca),L&&oa(L,J,S.textBit(ia))):(Qa(J,
S.off?0:S.len,W.off?0:W.ins,ca),L&&!W.off&&oa(L,J,W.text));ca=(S.ins>ia||0<=W.ins&&W.len>ia)&&(ca||J.length>sa);S.forward2(ia);W.forward(ia)}else Qa(J,0,W.ins,ca),L&&oa(L,J,W.text),W.next()}}function Ja(U){var G=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;G=U[G];U.sort(function(ca,ia){return ca.from-ia.from});G=U.indexOf(G);for(var J=1;J<U.length;J++){var L=U[J],S=U[J-1];if(L.empty?L.from<=S.to:L.from<S.to){var W=S.from;S=Math.max(L.to,S.to);J<=G&&G--;U.splice(--J,2,L.anchor>L.head?O.range(S,
W):O.range(W,S))}}return new O(U,G)}function La(U,G){var J=!0,L=!1,S=void 0;try{for(var W=U.ranges[Symbol.iterator](),ca;!(J=(ca=W.next()).done);J=!0)if(ca.value.to>G)throw new RangeError("Selection points outside of document");}catch(ia){L=!0,S=ia}finally{try{if(!J&&null!=W["return"])W["return"]()}finally{if(L)throw S;}}}function va(U,G){return U==G||U.length==G.length&&U.every(function(J,L){return J===G[L]})}function Ma(U,G,J){if(U.length!=G.length)return!1;for(var L=0;L<U.length;L++)if(!J(U[L],
G[L]))return!1;return!0}function Va(U,G,J){var L=J.map(function(ia){return U[ia.id]}),S=J.map(function(ia){return ia.type}),W=L.filter(function(ia){return!(ia&1)}),ca=U[G.id]>>1;return function(ia,sa){var za=sa?sa.reconfigure?sa.startState.config.address[G.id]:ca<<1:null,Ga=null==za,Ba=!0,Ra=!1,Ta=void 0;try{for(var ab=W[Symbol.iterator](),cb;!(Ba=(cb=ab.next()).done);Ba=!0)E(ia,cb.value)&1&&(Ga=!0)}catch(Bb){Ra=!0,Ta=Bb}finally{try{if(!Ba&&null!=ab["return"])ab["return"]()}finally{if(Ra)throw Ta;
}}if(!Ga)return 0;Ga=[];for(Ba=0;Ba<L.length;Ba++)if(Ra=P(ia,L[Ba]),2==S[Ba]){Ta=!0;ab=!1;cb=void 0;try{for(var Ua=Ra[Symbol.iterator](),tb;!(Ta=(tb=Ua.next()).done);Ta=!0)Ga.push(tb.value)}catch(Bb){ab=!0,cb=Bb}finally{try{if(!Ta&&null!=Ua["return"])Ua["return"]()}finally{if(ab)throw cb;}}}else Ga.push(Ra);Ua=G.combine(Ga);if(null!=za&&G.compare(Ua,P(sa.startState,za)))return 0;ia.values[ca]=Ua;return 1}}function ta(U,G){if(!Na.hasOwnProperty(G))throw new RangeError("Invalid precedence: ".concat(G));
return new bb(U,Na[G])}function ea(U,G){return U?ta(G,U):G}function q(U){return(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(U):[]).concat(Object.keys(U))}function y(U,G){function J(Ba,Ra){var Ta=S.get(Ba);if(null!=Ta){if(Ta>=Ra)return;var ab=L[Ta].indexOf(Ba);-1<ab&&L[Ta].splice(ab,1)}S.set(Ba,Ra);if(Array.isArray(Ba)){Ta=!0;ab=!1;var cb=void 0;try{for(var Ua=Ba[Symbol.iterator](),tb;!(Ta=(tb=Ua.next()).done);Ta=!0)J(tb.value,Ra)}catch(Bb){ab=!0,cb=Bb}finally{try{if(!Ta&&null!=Ua["return"])Ua["return"]()}finally{if(ab)throw cb;
}}}else if(Ba instanceof Wa){if(Ba.tag in W)throw new RangeError("Duplicate use of tag '".concat(String(Ba.tag),"' in extensions"));W[Ba.tag]=!0;J(G[Ba.tag]||Ba.extension,Ra)}else Ba.extension?J(Ba.extension,Ra):Ba instanceof bb?J(Ba.e,Ba.prec):(L[Ra].push(Ba),Ba instanceof Ea&&J(Ba.facets,Ra))}var L=[[],[],[],[]],S=new Map,W=Object.create(null);J(U,Na["default"]);U=!0;var ca=!1,ia=void 0;try{for(var sa=q(G)[Symbol.iterator](),za;!(U=(za=sa.next()).done);U=!0){var Ga=za.value;Ga in W||"full"==Ga||
!G[Ga]||(W[Ga]=!0,J(G[Ga],Na["default"]))}}catch(Ba){ca=!0,ia=Ba}finally{try{if(!U&&null!=sa["return"])sa["return"]()}finally{if(ca)throw ia;}}return L.reduce(function(Ba,Ra){return Ba.concat(Ra)})}function E(U,G){if(G&1)return 2;G>>=1;var J=U.status[G];if(4==J)throw Error("Cyclic dependency between fields and/or facets");if(J&2)return J;U.status[G]=4;J=U.config.dynamicSlots[G](U,U.applying);return U.status[G]=2|J}function P(U,G){return G&1?U.config.staticValues[G>>1]:U.values[G>>1]}function Z(U,
G,J){var L;if(J){J=G.changes;var S=x.empty(G.changes.length);var W=U.changes.compose(G.changes)}else J=G.changes.map(U.changes),S=U.changes.mapDesc(G.changes,!0),W=U.changes.compose(J);return{changes:W,selection:G.selection?G.selection.map(S):null===(L=U.selection)||void 0===L?void 0:L.map(J),effects:xb.mapEffects(U.effects,J).concat(xb.mapEffects(G.effects,S)),annotations:U.annotations.length?U.annotations.concat(G.annotations):G.annotations,scrollIntoView:U.scrollIntoView||G.scrollIntoView,reconfigure:G.reconfigure?
G.reconfigure.full||!U.reconfigure?G.reconfigure:Object.assign({},U.reconfigure,G.reconfigure):U.reconfigure}}function l(U,G,J){var L=G.reconfigure;if(L&&L.append){L=Object.assign({},L);var S="undefined"==typeof Symbol?"__append"+Math.floor(4294967295*Math.random()):Symbol("appendConf");L[S]=L.append;L.append=void 0}S=G.selection;return{changes:G.changes instanceof x?G.changes:x.of(G.changes||[],J,U.facet(ob)),selection:S&&(S instanceof O?S:O.single(S.anchor,S.head)),effects:t(G.effects),annotations:t(G.annotations),
scrollIntoView:!!G.scrollIntoView,reconfigure:L}}function p(U,G,J){var L=l(U,G.length?G[0]:{},U.doc.length);G.length&&!1===G[0].filter&&(J=!1);for(var S=1;S<G.length;S++){!1===G[S].filter&&(J=!1);var W=!!G[S].sequential;L=Z(L,l(U,G[S],W?L.changes.newLength:U.doc.length),W)}U=new yb(U,L.changes,L.selection,L.effects,L.annotations,L.reconfigure,L.scrollIntoView);if(J){J=U.startState;L=G=!0;S=!1;W=void 0;try{var ca=J.facet(sb)[Symbol.iterator]();for(var ia;!(L=(ia=ca.next()).done);L=!0){var sa=ia.value,
za=sa(U);if(!1===za){G=!1;break}if(Array.isArray(za)){if(!0===G)var Ga=za;else a:for(var Ba=G,Ra=za,Ta=[],ab=0,cb=0;;){if(ab<Ba.length&&(cb==Ra.length||Ra[cb]>=Ba[ab])){var Ua=Ba[ab++];var tb=Ba[ab++]}else if(cb<Ra.length)Ua=Ra[cb++],tb=Ra[cb++];else{Ga=Ta;break a}!Ta.length||Ta[Ta.length-1]<Ua?Ta.push(Ua,tb):Ta[Ta.length-1]<tb&&(Ta[Ta.length-1]=tb)}G=Ga}}}catch(Bb){S=!0,W=Bb}finally{try{if(!L&&null!=ca["return"])ca["return"]()}finally{if(S)throw W;}}!0!==G&&(!1===G?(ia=U.changes.invertedDesc,ca=
x.empty(J.doc.length)):(ia=U.changes.filter(G),ca=ia.changes,ia=ia.filtered.invertedDesc),U=new yb(J,ca,U.selection&&U.selection.map(ia),xb.mapEffects(U.effects,ia),U.annotations,U.reconfigure,U.scrollIntoView));ca=J.facet(wb);for(ia=ca.length-1;0<=ia;ia--)sa=ca[ia](U),U=sa instanceof yb?sa:Array.isArray(sa)&&1==sa.length&&sa[0]instanceof yb?sa[0]:p(J,t(sa),!1);ca=U}else ca=U;ia=ca.startState;sa=ia.facet(mb);za=ca;for(Ga=sa.length-1;0<=Ga;Ga--)(Ua=sa[Ga](ca))&&Object.keys(Ua).length&&(za=Z(ca,l(ia,
Ua,ca.changes.newLength),!0));return za==ca?ca:new yb(ia,ca.changes,ca.selection,za.effects,za.annotations,za.reconfigure,za.scrollIntoView)}function t(U){return null==U?ac:Array.isArray(U)?U:[U]}function r(U){return function(G){if(!/\S/.test(G))return vb.Space;a:if(Qb)var J=Qb.test(G);else{for(J=0;J<G.length;J++){var L=G[J];if(/\w/.test(L)||""<L&&(L.toUpperCase()!=L.toLowerCase()||Yb.test(L))){J=!0;break a}}J=!1}if(J)return vb.Word;for(J=0;J<U.length;J++)if(-1<G.indexOf(U[J]))return vb.Word;return vb.Other}}
Object.defineProperty(F,"__esModule",{value:!0});F.combineConfig=function(U,G){var J=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},L={},S=!0,W=!1,ca=void 0;try{for(var ia=U[Symbol.iterator](),sa;!(S=(sa=ia.next()).done);S=!0)for(var za=sa.value,Ga=0,Ba=Object.keys(za);Ga<Ba.length;Ga++){var Ra=Ba[Ga],Ta=za[Ra],ab=L[Ra];if(void 0===ab)L[Ra]=Ta;else if(ab!==Ta&&void 0!==Ta)if(Object.hasOwnProperty.call(J,Ra))L[Ra]=J[Ra](ab,Ta);else throw Error("Config merge conflict for field "+Ra);}}catch(Ua){W=
!0,ca=Ua}finally{try{if(!S&&null!=ia["return"])ia["return"]()}finally{if(W)throw ca;}}for(var cb in G)void 0===L[cb]&&(L[cb]=G[cb]);return L};F.precedence=ta;F.tagExtension=function(U,G){return new Wa(U,G)};Object.defineProperty(F,"Text",{enumerable:!0,get:function(){return v.Text}});F.Transaction=F.StateField=F.StateEffectType=F.StateEffect=F.SelectionRange=F.MapMode=F.Facet=F.EditorState=F.EditorSelection=F.CharCategory=F.ChangeSet=F.ChangeDesc=F.AnnotationType=F.Annotation=void 0;var v=aa(0),A=
/\r\n?|\n/,C;F.MapMode=C;(function(U){U[U.Simple=0]="Simple";U[U.TrackDel=1]="TrackDel";U[U.TrackBefore=2]="TrackBefore";U[U.TrackAfter=3]="TrackAfter"})(C||(F.MapMode=C={}));var z=function(){function U(G){Aa(this,U);this.sections=G}ma(U,[{key:"iterGaps",value:function(G){for(var J=0,L=0,S=0;J<this.sections.length;){var W=this.sections[J++],ca=this.sections[J++];0>ca?(G(L,S,W),S+=W):S+=ca;L+=W}}},{key:"iterChangedRanges",value:function(G){eb(this,G,1<arguments.length&&void 0!==arguments[1]?arguments[1]:
!1)}},{key:"composeDesc",value:function(G){return this.empty?G:G.empty?this:Fa(this,G)}},{key:"mapDesc",value:function(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return G.empty?this:ra(this,G,J)}},{key:"mapPos",value:function(G){for(var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,L=2<arguments.length&&void 0!==arguments[2]?arguments[2]:C.Simple,S=0,W=0,ca=0;ca<this.sections.length;){var ia=this.sections[ca++],sa=this.sections[ca++],za=S+ia;if(0>sa){if(za>G)return W+
(G-S);W+=ia}else{if(L!=C.Simple&&za>=G&&(L==C.TrackDel&&S<G&&za>G||L==C.TrackBefore&&S<G||L==C.TrackAfter&&za>G))return null;if(za>G||za==G&&0>J&&!ia)return G==S||0>J?W:W+sa;W+=sa}S=za}if(G>S)throw new RangeError("Position ".concat(G," is out of range for changeset of length ").concat(S));return W}},{key:"touchesRange",value:function(G){for(var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:G,L=0,S=0;L<this.sections.length&&S<=J;){var W=this.sections[L++],ca=this.sections[L++];W=S+W;if(0<=
ca&&S<=J&&W>=G)return S<G&&W>J?"cover":!0;S=W}return!1}},{key:"toString",value:function(){for(var G="",J=0;J<this.sections.length;){var L=this.sections[J++],S=this.sections[J++];G+=(G?" ":"")+L+(0<=S?":"+S:"")}return G}},{key:"length",get:function(){for(var G=0,J=0;J<this.sections.length;J+=2)G+=this.sections[J];return G}},{key:"newLength",get:function(){for(var G=0,J=0;J<this.sections.length;J+=2){var L=this.sections[J+1];G+=0>L?this.sections[J]:L}return G}},{key:"empty",get:function(){return 0==
this.sections.length||2==this.sections.length&&0>this.sections[1]}},{key:"invertedDesc",get:function(){for(var G=[],J=0;J<this.sections.length;){var L=this.sections[J++],S=this.sections[J++];0>S?G.push(L,S):G.push(S,L)}return new U(G)}}]);return U}();F.ChangeDesc=z;var x=function(U){function G(J,L){Aa(this,G);J=Oa(G).call(this,J);if(!J||"object"!==Ha(J)&&"function"!==typeof J){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");J=this}J.inserted=
L;return J}Ia(G,U);ma(G,[{key:"apply",value:function(J){if(this.length!=J.length)throw new RangeError("Applying change set to a document with the wrong length");eb(this,function(L,S,W,ca,ia){return J=J.replace(W,W+(S-L),ia)},!1);return J}},{key:"mapDesc",value:function(J){return ra(this,J,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,!0)}},{key:"invert",value:function(J){for(var L=this.sections.slice(),S=[],W=0,ca=0;W<L.length;W+=2){var ia=L[W],sa=L[W+1];if(0<=sa){L[W]=sa;L[W+1]=ia;for(sa=
W>>1;S.length<sa;)S.push(v.Text.empty);S.push(ia?J.slice(ca,ca+ia):v.Text.empty)}ca+=ia}return new G(L,S)}},{key:"compose",value:function(J){return this.empty?J:J.empty?this:Fa(this,J,!0)}},{key:"map",value:function(J){var L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return J.empty?this:ra(this,J,L,!0)}},{key:"iterChanges",value:function(J){eb(this,J,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}},{key:"filter",value:function(J){var L=[],S=[],W=[],ca=new D(this),ia=0,sa=
0;a:for(;;){for(var za=ia==J.length?1E9:J[ia++];sa<za||sa==za&&0==ca.len;){if(ca.done)break a;var Ga=Math.min(ca.len,za-sa);Qa(W,Ga,-1);var Ba=-1==ca.ins?-1:0==ca.off?ca.ins:0;Qa(L,Ga,Ba);0<Ba&&oa(S,L,ca.text);ca.forward(Ga);sa+=Ga}for(za=J[ia++];sa<za;){if(ca.done)break a;Ga=Math.min(ca.len,za-sa);Qa(L,Ga,-1);Qa(W,Ga,-1==ca.ins?-1:0==ca.off?ca.ins:0);ca.forward(Ga);sa+=Ga}}return{changes:new G(L,S),filtered:new z(W)}}},{key:"toJSON",value:function(){for(var J=[],L=0;L<this.sections.length;L+=2){var S=
this.sections[L],W=this.sections[L+1];0>W?J.push(S):0==W?J.push([S]):J.push([S,this.inserted[L>>1].toJSON()])}return J}},{key:"desc",get:function(){return new z(this.sections)}}],[{key:"of",value:function(J,L,S){function W(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||ia.length){za<L&&Qa(ia,L-za,-1);var Ba=new G(ia,sa);Ga=Ga?Ga.compose(Ba.map(Ga)):Ba;ia=[];sa=[];za=0}}function ca(Ba){if(Array.isArray(Ba)){var Ra=!0,Ta=!1,ab=void 0;try{for(var cb=Ba[Symbol.iterator](),Ua;!(Ra=(Ua=cb.next()).done);Ra=
!0)ca(Ua.value)}catch(tb){Ta=!0,ab=tb}finally{try{if(!Ra&&null!=cb["return"])cb["return"]()}finally{if(Ta)throw ab;}}}else if(Ba instanceof G){if(Ba.length!=L)throw new RangeError("Mismatched change set length (got ".concat(Ba.length,", expected ").concat(L,")"));W();Ga=Ga?Ga.compose(Ba.map(Ga)):Ba}else{Ra=Ba.from;Ta=Ba.to;Ta=void 0===Ta?Ra:Ta;Ba=Ba.insert;if(Ra>Ta||0>Ra||Ta>L)throw new RangeError("Invalid change range ".concat(Ra," to ").concat(Ta," (in doc of length ").concat(L,")"));Ba=Ba?"string"==
typeof Ba?v.Text.of(Ba.split(S||A)):Ba:v.Text.empty;ab=Ba.length;if(Ra!=Ta||0!=ab)Ra<za&&W(),Ra>za&&Qa(ia,Ra-za,-1),Qa(ia,Ta-Ra,ab),oa(sa,ia,Ba),za=Ta}}var ia=[],sa=[],za=0,Ga=null;ca(J);W(!Ga);return Ga}},{key:"empty",value:function(J){return new G(J?[J,-1]:[],[])}},{key:"fromJSON",value:function(J){for(var L=[],S=[],W=0;W<J.length;W++){var ca=J[W];if("number"==typeof ca)L.push(ca,-1);else if(1==ca.length)L.push(ca[0],0);else{for(;S.length<W;)S.push(v.Text.empty);S[W]=v.Text.of(ca[1]);L.push(ca[0],
S[W].length)}}return new G(L,S)}}]);return G}(z);F.ChangeSet=x;var D=function(){function U(G){Aa(this,U);this.set=G;this.i=0;this.next()}ma(U,[{key:"next",value:function(){var G=this.set.sections;this.i<G.length?(this.len=G[this.i++],this.ins=G[this.i++]):(this.len=0,this.ins=-2);this.off=0}},{key:"textBit",value:function(G){var J=this.set.inserted,L=this.i-2>>1;return L>=J.length&&!G?v.Text.empty:J[L].slice(this.off,null==G?void 0:this.off+G)}},{key:"forward",value:function(G){G==this.len?this.next():
(this.len-=G,this.off+=G)}},{key:"forward2",value:function(G){-1==this.ins?this.forward(G):G==this.ins?this.next():(this.ins-=G,this.off+=G)}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return 0>this.ins?this.len:this.ins}},{key:"text",get:function(){var G=this.set.inserted,J=this.i-2>>1;return J>=G.length?v.Text.empty:G[J]}}]);return U}(),I=function(){function U(G,J,L){Aa(this,U);this.from=G;this.to=J;this.flags=L}ma(U,[{key:"map",value:function(G){var J=G.mapPos(this.from);
G=G.mapPos(this.to);return J==this.from&&G==this.to?this:new U(J,G,this.flags)}},{key:"extend",value:function(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:G;return G<=this.anchor&&J>=this.anchor?O.range(G,J):O.range(this.anchor,Math.abs(G-this.anchor)>Math.abs(J-this.anchor)?G:J)}},{key:"eq",value:function(G){return this.anchor==G.anchor&&this.head==G.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}},{key:"anchor",get:function(){return this.flags&
16?this.to:this.from}},{key:"head",get:function(){return this.flags&16?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return this.flags&4?-1:this.flags&8?1:0}},{key:"bidiLevel",get:function(){var G=this.flags&3;return 3==G?null:G}},{key:"goalColumn",get:function(){var G=this.flags>>5;return 33554431==G?void 0:G}}],[{key:"fromJSON",value:function(G){if(!G||"number"!=typeof G.anchor||"number"!=typeof G.head)throw new RangeError("Invalid JSON representation for SelectionRange");
return O.range(G.anchor,G.head)}}]);return U}();F.SelectionRange=I;var O=function(){function U(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Aa(this,U);this.ranges=G;this.primaryIndex=J}ma(U,[{key:"map",value:function(G){return G.empty?this:U.create(this.ranges.map(function(J){return J.map(G)}),this.primaryIndex)}},{key:"eq",value:function(G){if(this.ranges.length!=G.ranges.length||this.primaryIndex!=G.primaryIndex)return!1;for(var J=0;J<this.ranges.length;J++)if(!this.ranges[J].eq(G.ranges[J]))return!1;
return!0}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new U([this.primary])}},{key:"addRange",value:function(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return U.create([G].concat(this.ranges),J?0:this.primaryIndex+1)}},{key:"replaceRange",value:function(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.primaryIndex,L=this.ranges.slice();L[J]=G;return U.create(L,this.primaryIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(G){return G.toJSON()}),
primaryIndex:this.primaryIndex}}},{key:"primary",get:function(){return this.ranges[this.primaryIndex]}}],[{key:"fromJSON",value:function(G){if(!G||!Array.isArray(G.ranges)||"number"!=typeof G.primaryIndex||G.primaryIndex>=G.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new U(G.ranges.map(function(J){return I.fromJSON(J)}),G.primaryIndex)}},{key:"single",value:function(G){return new U([U.range(G,1<arguments.length&&void 0!==arguments[1]?arguments[1]:G)],
0)}},{key:"create",value:function(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(0==G.length)throw new RangeError("A selection needs at least one range");for(var L=0,S=0;S<G.length;S++){var W=G[S];if(W.empty?W.from<=L:W.from<L)return Ja(G.slice(),J);L=W.to}return new U(G,J)}},{key:"cursor",value:function(G){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,L=2<arguments.length?arguments[2]:void 0,S=3<arguments.length?arguments[3]:void 0;return new I(G,G,(0==J?0:
0>J?4:8)|(null==L?3:Math.min(2,L))|(null!==S&&void 0!==S?S:33554431)<<5)}},{key:"range",value:function(G,J,L){L=(null!==L&&void 0!==L?L:33554431)<<5;return J<G?new I(J,G,16|L):new I(G,J,L)}}]);return U}();F.EditorSelection=O;var Y=0,ba=function(){function U(G,J,L,S){Aa(this,U);this.combine=G;this.compareInput=J;this.compare=L;this.isStatic=S;this.id=Y++;this["default"]=G([])}ma(U,[{key:"of",value:function(G){return new na([],this,0,G)}},{key:"compute",value:function(G,J){if(this.isStatic)throw Error("Can't compute a static facet");
return new na(G,this,1,J)}},{key:"computeN",value:function(G,J){if(this.isStatic)throw Error("Can't compute a static facet");return new na(G,this,2,J)}},{key:"from",value:function(G,J){var L=this;return function(S){return ea(J,L.compute([S],function(W){return G(W.field(S))}))}}},{key:"nFrom",value:function(G,J){var L=this;return function(S){return ea(J,L.computeN([S],function(W){return G(W.field(S))}))}}}],[{key:"define",value:function(){var G=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{};return new U(G.combine||function(J){return J},G.compareInput||function(J,L){return J===L},G.compare||(G.combine?function(J,L){return J===L}:va),!!G["static"])}}]);return U}();F.Facet=ba;var na=function(){function U(G,J,L,S){Aa(this,U);this.dependencies=G;this.facet=J;this.type=L;this.value=S;this.id=Y++}ma(U,[{key:"dynamicSlot",value:function(G){var J,L=this.value,S=this.facet.compareInput,W=G[this.id]>>1,ca=2==this.type,ia=!1,sa=!1,za=[],Ga=!0,Ba=!1,Ra=void 0;try{for(var Ta=this.dependencies[Symbol.iterator](),
ab;!(Ga=(ab=Ta.next()).done);Ga=!0){var cb=ab.value;"doc"==cb?ia=!0:"selection"==cb?sa=!0:0==((null!==(J=G[cb.id])&&void 0!==J?J:1)&1)&&za.push(G[cb.id])}}catch(Ua){Ba=!0,Ra=Ua}finally{try{if(!Ga&&null!=Ta["return"])Ta["return"]()}finally{if(Ba)throw Ra;}}return function(Ua,tb){if(!tb||tb.reconfigure)Ua.values[W]=L(Ua);else{if(!(ia&&tb.docChanged||sa&&(tb.docChanged||tb.selection)||za.some(function(vc){return 0<(E(Ua,vc)&1)})))return 0;var Bb=L(Ua);tb=tb.startState.values[W];if(ca?Ma(Bb,tb,S):S(Bb,
tb))return 0;Ua.values[W]=Bb}return 1}}}]);return U}(),Ea=function(){function U(G,J,L,S,W){Aa(this,U);this.id=G;this.createF=J;this.updateF=L;this.compareF=S;this.facets=W}ma(U,[{key:"slot",value:function(G){var J=this,L=G[this.id]>>1;return function(S,W){if(!W)return S.values[L]=J.createF(S),1;var ca=0;if(W.reconfigure){var ia=W.startState.config.address[J.id];ia=null==ia?null:ia>>1;ia=null==ia?J.createF(W.startState):W.startState.values[ia];ca=1}else ia=W.startState.values[L];W=J.updateF(ia,W);
ca||J.compareF(ia,W)||(ca=1);ca&&(S.values[L]=W);return ca}}}],[{key:"define",value:function(G){var J=[],L=new U(Y++,G.create,G.update,G.compare||function(Ga,Ba){return Ga===Ba},J);if(G.provide){var S=!0,W=!1,ca=void 0;try{for(var ia=G.provide[Symbol.iterator](),sa;!(S=(sa=ia.next()).done);S=!0){var za=sa.value;za instanceof ba?J.push(za.compute([L],function(Ga){return Ga.field(L)})):J.push(za(L))}}catch(Ga){W=!0,ca=Ga}finally{try{if(!S&&null!=ia["return"])ia["return"]()}finally{if(W)throw ca;}}}return L}}]);
return U}();F.StateField=Ea;var Na={fallback:3,"default":2,extend:1,override:0},bb=function L(G,J){Aa(this,L);this.e=G;this.prec=J},Wa=function S(J,L){Aa(this,S);this.tag=J;this.extension=L},fb=function(){function J(L,S,W,ca,ia){Aa(this,J);this.source=L;this.replacements=S;this.dynamicSlots=W;this.address=ca;this.staticValues=ia;for(this.statusTemplate=[];this.statusTemplate.length<W.length;)this.statusTemplate.push(0)}ma(J,[{key:"staticFacet",value:function(L){var S=this.address[L.id];return null==
S?L["default"]:this.staticValues[S>>1]}}],[{key:"resolve",value:function(L){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object.create(null),W=2<arguments.length?arguments[2]:void 0,ca=[],ia=Object.create(null),sa=!0,za=!1,Ga=void 0;try{for(var Ba=y(L,S)[Symbol.iterator](),Ra;!(sa=(Ra=Ba.next()).done);sa=!0){var Ta=Ra.value;Ta instanceof Ea?ca.push(Ta):(ia[Ta.facet.id]||(ia[Ta.facet.id]=[])).push(Ta)}}catch(Fb){za=!0,Ga=Fb}finally{try{if(!sa&&null!=Ba["return"])Ba["return"]()}finally{if(za)throw Ga;
}}var ab=Object.create(null),cb=[],Ua=[];sa=function(){var Fb=Bb[tb];ab[Fb.id]=Ua.length<<1;Ua.push(function(bc){return Fb.slot(bc)})};for(var tb=0,Bb=ca;tb<Bb.length;tb++)sa();ca=function(Fb){var bc=ia[Fb],ic=bc[0].facet;if(bc.every(function(fa){return 0==fa.type})){ab[ic.id]=cb.length<<1|1;var jc=ic.combine(bc.map(function(fa){return fa.value}));Fb=W?W.config.address[ic.id]:null;null!=Fb&&(Fb=P(W,Fb),ic.compare(jc,Fb)&&(jc=Fb));cb.push(jc)}else{Fb=!0;var oc=!1,K=void 0;try{var R=function(){var fa=
qa.value;0==fa.type?(ab[fa.id]=cb.length<<1|1,cb.push(fa.value)):(ab[fa.id]=Ua.length<<1,Ua.push(function(la){return fa.dynamicSlot(la)}))};jc=bc[Symbol.iterator]();for(var qa;!(Fb=(qa=jc.next()).done);Fb=!0)R()}catch(fa){oc=!0,K=fa}finally{try{if(!Fb&&null!=jc["return"])jc["return"]()}finally{if(oc)throw K;}}ab[ic.id]=Ua.length<<1;Ua.push(function(fa){return Va(fa,ic,bc)})}};for(var vc in ia)ca(vc);return new J(L,S,Ua.map(function(Fb){return Fb(ab)}),ab,cb)}}]);return J}(),kb=ba.define(),gb=ba.define({combine:function(J){return J.some(function(L){return L})},
"static":!0}),ob=ba.define({combine:function(J){return J.length?J[0]:void 0},"static":!0}),sb=ba.define(),wb=ba.define(),mb=ba.define(),rb=function(){function J(L,S){Aa(this,J);this.type=L;this.value=S}ma(J,null,[{key:"define",value:function(){return new Eb}}]);return J}();F.Annotation=rb;var Eb=function(){function J(){Aa(this,J)}ma(J,[{key:"of",value:function(L){return new rb(this,L)}}]);return J}();F.AnnotationType=Eb;var xb=function(){function J(L,S){Aa(this,J);this.type=L;this.value=S}ma(J,[{key:"map",
value:function(L){L=this.type.map(this.value,L);return void 0===L?void 0:L==this.value?this:new J(this.type,L)}},{key:"is",value:function(L){return this.type==L}}],[{key:"define",value:function(){return new nb((0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).map||function(L){return L})}},{key:"mapEffects",value:function(L,S){if(!L.length)return L;var W=[],ca=!0,ia=!1,sa=void 0;try{for(var za=L[Symbol.iterator](),Ga;!(ca=(Ga=za.next()).done);ca=!0){var Ba=Ga.value.map(S);Ba&&W.push(Ba)}}catch(Ra){ia=
!0,sa=Ra}finally{try{if(!ca&&null!=za["return"])za["return"]()}finally{if(ia)throw sa;}}return W}}]);return J}();F.StateEffect=xb;var nb=function(){function J(L){Aa(this,J);this.map=L}ma(J,[{key:"of",value:function(L){return new xb(this,L)}}]);return J}();F.StateEffectType=nb;var yb=function(){function J(L,S,W,ca,ia,sa,za){Aa(this,J);this.startState=L;this.changes=S;this.selection=W;this.effects=ca;this.annotations=ia;this.reconfigure=sa;this.scrollIntoView=za;this._state=this._doc=null;W&&La(W,S.newLength);
ia.some(function(Ga){return Ga.type==J.time})||(this.annotations=ia.concat(J.time.of(Date.now())))}ma(J,[{key:"annotation",value:function(L){var S=!0,W=!1,ca=void 0;try{for(var ia=this.annotations[Symbol.iterator](),sa;!(S=(sa=ia.next()).done);S=!0){var za=sa.value;if(za.type==L)return za.value}}catch(Ga){W=!0,ca=Ga}finally{try{if(!S&&null!=ia["return"])ia["return"]()}finally{if(W)throw ca;}}}},{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",
get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){this._state||this.startState.applyTransaction(this);return this._state}},{key:"docChanged",get:function(){return!this.changes.empty}}]);return J}();F.Transaction=yb;yb.time=rb.define();yb.userEvent=rb.define();yb.addToHistory=rb.define();var ac=[],vb;F.CharCategory=vb;(function(J){J[J.Word=0]="Word";J[J.Space=1]="Space";J[J.Other=2]="Other"})(vb||(F.CharCategory=vb={}));var Yb=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
try{var Qb=RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(J){}Da=function(){function J(L,S,W){var ca=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;Aa(this,J);this.config=L;this.doc=S;this.selection=W;this.applying=null;this.status=L.statusTemplate.slice();if(ca&&!ca.reconfigure)this.values=ca.startState.values.slice();else if(this.values=L.dynamicSlots.map(function(Ga){return null}),ca)for(var ia in L.address){var sa=L.address[ia],za=ca.startState.config.address[ia];null!=za&&0==
(sa&1)&&(this.values[sa>>1]=P(ca.startState,za))}if(this.applying=ca)ca._state=this;for(ca=0;ca<this.config.dynamicSlots.length;ca++)E(this,ca<<1);this.applying=null}ma(J,[{key:"field",value:function(L){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,W=this.config.address[L.id];if(null==W){if(S)throw new RangeError("Field is not present in this state");}else return E(this,W),P(this,W)}},{key:"update",value:function(){for(var L=arguments.length,S=Array(L),W=0;W<L;W++)S[W]=arguments[W];
return p(this,S,!0)}},{key:"applyTransaction",value:function(L){var S=this.config;L.reconfigure&&(S=fb.resolve(L.reconfigure.full||S.source,Object.assign(S.replacements,L.reconfigure,{full:void 0}),this));new J(S,L.newDoc,L.newSelection,L)}},{key:"replaceSelection",value:function(L){"string"==typeof L&&(L=this.toText(L));return this.changeByRange(function(S){return{changes:{from:S.from,to:S.to,insert:L},range:O.cursor(S.from+L.length)}})}},{key:"changeByRange",value:function(L){var S=this.selection,
W=L(S.ranges[0]),ca=this.changes(W.changes),ia=[W.range];W=t(W.effects);for(var sa=1;sa<S.ranges.length;sa++){for(var za=L(S.ranges[sa]),Ga=this.changes(za.changes),Ba=Ga.map(ca),Ra=0;Ra<sa;Ra++)ia[Ra]=ia[Ra].map(Ba);Ga=ca.mapDesc(Ga,!0);ia.push(za.range.map(Ga));ca=ca.compose(Ba);W=xb.mapEffects(W,Ba).concat(xb.mapEffects(t(za.effects),Ga))}return{changes:ca,selection:O.create(ia,S.primaryIndex),effects:W}}},{key:"changes",value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
[];return L instanceof x?L:x.of(L,this.doc.length,this.facet(J.lineSeparator))}},{key:"toText",value:function(L){return v.Text.of(L.split(this.facet(J.lineSeparator)||A))}},{key:"sliceDoc",value:function(){return this.doc.sliceString(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.doc.length,this.lineBreak)}},{key:"facet",value:function(L){var S=this.config.address[L.id];if(null==S)return L["default"];E(this,S);return P(this,S)}},
{key:"toJSON",value:function(){return{doc:this.sliceDoc(),selection:this.selection.toJSON()}}},{key:"phrase",value:function(L){var S=!0,W=!1,ca=void 0;try{for(var ia=this.facet(J.phrases)[Symbol.iterator](),sa;!(S=(sa=ia.next()).done);S=!0){var za=sa.value;if(Object.prototype.hasOwnProperty.call(za,L))return za[L]}}catch(Ga){W=!0,ca=Ga}finally{try{if(!S&&null!=ia["return"])ia["return"]()}finally{if(W)throw ca;}}return L}},{key:"languageDataAt",value:function(L,S){var W=[],ca=!0,ia=!1,sa=void 0;try{for(var za=
this.facet(kb)[Symbol.iterator](),Ga;!(ca=(Ga=za.next()).done);ca=!0){var Ba=Ga.value,Ra=!0,Ta=!1,ab=void 0;try{for(var cb=Ba(this,S)[Symbol.iterator](),Ua;!(Ra=(Ua=cb.next()).done);Ra=!0){var tb=Ua.value;Object.prototype.hasOwnProperty.call(tb,L)&&W.push(tb[L])}}catch(Bb){Ta=!0,ab=Bb}finally{try{if(!Ra&&null!=cb["return"])cb["return"]()}finally{if(Ta)throw ab;}}}}catch(Bb){ia=!0,sa=Bb}finally{try{if(!ca&&null!=za["return"])za["return"]()}finally{if(ia)throw sa;}}return W}},{key:"charCategorizer",
value:function(L){return r(this.languageDataAt("wordChars",L).join(""))}},{key:"tabSize",get:function(){return this.facet(J.tabSize)}},{key:"lineBreak",get:function(){return this.facet(J.lineSeparator)||"\n"}}],[{key:"fromJSON",value:function(L){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!L||"string"!=typeof L.doc)throw new RangeError("Invalid JSON representation for EditorState");return J.create({doc:L.doc,selection:O.fromJSON(L.selection),extensions:S.extensions})}},{key:"create",
value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},S=fb.resolve(L.extensions||[]),W=L.doc instanceof v.Text?L.doc:v.Text.of((L.doc||"").split(S.staticFacet(J.lineSeparator)||A));L=L.selection?L.selection instanceof O?L.selection:O.single(L.selection.anchor,L.selection.head):O.single(0);La(L,W.length);S.staticFacet(gb)||(L=L.asSingle());return new J(S,W,L)}}]);return J}();F.EditorState=Da;Da.allowMultipleSelections=gb;Da.tabSize=ba.define({combine:function(J){return J.length?
J[0]:4}});Da.lineSeparator=ob;Da.phrases=ba.define();Da.languageData=kb;Da.changeFilter=sb;Da.transactionFilter=wb;Da.transactionExtender=mb};
shadow$provide[2]=function(Da,aa,lb,F){var Ha="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Oa="undefined"==typeof Symbol?"__styleSet"+Math.floor(1E8*Math.random()):Symbol("styleSet"),Ia="undefined"==typeof Da?window:Da;Da=F.StyleModule=function(wa,ma){function Qa(Ja){if(/^@/.test(Ja))return[Ja];Ja=Ja.split(",");return eb?Ja.map(eb):Ja}function oa(Ja,La,va){var Ma=[],Va=/^@(\w+)\b/.exec(Ja[0]);if(Va&&null==La)return va.push(Ja[0]+";");var ta=function(q){var y=La[q];if(/&/.test(q))oa(Ja.map(function(E){return ra?
ra(q,E):q.replace(/&/,E)}),y,va);else if(y&&"object"==typeof y){if(!Va)throw new RangeError("The value of a property ("+q+") should be a primitive value.");oa("keyframes"==Va[1]?[q]:Qa(q),y,Ma)}else null!=y&&Ma.push(q.replace(/_.*/,"").replace(/[A-Z]/g,function(E){return"-"+E.toLowerCase()})+": "+y+";")},ea;for(ea in La)ta(ea);(Ma.length||Va&&"keyframes"==Va[1])&&va.push(Ja.join(",")+" {"+Ma.join(" ")+"}")}this.rules=[];ma=ma||{};var eb=ma.process,ra=ma.extend,Fa;for(Fa in wa)oa(Qa(Fa),wa[Fa],this.rules)};
Da.newName=function(){var wa=Ia[Ha]||1;Ia[Ha]=wa+1;return"ͼ"+wa.toString(36)};Da.mount=function(wa,ma){(wa[Oa]||new Aa(wa)).mount(Array.isArray(ma)?ma:[ma])};var Pa=null,Aa=function(wa){if(wa.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Pa)return wa.adoptedStyleSheets=[Pa.sheet].concat(wa.adoptedStyleSheets),wa[Oa]=Pa;this.sheet=new CSSStyleSheet;wa.adoptedStyleSheets=[this.sheet].concat(wa.adoptedStyleSheets);Pa=this}else{this.styleTag=(wa.ownerDocument||wa).createElement("style");var ma=
wa.head||wa;ma.insertBefore(this.styleTag,ma.firstChild)}this.modules=[];wa[Oa]=this};Aa.prototype.mount=function(wa){for(var ma=this.sheet,Qa=0,oa=0,eb=0;eb<wa.length;eb++){var ra=wa[eb],Fa=this.modules.indexOf(ra);Fa<oa&&-1<Fa&&(this.modules.splice(Fa,1),oa--,Fa=-1);if(-1==Fa){if(this.modules.splice(oa++,0,ra),ma)for(Fa=0;Fa<ra.rules.length;Fa++)ma.insertRule(ra.rules[Fa],Qa++)}else{for(;oa<Fa;)Qa+=this.modules[oa++].rules.length;Qa+=ra.rules.length;oa++}}if(!ma){wa="";for(ma=0;ma<this.modules.length;ma++)wa+=
this.modules[ma].rules.join("\n")+"\n";this.styleTag.textContent=wa}}};
shadow$provide[3]=function(Da,aa,lb,F){function Ha(ta,ea){if(!(ta instanceof ea))throw new TypeError("Cannot call a class as a function");}function Oa(ta,ea){for(var q=0;q<ea.length;q++){var y=ea[q];y.enumerable=y.enumerable||!1;y.configurable=!0;"value"in y&&(y.writable=!0);Object.defineProperty(ta,y.key,y)}}function Ia(ta,ea,q){ea&&Oa(ta.prototype,ea);q&&Oa(ta,q);return ta}function Pa(ta,ea){return ta.from-ea.from||ta.value.startSide-ea.value.startSide}function Aa(ta,ea){var q=new Map,y=!0,E=!1,
P=void 0;try{for(var Z=ta[Symbol.iterator](),l;!(y=(l=Z.next()).done);y=!0){var p=l.value;for(ta=0;ta<p.chunk.length;ta++)500>p.chunk[ta].maxPoint&&q.set(p.chunk[ta],p.chunkPos[ta])}}catch(A){E=!0,P=A}finally{try{if(!y&&null!=Z["return"])Z["return"]()}finally{if(E)throw P;}}y=new Set;E=!0;P=!1;Z=void 0;try{for(var t=ea[Symbol.iterator](),r;!(E=(r=t.next()).done);E=!0){var v=r.value;for(ea=0;ea<v.chunk.length;ea++)q.get(v.chunk[ea])==v.chunkPos[ea]&&y.add(v.chunk[ea])}}catch(A){P=!0,Z=A}finally{try{if(!E&&
null!=t["return"])t["return"]()}finally{if(P)throw Z;}}return y}function wa(ta,ea){for(var q=ta[ea];;){var y=(ea<<1)+1;if(y>=ta.length)break;var E=ta[y];y+1<ta.length&&0<=E.compare(ta[y+1])&&(E=ta[y+1],y++);if(0>q.compare(E))break;ta[y]=q;ta[ea]=E;ea=y}}function ma(ta,ea,q,y,E,P){ta["goto"](ea);q["goto"](y);E=y+E;var Z=y;for(ea=y-ea;;){y=ta.to+ea-q.to||ta.endSide-q.endSide;var l=0>y?ta.to+ea:q.to,p=Math.min(l,E);if(ta.point||q.point)ta.point&&q.point&&(ta.point==q.point||ta.point.eq(q.point))||P.comparePoint(Z,
p,ta.point,q.point);else{var t;if(t=p>Z){a:{t=ta.active;var r=q.active;if(t.length!=r.length)t=!1;else{for(var v=0;v<t.length;v++)if(t[v]!=r[v]&&!t[v].eq(r[v])){t=!1;break a}t=!0}}t=!t}t&&P.compareRange(Z,p,ta.active,q.active)}if(l>E)break;Z=l;0>=y&&ta.next();0<=y&&q.next()}}function Qa(ta,ea){for(var q=ta.length-1;ea<q;ea++)ta[ea]=ta[ea+1];ta.pop()}function oa(ta,ea,q){for(var y=ta.length-1;y>=ea;y--)ta[y+1]=ta[y];ta[ea]=q}function eb(ta,ea){for(var q=-1,y=1E9,E=0;E<ea.length;E++)0>(ea[E]-y||ta[E].endSide-
ta[q].endSide)&&(q=E,y=ea[E]);return q}Object.defineProperty(F,"__esModule",{value:!0});F.RangeValue=F.RangeSetBuilder=F.RangeSet=F.Range=void 0;Da=aa(1);aa=function(){function ta(){Ha(this,ta)}Ia(ta,[{key:"eq",value:function(ea){return this==ea}},{key:"range",value:function(ea){return new ra(ea,1<arguments.length&&void 0!==arguments[1]?arguments[1]:ea,this)}}]);return ta}();F.RangeValue=aa;aa.prototype.startSide=aa.prototype.endSide=0;aa.prototype.point=!1;aa.prototype.mapMode=Da.MapMode.TrackDel;
var ra=function E(ea,q,y){Ha(this,E);this.from=ea;this.to=q;this.value=y};F.Range=ra;var Fa=function(){function ea(q,y,E,P){Ha(this,ea);this.from=q;this.to=y;this.value=E;this.maxPoint=P}Ia(ea,[{key:"findIndex",value:function(q,y){var E=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1E9*y,P=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(0>=q)return P;for(var Z=0>y?this.to:this.from,l=Z.length;;){if(P==l)return P;var p=P+l>>1,t=Z[p]-q||(0>y?this.value[p].startSide:this.value[p].endSide)-
E;if(p==P)return 0<=t?P:l;0<=t?l=p:P=p+1}}},{key:"between",value:function(q,y,E,P){y=this.findIndex(y,-1);for(E=this.findIndex(E,1,void 0,y);y<E;y++)if(!1===P(this.from[y]+q,this.to[y]+q,this.value[y]))return!1}},{key:"map",value:function(q,y){for(var E=[],P=[],Z=[],l=-1,p=-1,t=0;t<this.value.length;t++){var r=this.value[t],v=this.from[t]+q,A=this.to[t]+q;if(v==A){A=y.mapPos(v,r.startSide,r.mapMode);if(null==A)continue;v=A}else if(v=y.mapPos(v,r.startSide),A=y.mapPos(A,r.endSide),v>A||v==A&&0<r.startSide&&
0>=r.endSide)continue;0>(A-v||r.endSide-r.startSide)||(0>l&&(l=v),r.point&&(p=Math.max(p,A-v)),E.push(r),P.push(v-l),Z.push(A-l))}return{mapped:E.length?new ea(P,Z,E,p):null,pos:l}}},{key:"length",get:function(){return this.to[this.to.length-1]}}]);return ea}(),Ja=function(){function ea(q,y){var E=2<arguments.length&&void 0!==arguments[2]?arguments[2]:ea.empty,P=3<arguments.length?arguments[3]:void 0;Ha(this,ea);this.chunkPos=q;this.chunk=y;this.nextLayer=E;this.maxPoint=P}Ia(ea,[{key:"chunkEnd",
value:function(q){return this.chunkPos[q]+this.chunk[q].length}},{key:"update",value:function(q){var y=q.add;y=void 0===y?[]:y;var E=q.sort,P=q.filter,Z=q.filterFrom;Z=void 0===Z?0:Z;q=q.filterTo;q=void 0===q?this.length:q;if(0==y.length&&!P)return this;(void 0===E?0:E)&&y.slice().sort(Pa);if(this==ea.empty)return y.length?ea.of(y):this;E=(new va(this,null,-1))["goto"](0);for(var l=0,p=[],t=new La;E.value||l<y.length;)if(l<y.length&&0<=(E.from-y[l].from||E.startSide-y[l].value.startSide)){var r=y[l++];
t.addInner(r.from,r.to,r.value)||p.push(r)}else if(1==E.rangeIndex&&E.chunkIndex<this.chunk.length&&(l==y.length||this.chunkEnd(E.chunkIndex)<y[l].from)&&(!P||Z>this.chunkEnd(E.chunkIndex)||q<this.chunkPos[E.chunkIndex])&&t.addChunk(this.chunkPos[E.chunkIndex],this.chunk[E.chunkIndex]))E.nextChunk();else{if(!P||Z>E.to||q<E.from||P(E.from,E.to,E.value))t.addInner(E.from,E.to,E.value)||p.push(new ra(E.from,E.to,E.value));E.next()}return t.finishInner(this.nextLayer!=ea.empty||p.length?this.nextLayer.update({add:p,
filter:P,filterFrom:Z,filterTo:q}):ea.empty)}},{key:"map",value:function(q){if(0==q.length||this==ea.empty)return this;for(var y=[],E=[],P=-1,Z=0;Z<this.chunk.length;Z++){var l=this.chunkPos[Z],p=this.chunk[Z],t=q.touchesRange(l,l+p.length);!1===t?(P=Math.max(P,p.maxPoint),y.push(p),E.push(q.mapPos(l))):!0===t&&(p=p.map(l,q),l=p.mapped,p=p.pos,l&&(P=Math.max(P,l.maxPoint),y.push(l),E.push(p)))}q=this.nextLayer.map(q);return 0==y.length?q:new ea(E,y,q,P)}},{key:"between",value:function(q,y,E){if(this!=
ea.empty){for(var P=0;P<this.chunk.length;P++){var Z=this.chunkPos[P],l=this.chunk[P];if(y>=Z&&q<=Z+l.length&&!1===l.between(Z,q-Z,y-Z,E))return}this.nextLayer.between(q,y,E)}}},{key:"iter",value:function(){var q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return Ma.from([this])["goto"](q)}},{key:"length",get:function(){var q=this.chunk.length-1;return 0>q?0:Math.max(this.chunkEnd(q),this.nextLayer.length)}},{key:"size",get:function(){if(this==ea.empty)return 0;var q=this.nextLayer.size,
y=!0,E=!1,P=void 0;try{for(var Z=this.chunk[Symbol.iterator](),l;!(y=(l=Z.next()).done);y=!0)q+=l.value.value.length}catch(p){E=!0,P=p}finally{try{if(!y&&null!=Z["return"])Z["return"]()}finally{if(E)throw P;}}return q}}],[{key:"iter",value:function(q){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return Ma.from(q)["goto"](y)}},{key:"compare",value:function(q,y,E,P){var Z,l=null!==(Z=P.minPointSize)&&void 0!==Z?Z:-1;Z=q.filter(function(A){return 500<=A.maxPoint||A!=ea.empty&&0>y.indexOf(A)&&
A.maxPoint>=l});var p=y.filter(function(A){return 500<=A.maxPoint||A!=ea.empty&&0>q.indexOf(A)&&A.maxPoint>=l}),t=Aa(Z,p),r=new Va(Z,t,l),v=new Va(p,t,l);E.iterGaps(function(A,C,z){return ma(r,A,v,C,z,P)});E.empty&&0==E.length&&ma(r,0,v,0,0,P)}},{key:"spans",value:function(q,y,E,P){var Z;q=(new Va(q,null,null!==(Z=P.minPointSize)&&void 0!==Z?Z:-1))["goto"](y);for(Z=q.openStart;;){var l=Math.min(q.to,E);q.point?(P.point(y,l,q.point,q.activeForPoint(q.to),Z),Z=q.openEnd(l)+(q.to>l?1:0)):l>y&&(P.span(y,
l,q.active,Z),Z=q.openEnd(l));if(q.to>E)break;y=q.to;q.next()}return Z}},{key:"of",value:function(q){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,E=new La,P=!0,Z=!1,l=void 0;try{for(var p=(q instanceof ra?[q]:y?q.slice().sort(Pa):q)[Symbol.iterator](),t;!(P=(t=p.next()).done);P=!0){var r=t.value;E.add(r.from,r.to,r.value)}}catch(v){Z=!0,l=v}finally{try{if(!P&&null!=p["return"])p["return"]()}finally{if(Z)throw l;}}return E.finish()}}]);return ea}();F.RangeSet=Ja;Ja.empty=new Ja([],
[],null,-1);Ja.empty.nextLayer=Ja.empty;var La=function(){function ea(){Ha(this,ea);this.chunks=[];this.chunkPos=[];this.chunkStart=-1;this.last=null;this.lastTo=this.lastFrom=-1E9;this.from=[];this.to=[];this.value=[];this.setMaxPoint=this.maxPoint=-1;this.nextLayer=null}Ia(ea,[{key:"finishChunk",value:function(q){this.chunks.push(new Fa(this.from,this.to,this.value,this.maxPoint));this.chunkPos.push(this.chunkStart);this.chunkStart=-1;this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint);this.maxPoint=
-1;q&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(q,y,E){this.addInner(q,y,E)||(this.nextLayer||(this.nextLayer=new ea)).add(q,y,E)}},{key:"addInner",value:function(q,y,E){var P=q-this.lastTo||E.startSide-this.last.endSide;if(0>=P&&0>(q-this.lastFrom||E.startSide-this.last.startSide))throw Error("Ranges must be added sorted by `from` position and `startSide`");if(0>P)return!1;250==this.from.length&&this.finishChunk(!0);0>this.chunkStart&&(this.chunkStart=q);this.from.push(q-
this.chunkStart);this.to.push(y-this.chunkStart);this.last=E;this.lastFrom=q;this.lastTo=y;this.value.push(E);E.point&&(this.maxPoint=Math.max(this.maxPoint,y-q));return!0}},{key:"addChunk",value:function(q,y){if(0>(q-this.lastTo||y.value[0].startSide-this.last.endSide))return!1;this.from.length&&this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,y.maxPoint);this.chunks.push(y);this.chunkPos.push(q);var E=y.value.length-1;this.last=y.value[E];this.lastFrom=y.from[E]+q;this.lastTo=y.to[E]+
q;return!0}},{key:"finish",value:function(){return this.finishInner(Ja.empty)}},{key:"finishInner",value:function(q){this.from.length&&this.finishChunk(!1);if(0==this.chunks.length)return q;q=new Ja(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(q):q,this.setMaxPoint);this.from=null;return q}}]);return ea}();F.RangeSetBuilder=La;var va=function(){function ea(q,y,E){var P=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;Ha(this,ea);this.layer=q;this.skip=y;this.minPoint=
E;this.rank=P}Ia(ea,[{key:"goto",value:function(q){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.chunkIndex=this.rangeIndex=0;this.gotoInner(q,y,!1);return this}},{key:"gotoInner",value:function(q,y,E){for(;this.chunkIndex<this.layer.chunk.length;){var P=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(P)||this.layer.chunkEnd(this.chunkIndex)<q||P.maxPoint<this.minPoint))break;this.chunkIndex++;E=!1}q=this.chunkIndex==this.layer.chunk.length?0:this.layer.chunk[this.chunkIndex].findIndex(q-
this.layer.chunkPos[this.chunkIndex],-1,y);if(!E||this.rangeIndex<q)this.rangeIndex=q;this.next()}},{key:"forward",value:function(q,y){0>(this.to-q||this.endSide-y)&&this.gotoInner(q,y,!0)}},{key:"next",value:function(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1E9;this.value=null;break}else{var q=this.layer.chunkPos[this.chunkIndex],y=this.layer.chunk[this.chunkIndex];this.from=q+y.from[this.rangeIndex];this.to=q+y.to[this.rangeIndex];this.value=y.value[this.rangeIndex];
if(++this.rangeIndex==y.value.length){this.chunkIndex++;if(this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}if(0>this.minPoint||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"nextChunk",value:function(){this.chunkIndex++;this.rangeIndex=0;this.next()}},{key:"compare",value:function(q){return this.from-q.from||this.startSide-q.startSide||this.to-q.to||this.endSide-q.endSide}},{key:"startSide",
get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}}]);return ea}(),Ma=function(){function ea(q){Ha(this,ea);this.heap=q}Ia(ea,[{key:"goto",value:function(q){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9,E=!0,P=!1,Z=void 0;try{for(var l=this.heap[Symbol.iterator](),p;!(E=(p=l.next()).done);E=!0)p.value["goto"](q,y)}catch(t){P=!0,Z=t}finally{try{if(!E&&null!=l["return"])l["return"]()}finally{if(P)throw Z;
}}for(y=this.heap.length>>1;0<=y;y--)wa(this.heap,y);this.next();return this}},{key:"forward",value:function(q,y){var E=!0,P=!1,Z=void 0;try{for(var l=this.heap[Symbol.iterator](),p;!(E=(p=l.next()).done);E=!0)p.value.forward(q,y)}catch(t){P=!0,Z=t}finally{try{if(!E&&null!=l["return"])l["return"]()}finally{if(P)throw Z;}}for(E=this.heap.length>>1;0<=E;E--)wa(this.heap,E);0>(this.to-q||this.value.endSide-y)&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1E9,this.value=
null,this.rank=-1;else{var q=this.heap[0];this.from=q.from;this.to=q.to;this.value=q.value;this.rank=q.rank;q.value&&q.next();wa(this.heap,0)}}},{key:"startSide",get:function(){return this.value?this.value.startSide:0}}],[{key:"from",value:function(q){for(var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,E=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,P=[],Z=0;Z<q.length;Z++)for(var l=q[Z];l!=Ja.empty;l=l.nextLayer)l.maxPoint>=E&&P.push(new va(l,y,E,Z));return 1==P.length?
P[0]:new ea(P)}}]);return ea}(),Va=function(){function ea(q,y,E){Ha(this,ea);this.minPoint=E;this.active=[];this.activeTo=[];this.activeRank=[];this.minActive=-1;this.point=null;this.pointRank=this.pointFrom=0;this.to=-1E9;this.endSide=0;this.openStart=-1;this.cursor=Ma.from(q,y,E)}Ia(ea,[{key:"goto",value:function(q){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.cursor["goto"](q,y);this.active.length=this.activeTo.length=this.activeRank.length=0;this.minActive=-1;this.to=
q;this.endSide=y;this.openStart=-1;this.next();return this}},{key:"forward",value:function(q,y){for(;-1<this.minActive&&0>(this.activeTo[this.minActive]-q||this.active[this.minActive].endSide-y);)this.removeActive(this.minActive);this.cursor.forward(q,y)}},{key:"removeActive",value:function(q){Qa(this.active,q);Qa(this.activeTo,q);Qa(this.activeRank,q);this.minActive=eb(this.active,this.activeTo)}},{key:"addActive",value:function(q){var y=0,E=this.cursor,P=E.value,Z=E.to;for(E=E.rank;y<this.activeRank.length&&
this.activeRank[y]<=E;)y++;oa(this.active,y,P);oa(this.activeTo,y,Z);oa(this.activeRank,y,E);q&&oa(q,y,this.cursor.from);this.minActive=eb(this.active,this.activeTo)}},{key:"next",value:function(){var q=this.to;this.point=null;for(var y=0>this.openStart?[]:null,E=0;;){var P=this.minActive;if(-1<P&&0>(this.activeTo[P]-this.cursor.from||this.active[P].endSide-this.cursor.startSide)){if(this.activeTo[P]>q){this.to=this.activeTo[P];this.endSide=this.active[P].endSide;break}this.removeActive(P);y&&Qa(y,
P)}else if(this.cursor.value)if(this.cursor.from>q){this.to=this.cursor.from;this.endSide=this.cursor.startSide;break}else if(P=this.cursor.value,P.point){this.point=P;this.pointFrom=this.cursor.from;this.pointRank=this.cursor.rank;this.to=this.cursor.to;this.endSide=P.endSide;this.cursor.from<q&&(E=1);this.cursor.next();this.to>q&&this.forward(this.to,this.endSide);break}else this.addActive(y),this.cursor.next();else{this.to=this.endSide=1E9;break}}if(y){for(P=0;P<y.length&&y[P]<q;)P++;this.openStart=
P+E}}},{key:"activeForPoint",value:function(q){if(!this.active.length)return this.active;for(var y=[],E=0;E<this.active.length&&!(this.activeRank[E]>this.pointRank);E++)(this.activeTo[E]>q||this.activeTo[E]==q&&this.active[E].endSide>this.point.endSide)&&y.push(this.active[E]);return y}},{key:"openEnd",value:function(q){for(var y=0;y<this.activeTo.length&&this.activeTo[y]>q;)y++;return y}}]);return ea}()};
shadow$provide[4]=function(Da,aa,lb,F){Object.defineProperty(F,"__esModule",{value:!0});var Ha={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",
162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Oa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"\x26",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"\x3c",189:"_",190:"\x3e",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};Da="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent);var Ia="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor);
aa="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent);lb="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var Pa="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Aa=Da&&(lb||57>+Da[1])||aa&&lb;for(Da=0;10>Da;Da++)Ha[48+Da]=Ha[96+Da]=String(Da);for(Da=1;24>=Da;Da++)Ha[Da+111]="F"+Da;for(Da=65;90>=Da;Da++)Ha[Da]=String.fromCharCode(Da+32),Oa[Da]=String.fromCharCode(Da);for(var wa in Ha)Oa.hasOwnProperty(wa)||(Oa[wa]=
Ha[wa]);F.base=Ha;F.keyName=function(ma){ma=!(Aa&&(ma.ctrlKey||ma.altKey||ma.metaKey)||(Ia||Pa)&&ma.shiftKey&&ma.key&&1==ma.key.length)&&ma.key||(ma.shiftKey?Oa:Ha)[ma.keyCode]||ma.key||"Unidentified";"Esc"==ma&&(ma="Escape");"Del"==ma&&(ma="Delete");"Left"==ma&&(ma="ArrowLeft");"Up"==ma&&(ma="ArrowUp");"Right"==ma&&(ma="ArrowRight");"Down"==ma&&(ma="ArrowDown");return ma};F.shift=Oa};
shadow$provide[5]=function(Da,aa,lb,F){function Ha(m,e,a){Ha="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(b,d,g){for(;!Object.prototype.hasOwnProperty.call(b,d)&&(b=Aa(b),null!==b););if(b)return d=Object.getOwnPropertyDescriptor(b,d),d.get?d.get.call(g):d.value};return Ha(m,e,a||m)}function Oa(m){Oa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?
"symbol":typeof e};return Oa(m)}function Ia(m,e){return!e||"object"!==Oa(e)&&"function"!==typeof e?Pa(m):e}function Pa(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function Aa(m){Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Aa(m)}function wa(m,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");m.prototype=
Object.create(e&&e.prototype,{constructor:{value:m,writable:!0,configurable:!0}});e&&ma(m,e)}function ma(m,e){ma=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return ma(m,e)}function Qa(m){if(Array.isArray(m)){var e=0;for(var a=Array(m.length);e<m.length;e++)a[e]=m[e];e=a}else e=void 0;e||(e=Symbol.iterator in Object(m)||"[object Arguments]"===Object.prototype.toString.call(m)?Array.from(m):void 0);if(!(m=e))throw new TypeError("Invalid attempt to spread non-iterable instance");return m}
function oa(m,e){if(!(m instanceof e))throw new TypeError("Cannot call a class as a function");}function eb(m,e){for(var a=0;a<e.length;a++){var b=e[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(m,b.key,b)}}function ra(m,e,a){e&&eb(m.prototype,e);a&&eb(m,a);return m}function Fa(m){return m.getSelection?m.getSelection():document.getSelection()}function Ja(m){var e=m.isCollapsed;e&&pb.chrome&&m.rangeCount&&!m.getRangeAt(0).collapsed&&(e=!1);return e}
function La(m,e){if(!e.anchorNode)return!1;try{return m.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)}catch(a){return!1}}function va(m){if(3==m.nodeType){var e=Cc||(Cc=document.createRange());e.setEnd(m,m.nodeValue.length);e.setStart(m,0);return e.getClientRects()}return 1==m.nodeType?m.getClientRects():[]}function Ma(m,e,a,b){return a?ta(m,e,a,b,-1)||ta(m,e,a,b,1):!1}function Va(m){for(var e=0;;e++)if(m=m.previousSibling,!m)return e}function ta(m,e,a,b,d){for(;;){if(m==
a&&e==b)return!0;if(e==(0>d?0:ea(m))){if("DIV"==m.nodeName)return!1;var g=m.parentNode;if(!g||1!=g.nodeType)return!1;e=Va(m)+(0>d?0:1);m=g}else if(1==m.nodeType)m=m.childNodes[e+(0>d?-1:0)],e=0>d?ea(m):0;else return!1}}function ea(m){return 3==m.nodeType?m.nodeValue.length:m.childNodes.length}function q(m,e){e=e?m.left:m.right;return{left:e,right:e,top:m.top,bottom:m.bottom}}function y(m){if(m.setActive)return m.setActive();if(Dc)return m.focus(Dc);for(var e=[],a=m;a&&(e.push(a,a.scrollTop,a.scrollLeft),
a!=a.ownerDocument);a=a.parentNode);m.focus(null==Dc?{get preventScroll(){Dc={preventScroll:!0};return!0}}:void 0);if(!Dc)for(Dc=!1,m=0;m<e.length;){a=e[m++];var b=e[m++],d=e[m++];a.scrollTop!=b&&(a.scrollTop=b);a.scrollLeft!=d&&(a.scrollLeft=d)}}function E(m){var e=m.nextSibling;m.parentNode.removeChild(m);return e}function P(m,e,a,b){var d=e,g=e,k=0;0==e&&0>a||e==b&&0<=a?pb.chrome||pb.gecko||(e?(d--,k=1):(g++,k=-1)):0>a?d--:g++;e=Cc||(Cc=document.createRange());e.setEnd(m,g);e.setStart(m,d);m=e.getClientRects();
a=m[(k?0>k:0<=a)?0:m.length-1];pb.safari&&!k&&0==a.width&&(a=Array.prototype.find.call(m,function(u){return u.width})||a);return k?q(a,0>k):a}function Z(m,e,a,b,d,g){var k=m.childCursor(),u=k.findPos(a,1),H=u.i;u=u.off;var N=k.findPos(e,-1);k=N.i;N=N.off;e-=a;a=!0;var T=!1,X=void 0;try{for(var ha=b[Symbol.iterator](),ja;!(a=(ja=ha.next()).done);a=!0)e+=ja.value.length}catch(xa){T=!0,X=xa}finally{try{if(!a&&null!=ha["return"])ha["return"]()}finally{if(T)throw X;}}m.length+=e;ha=m.children;if(k==H&&
N){ja=ha[k];if(1==b.length&&ja.merge(N,u,b[0],d,g))return;if(0==b.length){ja.merge(N,u,null,d,g);return}u=ja.slice(u);u.merge(0,0,b[b.length-1],0,g)?b[b.length-1]=u:b.push(u);H++;g=u=0}u?(ja=ha[H],b.length&&ja.merge(0,u,b[b.length-1],0,g)?(b.pop(),g=0):ja.merge(0,u,null,0,0)):H<ha.length&&b.length&&ha[H].merge(0,0,b[b.length-1],0,g)&&(b.pop(),g=0);N?(u=ha[k],b.length&&u.merge(N,u.length,b[0],d,0)?(b.shift(),d=0):u.merge(N,u.length,null,0,0),k++):k&&b.length&&(u=ha[k-1],u.merge(u.length,u.length,b[0],
d,0)&&(b.shift(),d=0));for(;k<H&&b.length&&ha[H-1].become(b[b.length-1]);)b.pop(),H--,g=0;for(;k<H&&b.length&&ha[k].become(b[0]);)b.shift(),k++,d=0;!b.length&&k&&H<ha.length&&d&&g&&ha[H].merge(0,0,ha[k-1],d,g)&&k--;(b.length||k!=H)&&m.replaceChildren(k,H,b)}function l(m,e,a){for(var b=0,d=0;b<e.length;b++){var g=e[b],k=d+g.length;if(!(k==d&&0>=g.getSide())){if(a>d&&a<k&&g.dom.parentNode==m)return g.domAtPos(a-d);if(a<=d)break;d=k}}for(;0<b;b--)if(a=e[b-1].dom,a.parentNode==m)return pc.after(a);return new pc(m,
0)}function p(m,e,a){var b,d=m.children;0<a&&e instanceof Ob&&d.length&&(b=d[d.length-1])instanceof Ob&&b.mark.eq(e.mark)?p(b,e.children[0],a-1):(d.push(e),e.setParent(m));m.length+=e.length}function t(m,e,a){for(var b=0,d=0;d<m.children.length;d++){var g=m.children[d],k=b+g.length;if(!(k==b&&0>=g.getSide())){if(0>=a||k==m.length?k>=e:k>e)return g.coordsAt(e-b,a);b=k}}return(m.dom.lastChild||m.dom).getBoundingClientRect()}function r(m,e){for(var a in m)"class"==a&&e["class"]?e["class"]+=" "+m["class"]:
"style"==a&&e.style?e.style+=";"+m.style:e[a]=m[a];return e}function v(m,e){if(m==e)return!0;if(!m||!e)return!1;var a=Object.keys(m),b=Object.keys(e);if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++){var g=a[d];if(-1==b.indexOf(g)||m[g]!==e[g])return!1}return!0}function A(m,e,a){if(e)for(var b in e)a&&b in a||m.removeAttribute(b);if(a)for(var d in a)e&&e[d]==a[d]||m.setAttribute(d,a[d])}function C(m){var e=m.inclusiveStart,a=m.inclusiveEnd;null==e&&(e=m.inclusive);null==a&&(a=m.inclusive);
return{start:e||!1,end:a||!1}}function z(m,e,a){var b=a.length-1;0<=b&&a[b]+4>m?a[b]=Math.max(a[b],e):a.push(m,e)}function x(m){return m.replace(/\$\w[\w\.]*/g,function(e){e=e.slice(1).split(".");for(var a="",b=1;b<=e.length;b++)a+=".cm-"+e.slice(0,b).join("-");return a})}function D(m,e){return new qa.StyleModule(e,{process:function(a){a=x(a);return/\$/.test(a)?a.replace(/\$/,m):m+" "+a},extend:function(a,b){a=x(a);return b.slice(0,m.length+1)==m+" "?m+" "+a.replace(/&/,b.slice(m.length+1)):a.replace(/&/,
b)}})}function I(m){if(0>m.indexOf("."))return"cm-"+m;m=m.split(".");for(var e="",a=1;a<=m.length;a++)e+=(e?" ":"")+"cm-"+m.slice(0,a).join("-");return e}function O(m){for(var e=[],a=0;a<m.length;a++)e.push(1<<+m[a]);return e}function Y(m,e){var a=m.length;e=e==Wc?1:2;if(!m||1==e&&!md.test(m))return[new wc(0,a,0)];for(var b=0,d=e,g=e;b<a;b++){var k=m.charCodeAt(b);k=247>=k?nd[k]:1424<=k&&1524>=k?2:1536<=k&&1785>=k?od[k-1536]:1774<=k&&2220>=k?4:8192<=k&&8203>=k?256:8204==k?256:1;512==k?k=d:8==k&&4==
g&&(k=16);Kb[b]=4==k?2:k;k&7&&(g=k);d=k}g=0;for(m=k=e;g<a;g++){b=Kb[g];if(128==b)g<a-1&&k==Kb[g+1]&&k&24?b=Kb[g]=k:Kb[g]=256;else if(64==b){for(d=g+1;d<a&&64==Kb[d];)d++;for(k=g&&8==k||d<a&&8==Kb[d]?1==m?1:8:256;g<d;g++)Kb[g]=k;g=d-1}else 8==b&&1==m&&(Kb[g]=1);k=b;b&7&&(m=b)}for(b=0;b<a;b++)if(256==Kb[b]){for(m=b+1;m<a&&256==Kb[m];)m++;d=1==(b?Kb[b-1]:e);for(d=d==(1==(m<a?Kb[m]:e))?d?1:2:e;b<m;b++)Kb[b]=d;b=m-1}m=[];if(1==e)for(e=0;e<a;){b=e;for(d=1!=Kb[e++];e<a&&d==(1!=Kb[e]);)e++;if(d)for(d=e;d>
b;){g=d;for(k=2!=Kb[--d];d>b&&k==(2!=Kb[d-1]);)d--;m.push(new wc(d,g,k?2:1))}else m.push(new wc(b,e,0))}else for(e=0;e<a;){b=e;for(d=2==Kb[e++];e<a&&d==(2==Kb[e]);)e++;m.push(new wc(b,e,d?1:2))}return m}function ba(m,e,a,b,d){var g,k=b.head-m.from,u=-1;if(0==k){if(!d||!m.length)return null;e[0].level!=a&&(k=e[0].side(!1,a),u=0)}else if(k==m.length){if(d)return null;var H=e[e.length-1];H.level!=a&&(k=H.side(!0,a),u=e.length-1)}0>u&&(u=wc.find(e,k,null!==(g=b.bidiLevel)&&void 0!==g?g:-1,b.assoc));b=
e[u];k==b.side(d,a)&&(b=e[u+=d?1:-1],k=b.side(!d,a));H=d==(b.dir==a);g=m.findClusterBreak(k,H);Xc=m.slice(Math.min(k,g),Math.max(k,g));return g!=b.side(d,a)?R.EditorSelection.cursor(g+m.from,H?-1:1,b.level):(e=u==(d?e.length-1:0)?null:e[u+(d?1:-1)])||b.level==a?e&&e.level<b.level?R.EditorSelection.cursor(e.side(!d,a)+m.from,0,e.level):R.EditorSelection.cursor(g+m.from,0,b.level):R.EditorSelection.cursor(d?m.to:m.from,d?-1:1,a)}function na(m,e){var a,b;null==m[e]&&(a=m[e-1])instanceof B&&(b=m[e+1])instanceof
B&&m.splice(e-1,3,new B(a.length+1+b.length))}function Ea(m,e,a){var b=new V;fa.RangeSet.compare(m,e,a,b);return b.changes}function Na(m,e,a){m=m.facet(Sa);if(m.length)m[0](e);else if(window.onerror)window.onerror(String(e),a,void 0,void 0,e);else a?console.error(a+":",e):console.error(e)}function bb(m,e,a){var b=[],d=m,g=0;fa.RangeSet.spans(a.facet(Lb),m,e,{span:function(){},point:function(k,u){k>d&&(b.push({from:d,to:k}),g+=k-d);d=u},minPointSize:20});d<e&&(b.push({from:d,to:e}),g+=e-d);return{total:g,
ranges:b}}function Wa(m,e){var a=m.ranges;if(0>=e)return a[0].from;if(1<=e)return a[a.length-1].to;m=Math.floor(m.total*e);for(e=0;;e++){var b=a[e],d=b.from;b=b.to-d;if(m<=b)return d+m;m-=b}}function fb(m,e){var a=0,b=!0,d=!1,g=void 0;try{for(var k=m.ranges[Symbol.iterator](),u;!(b=(u=k.next()).done);b=!0){var H=u.value,N=H.from,T=H.to;if(e<=T){a+=e-N;break}a+=T-N}}catch(X){d=!0,g=X}finally{try{if(!b&&null!=k["return"])k["return"]()}finally{if(d)throw g;}}return a/m.total}function kb(m,e){var a=!0,
b=!1,d=void 0;try{for(var g=m[Symbol.iterator](),k;!(a=(k=g.next()).done);a=!0){var u=k.value;if(e(u))return u}}catch(H){b=!0,d=H}finally{try{if(!a&&null!=g["return"])g["return"]()}finally{if(b)throw d;}}}function gb(m,e){var a=Fa(m.root);a=a.focusNode&&ob(a.focusNode,a.focusOffset,0);if(!a)return Db.none;var b=m.docView.nearest(a),d=a;if(b instanceof Ec){for(;b.parent instanceof Ec;)b=b.parent;var g=b.posAtStart;var k=g+b.length;d=b.dom}else if(b instanceof Cb){for(;d.parentNode!=b.dom;)d=d.parentNode;
for(k=d.previousSibling;k&&!zb.get(k);)k=k.previousSibling;g=k=k?zb.get(k).posAtEnd:b.posAtStart}else return Db.none;b=e.mapPos(g,1);e=Math.max(b,e.mapPos(k,-1));k=a.nodeValue;m=m.state;if(e-b<k.length)if(m.sliceDoc(b,Math.min(m.doc.length,b+k.length))==k)e=b+k.length;else if(m.sliceDoc(Math.max(0,e-k.length),e)==k)b=e-k.length;else return Db.none;else if(m.sliceDoc(b,e)!=k)return Db.none;return Db.set(Db.replace({widget:new Od(d,a)}).range(b,e))}function ob(m,e,a){for(;;){if(3==m.nodeType)return m;
if(1==m.nodeType&&0<e&&0>=a)m=m.childNodes[e-1],e=ea(m);else if(1==m.nodeType&&e<m.childNodes.length&&0<=a)m=m.childNodes[e],e=0;else return null}}function sb(m,e){return 1!=m.nodeType?0:(e&&"false"==m.childNodes[e-1].contentEditable?1:0)|(e<m.childNodes.length&&"false"==m.childNodes[e].contentEditable?2:0)}function wb(m,e,a){var b=new Pd;fa.RangeSet.compare(m,e,a,b);return b.changes}function mb(m,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,b=m.charCategorizer(e),d=m.doc.lineAt(e),
g=e-d.from;if(0==d.length)return R.EditorSelection.cursor(e);0==g?a=1:g==d.length&&(a=-1);var k=g,u=g;0>a?k=d.findClusterBreak(g,!1):u=d.findClusterBreak(g,!0);for(a=b(d.slice(k,u));0<k;){g=d.findClusterBreak(k,!1);if(b(d.slice(g,k))!=a)break;k=g}for(;u<d.length;){g=d.findClusterBreak(u,!0);if(b(d.slice(u,g))!=a)break;u=g}return R.EditorSelection.range(k+d.from,u+d.from)}function rb(m,e){return m.top<e.bottom-1&&m.bottom>e.top+1}function Eb(m,e){return e<m.top?{top:e,left:m.left,right:m.right,bottom:m.bottom}:
m}function xb(m,e){return e>m.bottom?{top:m.top,left:m.left,right:m.right,bottom:e}:m}function nb(m,e,a){for(var b,d,g,k,u,H,N,T,X=m.firstChild;X;X=X.nextSibling)for(var ha=va(X),ja=0;ja<ha.length;ja++){var xa=ha[ja];d&&rb(d,xa)&&(xa=Eb(xb(xa,d.bottom),d.top));var Xa=xa.left>e?xa.left-e:Math.max(0,e-xa.right),Za=xa.top>a?xa.top-a:Math.max(0,a-xa.bottom);if(0==Xa&&0==Za)return 3==X.nodeType?yb(X,e,a):nb(X,e,a);if(!b||k>Za||k==Za&&g>Xa)b=X,d=xa,g=Xa,k=Za;0==Xa?a>xa.bottom&&(!N||N.bottom<xa.bottom)?
(u=X,N=xa):a<xa.top&&(!T||T.top>xa.top)&&(H=X,T=xa):N&&rb(N,xa)?N=xb(N,xa.bottom):T&&rb(T,xa)&&(T=Eb(T,xa.top))}N&&N.bottom>=a?(b=u,d=N):T&&T.top<=a&&(b=H,d=T);if(!b)return{node:m,offset:0};k=Math.max(d.left,Math.min(d.right,e));if(3==b.nodeType)return yb(b,k,a);if(!g&&"true"==b.contentEditable)return nb(b,k,a);e=Array.prototype.indexOf.call(m.childNodes,b)+(e>=(d.left+d.right)/2?1:0);return{node:m,offset:e}}function yb(m,e,a){for(var b=m.nodeValue.length,d=Cc||(Cc=document.createRange()),g=0;g<b;g++){d.setEnd(m,
g+1);d.setStart(m,g);for(var k=d.getClientRects(),u=0;u<k.length;u++){var H=k[u];if(H.top!=H.bottom&&H.left-1<=e&&H.right+1>=e&&H.top-1<=a&&H.bottom+1>=a){a=e=e>=(H.left+H.right)/2;if(pb.chrome||pb.gecko)d.setEnd(m,g),d.getBoundingClientRect().left==H.right&&(a=!e);return{node:m,offset:g+(a?1:0)}}}}return{node:m,offset:0}}function ac(m,e){for(var a=e.x,b=e.y,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,g=m.contentDOM.getBoundingClientRect(),k,u=m.defaultLineHeight/2,H=!1;;){k=m.blockAtHeight(b,
g.top);if(k.top>b||k.bottom<b){d=k.top>b?-1:1;b=Math.min(k.bottom-u,Math.max(k.top+u,b));if(H)return-1;H=!0}if(k.type==Ib.Text)break;b=0<d?k.bottom+u:k.top-u}d=k.from;if(d<m.viewport.from)return 0==m.viewport.from?0:null;if(d>m.viewport.to)return m.viewport.to==m.state.doc.length?m.state.doc.length:null;a=Math.max(g.left+1,Math.min(g.right-1,a));k=m.root;u=k.elementFromPoint(a,b);g=-1;if(u&&m.contentDOM.contains(u)&&!(m.docView.nearest(u)instanceof Ic))if(k.caretPositionFromPoint){if(k=k.caretPositionFromPoint(a,
b)){var N=k.offsetNode;g=k.offset}}else k.caretRangeFromPoint&&(k=k.caretRangeFromPoint(a,b))&&(N=k.startContainer,g=k.startOffset);N&&m.docView.dom.contains(N)||(N=Cb.find(m.docView,d),a=nb(N.dom,a,b),N=a.node,g=a.offset);return m.docView.posFromDOM(N,g)}function vb(m,e,a,b){for(var d=m.state.doc.lineAt(e.head),g=m.bidiSpans(d),k=null;;){var u=ba(d,g,m.textDirection,e,a),H=Xc;if(!u){if(d.number==(a?m.state.doc.lines:1))return e;H="\n";d=m.state.doc.line(d.number+(a?1:-1));g=m.bidiSpans(d);u=R.EditorSelection.cursor(a?
d.from:d.to)}if(!k){if(!b)return u;k=b(H)}else if(!k(H))return e;e=u}}function Yb(m,e,a){var b=m.state.charCategorizer(e),d=b(a);return function(g){g=b(g);d==R.CharCategory.Space&&(d=g);return d==g}}function Qb(m,e){if(m.state.selection.primary.empty)return!1;m=Fa(m.root);if(0==m.rangeCount)return!0;m=m.getRangeAt(0).getClientRects();for(var a=0;a<m.length;a++){var b=m[a];if(b.left<=e.clientX&&b.right>=e.clientX&&b.top<=e.clientY&&b.bottom>=e.clientY)return!0}return!1}function U(m,e){if(!e.bubbles)return!0;
if(e.defaultPrevented)return!1;for(var a=e.target,b;a!=m.contentDOM;a=a.parentNode)if(!a||11==a.nodeType||(b=zb.get(a))&&b.ignoreEvent(e))return!1;return!0}function G(m){var e=m.dom.parentNode;if(e){var a=e.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px";a.focus();setTimeout(function(){m.focus();a.remove();J(m,a.value)},50)}}function J(m,e){var a=m.state,b=1,d=a.toText(e),g=d.lines==a.selection.ranges.length;var k=pd&&a.selection.ranges.every(function(u){return u.empty})&&
pd==d.toString()?{changes:a.selection.ranges.map(function(u){return a.doc.lineAt(u.from)}).filter(function(u,H,N){return 0==H||N[H-1]!=u}).map(function(u){return{from:u.from,insert:(g?d.line(b++).slice():e)+a.lineBreak}})}:g?a.changeByRange(function(u){var H=d.line(b++);return{changes:{from:u.from,to:u.to,insert:H.slice()},range:R.EditorSelection.cursor(u.from+H.length)}}):a.replaceSelection(d);m.dispatch(k,{annotations:R.Transaction.userEvent.of("paste"),scrollIntoView:!0})}function L(m,e,a,b){if(1==
b)return R.EditorSelection.cursor(e,a);if(2==b)return mb(m.state,e,a);if(a=Cb.find(m.docView,e))return R.EditorSelection.range(a.posAtStart,a.posAtEnd);m=m.state.doc.lineAt(e);return R.EditorSelection.range(m.from,m.to)}function S(m,e){var a=m.posAtCoords({x:e.clientX,y:e.clientY});if(null==a)a=null;else{var b=e.clientX;e=e.clientY;var d=Cb.find(m.docView,a);if(d){var g=a-d.posAtStart;b=0==g?1:g==d.length?-1:(m=d.coordsAt(g,-1))&&e>=m.top&&e<=m.bottom&&b>=m.left&&b<=m.right?-1:(d=d.coordsAt(g,1))&&
e>=d.top&&e<=d.bottom&&b>=d.left&&b<=d.right?1:m&&e>=m.top&&e<=m.bottom?-1:1}else b=1;a={pos:a,bias:b}}return a}function W(m){if(!Qd)return m.detail;var e=Bd;Bd=m;return Cd=!e||e.timeStamp>Date.now()-400&&2>Math.abs(e.clientX-m.clientX)&&2>Math.abs(e.clientY-m.clientY)?(Cd+1)%3:1}function ca(m,e){var a=S(m,e),b=W(e),d=m.state.selection,g=a,k=e;return{update:function(u){u.changes&&(a&&(a.pos=u.changes.mapPos(a.pos)),d=d.map(u.changes))},get:function(u,H,N){if(u.clientX==k.clientX&&u.clientY==k.clientY)var T=
g;else T=g=S(m,u),k=u;if(!T||!a)return d;u=L(m,T.pos,T.bias,b);if(a.pos!=T.pos&&!H){var X=L(m,a.pos,a.bias,b);T=Math.min(X.from,u.from);X=Math.max(X.to,u.to);u=T<u.from?R.EditorSelection.range(T,X):R.EditorSelection.range(X,T)}return H?d.replaceRange(d.primary.extend(u.from,u.to)):N?d.addRange(u):R.EditorSelection.create([u])}}}function ia(m,e){var a=m.dom.parentNode;if(a){var b=a.appendChild(document.createElement("textarea"));b.style.cssText="position: fixed; left: -10000px; top: 10px";b.value=
e;b.focus();b.selectionEnd=e.length;b.selectionStart=0;setTimeout(function(){b.remove();m.focus()},50)}}function sa(m,e,a){for(;e;){var b=zb.get(e);if(b&&b.parent==m)return b;b=e.parentNode;e=b!=m.dom?b:0<a?e.nextSibling:e.previousSibling}return null}function za(m,e,a,b){var d,g=m.state.selection.primary,k;if(-1<e&&(k=m.docView.domBoundsAround(e,a,0))){var u=k;e=u.from;var H=u.to;u=m.docView.impreciseHead||m.docView.impreciseAnchor?[]:Ra(m.contentDOM,m.root);a=new Rd(u,m.state.lineBreak);a.readRange(k.startDOM,
k.endDOM);u=Ta(u,e);k=g.from;var N=null;8===m.inputState.lastKeyCode&&m.inputState.lastKeyTime>Date.now()-100&&(k=g.to,N="end");(k=Ga(m.state.sliceDoc(e,H),a.text,k-e,N))&&(d={from:e+k.from,to:e+k.toA,insert:m.state.toText(a.text.slice(k.from,k.toB))})}else m.hasFocus&&(e=Fa(m.root),a=m.docView,k=a.impreciseHead,a=a.impreciseAnchor,k=k&&k.node==e.focusNode&&k.offset==e.focusOffset?m.state.selection.primary.head:m.docView.posFromDOM(e.focusNode,e.focusOffset),e=a&&a.node==e.anchorNode&&a.offset==e.anchorOffset?
m.state.selection.primary.anchor:Ja(e)?k:m.docView.posFromDOM(e.anchorNode,e.anchorOffset),k!=g.head||e!=g.anchor)&&(u=R.EditorSelection.single(e,k));if(d||u)if(!d&&b&&!g.empty&&u&&u.primary.empty&&(d={from:g.from,to:g.to,insert:m.state.doc.slice(g.from,g.to)}),d){var T=m.state;if(!pb.android||!(d.from==g.from&&d.to==g.to&&1==d.insert.length&&2==d.insert.lines&&ab(m,"Enter",10)||d.from==g.from-1&&d.to==g.to&&0==d.insert.length&&ab(m,"Backspace",8)||d.from==g.from&&d.to==g.to+1&&0==d.insert.length&&
ab(m,"Delete",46))){var X=d.insert.toString();m.state.facet(Ya).some(function(ha){return ha(m,d.from,d.to,X)})||(d.from>=g.from&&d.to<=g.to&&d.to-d.from>=(g.to-g.from)/3?(u=g.from<d.from?T.sliceDoc(g.from,d.from):"",g=g.to>d.to?T.sliceDoc(d.to,g.to):"",g=T.replaceSelection(m.state.toText(u+d.insert.sliceString(0,void 0,m.state.lineBreak)+g))):(g=T.changes(d),g={changes:g,selection:u&&!T.selection.primary.eq(u.primary)&&u.primary.to<=g.newLength?T.selection.replaceRange(u.primary):void 0}),m.dispatch(g,
{scrollIntoView:!0,annotations:R.Transaction.userEvent.of("input")}))}}else u&&!u.primary.eq(g)&&(g=!1,m.inputState.lastSelectionTime>Date.now()-50&&("keyboardselection"==m.inputState.lastSelectionOrigin?g=!0:T=R.Transaction.userEvent.of(m.inputState.lastSelectionOrigin)),m.dispatch({selection:u,scrollIntoView:g,annotations:T}))}function Ga(m,e,a,b){for(var d=Math.min(m.length,e.length),g=0;g<d&&m.charCodeAt(g)==e.charCodeAt(g);)g++;if(g==d&&m.length==e.length)return null;d=m.length;for(var k=e.length;0<
d&&0<k&&m.charCodeAt(d-1)==e.charCodeAt(k-1);)d--,k--;"end"==b&&(a-=d+Math.max(0,g-Math.min(d,k))-g);d<g&&m.length<e.length?(g-=a<=g&&a>=d?g-a:0,k=g+(k-d),d=g):k<g&&(g-=a<=g&&a>=k?g-a:0,d=g+(d-k),k=g);return{from:g,toA:d,toB:k}}function Ba(m){return 1==m.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(m.nodeName)}function Ra(m,e){var a=[];if(e.activeElement!=m)return a;var b=Fa(e);m=b.anchorNode;e=b.anchorOffset;var d=b.focusNode;b=b.focusOffset;m&&(a.push(new Dd(m,e)),d==m&&
b==e||a.push(new Dd(d,b)));return a}function Ta(m,e){if(0==m.length)return null;var a=m[0].pos;m=2==m.length?m[1].pos:a;return-1<a&&-1<m?R.EditorSelection.single(a+e,m+e):null}function ab(m,e,a){a={key:e,code:e,keyCode:a,which:a,cancelable:!0};e=new KeyboardEvent("keydown",a);m.contentDOM.dispatchEvent(e);a=new KeyboardEvent("keyup",a);m.contentDOM.dispatchEvent(a);return e.defaultPrevented||a.defaultPrevented}function cb(m,e){return null==m?e.getBoundingClientRect().top:m}function Ua(){window.addEventListener("resize",
function(){-1==qd&&(qd=setTimeout(tb,50))})}function tb(){qd=-1;for(var m=document.querySelectorAll(".cm-content"),e=0;e<m.length;e++){var a=zb.get(m[e]);a&&a.editorView.requestMeasure()}}function Bb(m,e,a){e.altKey&&(m="Alt-"+m);e.ctrlKey&&(m="Ctrl-"+m);e.metaKey&&(m="Meta-"+m);!1!==a&&e.shiftKey&&(m="Shift-"+m);return m}function vc(m){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Sd,a=Object.create(null),b=Object.create(null),d=function(Jb,Mb){var xc=b[Jb];if(null==xc)b[Jb]=Mb;else if(xc!=
Mb)throw Error("Key binding "+Jb+" is used both as a regular binding and as a multi-stroke prefix");},g=function(Jb,Mb,xc,Lc){var Fc=a[Jb]||(a[Jb]=Object.create(null)),Nc=Mb.split(/ (?!$)/).map(function(kc){kc=kc.split(/-(?!$)/);var Nb=kc[kc.length-1];"Space"==Nb&&(Nb=" ");for(var yc,zc,Yc,Mc,Jc=0;Jc<kc.length-1;++Jc){var Ac=kc[Jc];if(/^(cmd|meta|m)$/i.test(Ac))Mc=!0;else if(/^a(lt)?$/i.test(Ac))yc=!0;else if(/^(c|ctrl|control)$/i.test(Ac))zc=!0;else if(/^s(hift)?$/i.test(Ac))Yc=!0;else if(/^mod$/i.test(Ac))"mac"==
e?Mc=!0:zc=!0;else throw Error("Unrecognized modifier name: "+Ac);}yc&&(Nb="Alt-"+Nb);zc&&(Nb="Ctrl-"+Nb);Mc&&(Nb="Meta-"+Nb);Yc&&(Nb="Shift-"+Nb);return Nb});Mb=function(kc){var Nb=Nc.slice(0,kc).join(" ");d(Nb,!0);Fc[Nb]||(Fc[Nb]={preventDefault:!0,commands:[function(yc){var zc=Gc={view:yc,prefix:Nb,scope:Jb};setTimeout(function(){Gc==zc&&(Gc=null)},Td);return!0}]})};for(var Hc=1;Hc<Nc.length;Hc++)Mb(Hc);Mb=Nc.join(" ");d(Mb,!1);Mb=Fc[Mb]||(Fc[Mb]={preventDefault:!1,commands:[]});Mb.commands.push(xc);
Lc&&(Mb.preventDefault=!0)},k=!0,u=!1,H=void 0;try{for(var N=m[Symbol.iterator](),T;!(k=(T=N.next()).done);k=!0){var X=T.value,ha=X[e]||X.key;if(ha){var ja=!0,xa=!1,Xa=void 0;try{for(var Za=(X.scope?X.scope.split(" "):["editor"])[Symbol.iterator](),qb;!(ja=(qb=Za.next()).done);ja=!0){var cc=qb.value;g(cc,ha,X.run,X.preventDefault);X.shift&&g(cc,"Shift-"+ha,X.shift,X.preventDefault)}}catch(Jb){xa=!0,Xa=Jb}finally{try{if(!ja&&null!=Za["return"])Za["return"]()}finally{if(xa)throw Xa;}}}}}catch(Jb){u=
!0,H=Jb}finally{try{if(!k&&null!=N["return"])N["return"]()}finally{if(u)throw H;}}return a}function Fb(m,e,a,b){var d=(0,ka.keyName)(e),g=1==d.length&&" "!=d,k="";Gc&&Gc.view==a&&Gc.scope==b&&(k=Gc.prefix+" ",Gc=null);var u=!!k,H=function(Xa){if(Xa){var Za=!0,qb=!1,cc=void 0;try{for(var Jb=Xa.commands[Symbol.iterator](),Mb;!(Za=(Mb=Jb.next()).done);Za=!0){var xc=Mb.value;if(xc(a))return!0}}catch(Lc){qb=!0,cc=Lc}finally{try{if(!Za&&null!=Jb["return"])Jb["return"]()}finally{if(qb)throw cc;}}Xa.preventDefault&&
(u=!0)}return!1},N=!0,T=!1,X=void 0;try{for(var ha=m[Symbol.iterator](),ja;!(N=(ja=ha.next()).done);N=!0){var xa=ja.value[b];m=void 0;if(xa){if(H(xa[k+Bb(d,e,!g)]))return!0;if(g&&(e.shiftKey||e.altKey||e.metaKey)&&(m=ka.base[e.keyCode])&&m!=d){if(H(xa[k+Bb(m,e,!0)]))return!0}else if(g&&e.shiftKey&&H(xa[k+Bb(d,e,!0)]))return!0}}}catch(Xa){T=!0,X=Xa}finally{try{if(!N&&null!=ha["return"])ha["return"]()}finally{if(T)throw X;}}return u}function bc(m){var e=m.scrollDOM.getBoundingClientRect();return{left:e.left-
m.scrollDOM.scrollLeft,top:e.top-m.scrollDOM.scrollTop}}function ic(m,e,a){e=R.EditorSelection.cursor(e);return{from:Math.max(a.from,m.moveToLineBoundary(e,!1,!0).from),to:Math.min(a.to,m.moveToLineBoundary(e,!0,!0).from)}}function jc(m,e){function a(ja,xa,Xa,Za){return new Ed(ja-T.left,xa-T.top,Xa-ja,Za-xa,Ud)}function b(ja){var xa=ja.top,Xa=ja.bottom;ja=ja.horizontal;for(var Za=[],qb=0;qb<ja.length;qb+=2)Za.push(a(ja[qb],xa,ja[qb+1],Xa));return Za}function d(ja,xa){var Xa=1E9,Za=-1E9,qb=[],cc=null!==
ja&&void 0!==ja?ja:m.moveToLineBoundary(R.EditorSelection.cursor(xa,1),!1).head,Jb=null!==xa&&void 0!==xa?xa:m.moveToLineBoundary(R.EditorSelection.cursor(ja,-1),!0).head,Mb=!0,xc=!1,Lc=void 0;try{for(var Fc=m.visibleRanges[Symbol.iterator](),Nc;!(Mb=(Nc=Fc.next()).done);Mb=!0){var Hc=Nc.value;if(Hc.to>cc&&Hc.from<Jb)for(var kc=Math.max(Hc.from,cc),Nb=Math.min(Hc.to,Jb);;){var yc=m.state.doc.lineAt(kc),zc=!0,Yc=!1,Mc=void 0;try{for(var Jc=m.bidiSpans(yc)[Symbol.iterator](),Ac;!(zc=(Ac=Jc.next()).done);zc=
!0){var rd=Ac.value,sd=rd.from+yc.from,td=rd.to+yc.from;if(sd>=Nb)break;if(td>kc){var Fd=null==ja&&sd<=cc,Vd=Math.min(td,Nb),Gd=null==xa&&td>=Jb,Wd=rd.dir,ed=m.coordsAtPos(Math.max(sd,kc),1),fd=m.coordsAtPos(Vd,-1);Xa=Math.min(ed.top,fd.top,Xa);Za=Math.max(ed.bottom,fd.bottom,Za);Wd==Vb.LTR?qb.push(u&&Fd?X:ed.left,u&&Gd?ha:fd.right):qb.push(!u&&Gd?X:fd.left,!u&&Fd?ha:ed.right)}}}catch(ud){Yc=!0,Mc=ud}finally{try{if(!zc&&null!=Jc["return"])Jc["return"]()}finally{if(Yc)throw Mc;}}kc=yc.to+1;if(kc>=
Nb)break}}}catch(ud){xc=!0,Lc=ud}finally{try{if(!Mb&&null!=Fc["return"])Fc["return"]()}finally{if(xc)throw Lc;}}0==qb.length&&(ja=m.coordsAtPos(cc,-1),Xa=Math.min(ja.top,Xa),Za=Math.max(ja.bottom,Za));return{top:Xa,bottom:Za,horizontal:qb}}if(e.to<=m.viewport.from||e.from>=m.viewport.to)return[];var g=Math.max(e.from,m.viewport.from),k=Math.min(e.to,m.viewport.to),u=m.textDirection==Vb.LTR,H=m.contentDOM,N=H.getBoundingClientRect(),T=bc(m);H=window.getComputedStyle(H.firstChild);var X=N.left+parseInt(H.paddingLeft),
ha=N.right-parseInt(H.paddingRight);N=m.visualLineAt(g);H=m.visualLineAt(k);m.lineWrapping&&(N=ic(m,g,N),H=ic(m,k,H));if(N.from==H.from)return b(d(e.from,e.to));g=d(e.from,null);e=d(null,e.to);k=[];N.to<H.from-1?k.push(a(X,g.bottom,ha,e.top)):g.bottom<e.top&&4>e.top-g.bottom&&(g.bottom=e.top=(g.bottom+e.top)/2);return b(g).concat(k).concat(b(e))}function oc(m,e,a){e=m.coordsAtPos(e.head,e.assoc||1);if(!e)return null;m=bc(m);return new Ed(e.left-m.left,e.top-m.top,-1,e.bottom-e.top,a?Xd:Yd)}function K(){if(null==
vd&&"undefined"!=typeof document&&document.body){var m=document.body.style;vd=null!=(m.tabSize||m.MozTabSize)}return vd||!1}Object.defineProperty(F,"__esModule",{value:!0});F.drawSelection=function(){return[Zc.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),Zd,$d]};F.highlightSpecialChars=function(){var m=[gd.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),ae];K()||m.push(be);return m};F.keymap=function(m,e){return[ce,wd.of(vc(m,e))]};F.logException=Na;F.placeholder=function(m){return lc.fromClass(function(){function e(a){oa(this,
e);this.view=a;this.placeholder=Db.set([Db.widget({widget:new de(m),side:1}).range(0)])}ra(e,[{key:"decorations",get:function(){return this.view.state.doc.length?Db.none:this.placeholder}}]);return e}(),{decorations:function(e){return e.decorations}})};F.runScopeHandlers=function(m,e,a){return Fb(m.state.facet(wd),e,m,a)};F.themeClass=I;Object.defineProperty(F,"Range",{enumerable:!0,get:function(){return fa.Range}});F.__test=F.WidgetType=F.ViewUpdate=F.ViewPlugin=F.PluginFieldProvider=F.PluginField=
F.EditorView=F.Direction=F.Decoration=F.BlockType=F.BlockInfo=F.BidiSpan=void 0;var R=aa(1),qa=aa(2),fa=aa(3),la=aa(0),ka=aa(4),Ka=function(m,e){var a=Array.isArray(m)?m:void 0;if(!a)if(Symbol.iterator in Object(m)||"[object Arguments]"===Object.prototype.toString.call(m)){a=[];var b=!0,d=!1,g=void 0;try{for(var k=m[Symbol.iterator](),u;!(b=(u=k.next()).done)&&(a.push(u.value),!e||a.length!==e);b=!0);}catch(H){d=!0,g=H}finally{try{if(!b&&null!=k["return"])k["return"]()}finally{if(d)throw g;}}}else a=
void 0;if(!(m=a))throw new TypeError("Invalid attempt to destructure non-iterable instance");return m}("undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}],2),$a=Ka[0],jb=Ka[1],hb=/Edge\/(\d+)/.exec($a.userAgent),Rb=/MSIE \d/.test($a.userAgent),mc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($a.userAgent),Sb=!!(Rb||mc||hb),$c=!Sb&&/gecko\/(\d+)/i.test($a.userAgent),Oc=!Sb&&/Chrome\/(\d+)/.exec($a.userAgent),Kc="webkitFontSmoothing"in
jb.documentElement.style,pb={mac:/Mac/.test($a.platform),ie:Sb,ie_version:Rb?jb.documentMode||6:mc?+mc[1]:hb?+hb[1]:0,gecko:$c,gecko_version:$c?+(/Firefox\/(\d+)/.exec($a.userAgent)||[0,0])[1]:0,chrome:!!Oc,chrome_version:Oc?+Oc[1]:0,ios:!Sb&&/AppleWebKit/.test($a.userAgent)&&/Mobile\/\w+/.test($a.userAgent),android:/Android\b/.test($a.userAgent),webkit:Kc,safari:/Apple Computer/.test($a.vendor),webkit_version:Kc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=jb.documentElement.style.tabSize?
"tab-size":"-moz-tab-size"},sc=function(){function m(){oa(this,m);this.anchorNode=null;this.anchorOffset=0;this.focusNode=null;this.focusOffset=0}ra(m,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"set",value:function(e){this.anchorNode=e.anchorNode;this.anchorOffset=e.anchorOffset;this.focusNode=e.focusNode;this.focusOffset=e.focusOffset}}]);return m}(),Dc=null,Cc,pc=function(){function m(e,
a){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;oa(this,m);this.node=e;this.offset=a;this.precise=b}ra(m,null,[{key:"before",value:function(e,a){return new m(e.parentNode,Va(e),a)}},{key:"after",value:function(e,a){return new m(e.parentNode,Va(e)+1,a)}}]);return m}(),xd=[],zb=function(){function m(){oa(this,m);this.dom=this.parent=null;this.dirty=2}ra(m,[{key:"posBefore",value:function(e){var a=this.posAtStart,b=!0,d=!1,g=void 0;try{for(var k=this.children[Symbol.iterator](),u;!(b=
(u=k.next()).done);b=!0){var H=u.value;if(H==e)return a;a+=H.length+H.breakAfter}}catch(N){d=!0,g=N}finally{try{if(!b&&null!=k["return"])k["return"]()}finally{if(d)throw g;}}throw new RangeError("Invalid child in posBefore");}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"coordsAt",value:function(e,a){return null}},{key:"sync",value:function(e){if(this.dirty&2){var a=this.dom,b=null,d=!0,g=!1,k=void 0;try{for(var u=this.children[Symbol.iterator](),H;!(d=(H=u.next()).done);d=
!0){var N=H.value;if(N.dirty){var T=b?b.nextSibling:a.firstChild;!T||N.dom||m.get(T)||N.reuseDOM(T);N.sync(e);N.dirty=0}e&&e.node==a&&b!=N.dom&&(e.written=!0);var X=a,ha=N.dom,ja=b?b.nextSibling:X.firstChild;if(ha.parentNode==X)for(;ja!=ha;)ja=E(ja);else X.insertBefore(ha,ja);b=N.dom}}catch(xa){g=!0,k=xa}finally{try{if(!d&&null!=u["return"])u["return"]()}finally{if(g)throw k;}}(u=b?b.nextSibling:a.firstChild)&&e&&e.node==a&&(e.written=!0);for(;u;)u=E(u)}else if(this.dirty&1){u=!0;H=!1;N=void 0;try{for(a=
this.children[Symbol.iterator]();!(u=(b=a.next()).done);u=!0)d=b.value,d.dirty&&(d.sync(e),d.dirty=0)}catch(xa){H=!0,N=xa}finally{try{if(!u&&null!=a["return"])a["return"]()}finally{if(H)throw N;}}}}},{key:"reuseDOM",value:function(e){return!1}},{key:"localPosFromDOM",value:function(e,a){if(e==this.dom)e=this.dom.childNodes[a];else{for(a=0==ea(e)?0:0==a?-1:1;;){var b=e.parentNode;if(b==this.dom)break;0==a&&b.firstChild!=b.lastChild&&(a=e==b.firstChild?-1:1);e=b}e=0>a?e:e.nextSibling}if(e==this.dom.firstChild)return 0;
for(;e&&!m.get(e);)e=e.nextSibling;if(!e)return this.length;for(b=a=0;;a++){var d=this.children[a];if(d.dom==e)return b;b+=d.length+d.breakAfter}}},{key:"domBoundsAround",value:function(e,a){for(var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,d=-1,g=-1,k=-1,u=-1,H=0,N=b;H<this.children.length;H++){var T=this.children[H],X=N+T.length;if(N<e&&X>a)return T.domBoundsAround(e,a,N);X>=e&&-1==d&&(d=H,g=N);if(X>=a&&X!=N&&-1==k){k=H;u=X;break}N=X+T.breakAfter}return{from:g,to:0>u?b+this.length:
u,startDOM:(d?this.children[d-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:k<this.children.length-1&&0<=k?this.children[k+1].dom:null}}},{key:"markDirty",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.dirty&2||(this.dirty|=2,this.markParentsDirty(e))}},{key:"markParentsDirty",value:function(e){for(var a=this.parent;a;a=a.parent){e&&(a.dirty|=2);if(a.dirty&1)break;a.dirty|=1;e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,this.dirty&&
this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom=e;e.cmView=this}},{key:"replaceChildren",value:function(e,a){var b,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:xd;this.markDirty();for(var g=e;g<a;g++)this.children[g].parent=null;(b=this.children).splice.apply(b,[e,a-e].concat(Qa(d)));for(b=0;b<d.length;b++)d[b].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){return new hd(this.children,
0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,this.children.length)}},{key:"childPos",value:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,a)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"editorView",get:function(){if(!this.parent)throw Error("Accessing view in orphan content view");
return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"rootView",get:function(){for(var e=this;;){var a=e.parent;if(!a)return e;e=a}}}],[{key:"get",value:function(e){return e.cmView}}]);return m}();zb.prototype.breakAfter=0;var hd=function(){function m(e,a,b){oa(this,m);this.children=e;this.pos=a;this.i=b;this.off=
0}ra(m,[{key:"findPos",value:function(e){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(0<a||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var b=this.children[--this.i];this.pos-=b.length+b.breakAfter}}}]);return m}(),Pc=[],Ec=function(m){function e(){oa(this,e);return Ia(this,Aa(e).apply(this,arguments))}wa(e,m);ra(e,[{key:"become",value:function(a){return!1}},{key:"getSide",value:function(){return 0}}]);return e}(zb);
Ec.prototype.children=Pc;var id=function(m){function e(a){oa(this,e);var b=Ia(this,Aa(e).call(this));b.text=a;return b}wa(e,m);ra(e,[{key:"createDOM",value:function(a){this.setDOM(a||document.createTextNode(this.text))}},{key:"sync",value:function(a){this.dom||this.createDOM();this.dom.nodeValue!=this.text&&(a&&a.node==this.dom&&(a.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(a){if(3!=a.nodeType)return!1;this.createDOM(a);return!0}},{key:"merge",value:function(a,b,d){if(d&&
(!(d instanceof e)||256<this.length-(b-a)+d.length))return!1;this.text=this.text.slice(0,a)+(d?d.text:"")+this.text.slice(b);this.markDirty();return!0}},{key:"slice",value:function(a){return new e(this.text.slice(a))}},{key:"localPosFromDOM",value:function(a,b){return a==this.dom?b:b?this.text.length:0}},{key:"domAtPos",value:function(a){return new pc(this.dom,a)}},{key:"domBoundsAround",value:function(a,b,d){return{from:d,to:d+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",
value:function(a,b){return P(this.dom,a,b,this.length)}},{key:"length",get:function(){return this.text.length}}]);return e}(Ec),Ob=function(m){function e(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;oa(this,e);var g=Ia(this,Aa(e).call(this));g.mark=a;g.children=b;g.length=d;d=!0;var k=!1,u=void 0;try{for(var H=b[Symbol.iterator](),N;!(d=(N=H.next()).done);d=!0)N.value.setParent(Pa(g))}catch(T){k=!0,u=T}finally{try{if(!d&&
null!=H["return"])H["return"]()}finally{if(k)throw u;}}return g}wa(e,m);ra(e,[{key:"createDOM",value:function(){var a=document.createElement(this.mark.tagName);this.mark["class"]&&(a.className=this.mark["class"]);if(this.mark.attrs)for(var b in this.mark.attrs)a.setAttribute(b,this.mark.attrs[b]);this.setDOM(a)}},{key:"sync",value:function(a){this.dom||this.createDOM();Ha(Aa(e.prototype),"sync",this).call(this,a)}},{key:"merge",value:function(a,b,d,g,k){if(d&&(!(d instanceof e&&d.mark.eq(this.mark))||
a&&0>=g||b<this.length&&0>=k))return!1;Z(this,a,b,d?d.children:Pc,g-1,k-1);this.markDirty();return!0}},{key:"slice",value:function(a){var b=this.mark,d=[],g=0,k=!0,u=!1,H=void 0;try{for(var N=this.children[Symbol.iterator](),T;!(k=(T=N.next()).done);k=!0){var X=T.value,ha=g+X.length;ha>a&&d.push(g<a?X.slice(a-g):X);g=ha}}catch(ja){u=!0,H=ja}finally{try{if(!k&&null!=N["return"])N["return"]()}finally{if(u)throw H;}}return new e(b,d,this.length-a)}},{key:"domAtPos",value:function(a){return l(this.dom,
this.children,a)}},{key:"coordsAt",value:function(a,b){return t(this,a,b)}}]);return e}(Ec),Ic=function(m){function e(a,b,d){oa(this,e);var g=Ia(this,Aa(e).call(this));g.widget=a;g.length=b;g.side=d;return g}wa(e,m);ra(e,[{key:"slice",value:function(a){return e.create(this.widget,this.length-a,this.side)}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},
{key:"merge",value:function(a,b,d,g,k){if(d&&(!(d instanceof e&&this.widget.compare(d.widget))||0<a&&0>=g||b<this.length&&0>=k))return!1;this.length=a+(d?d.length:0)+(this.length-b);return!0}},{key:"become",value:function(a){return a.length==this.length&&a instanceof e&&a.side==this.side&&this.widget.constructor==a.widget.constructor?(this.widget.eq(a.widget)||this.markDirty(!0),this.widget=a.widget,!0):!1}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(a){return this.widget.ignoreEvent(a)}},
{key:"domAtPos",value:function(a){return 0==a?pc.before(this.dom):pc.after(this.dom,a==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(a,b){for(var d=this.dom.getClientRects(),g,k=0<a?d.length-1:0;!(g=d[k],0<a?0==k:k==d.length-1||g.top<g.bottom);k+=0<a?-1:1);return 0==a&&0<b||a==this.length&&0>=b?g:q(g,0==a)}},{key:"overrideDOMText",get:function(){if(0==this.length)return la.Text.empty;for(var a=this;a.parent;)a=a.parent;a=(a=a.editorView)&&a.state.doc;
var b=this.posAtStart;return a?a.slice(b,b+this.length):la.Text.empty}}],[{key:"create",value:function(a,b,d){return new (a.customView||e)(a,b,d)}}]);return e}(Ec),yd=function(m){function e(){oa(this,e);return Ia(this,Aa(e).apply(this,arguments))}wa(e,m);ra(e,[{key:"domAtPos",value:function(a){return new pc(this.widget.text,a)}},{key:"sync",value:function(){this.dom||this.setDOM(this.widget.toDOM())}},{key:"localPosFromDOM",value:function(a,b){return b?3==a.nodeType?Math.min(b,this.length):this.length:
0}},{key:"ignoreMutation",value:function(){return!1}},{key:"coordsAt",value:function(a,b){return P(this.widget.text,a,b,this.length)}},{key:"overrideDOMText",get:function(){return null}}]);return e}(Ic),nc=function(){function m(){oa(this,m)}ra(m,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"ignoreEvent",value:function(e){return!0}},{key:"estimatedHeight",get:function(){return-1}},
{key:"customView",get:function(){return null}}]);return m}();F.WidgetType=nc;var Ib;F.BlockType=Ib;(function(m){m[m.Text=0]="Text";m[m.WidgetBefore=1]="WidgetBefore";m[m.WidgetAfter=2]="WidgetAfter";m[m.WidgetRange=3]="WidgetRange"})(Ib||(F.BlockType=Ib={}));var Db=function(m){function e(a,b,d,g){oa(this,e);var k=Ia(this,Aa(e).call(this));k.startSide=a;k.endSide=b;k.widget=d;k.spec=g;return k}wa(e,m);ra(e,[{key:"hasHeight",value:function(){return this.widget?-1<this.widget.estimatedHeight:!1}},{key:"heightRelevant",
get:function(){return!1}}],[{key:"mark",value:function(a){return new Bc(a)}},{key:"widget",value:function(a){var b=a.side||0;a.block&&(b+=(2E8+1)*(0<b?1:-1));return new tc(a,b,b,!!a.block,a.widget||null,!1)}},{key:"replace",value:function(a){var b=!!a.block,d=C(a),g=d.start;d=d.end;return new tc(a,b?-2E8*(g?2:1):1E8*(g?-1:1),b?2E8*(d?2:1):1E8*(d?1:-1),b,a.widget||null,!0)}},{key:"line",value:function(a){return new dc(a)}},{key:"set",value:function(a){return fa.RangeSet.of(a,1<arguments.length&&void 0!==
arguments[1]?arguments[1]:!1)}}]);return e}(fa.RangeValue);F.Decoration=Db;Db.none=fa.RangeSet.empty;var Bc=function(m){function e(a){oa(this,e);var b=C(a);var d=b.start;b=b.end;d=Ia(this,Aa(e).call(this,1E8*(d?-1:1),1E8*(b?1:-1),null,a));d.tagName=a.tagName||"span";d["class"]=a["class"]||"";d.attrs=a.attributes||null;return d}wa(e,m);ra(e,[{key:"eq",value:function(a){return this==a||a instanceof e&&this.tagName==a.tagName&&this["class"]==a["class"]&&v(this.attrs,a.attrs)}},{key:"range",value:function(a){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(a>=b)throw new RangeError("Mark decorations may not be empty");return Ha(Aa(e.prototype),"range",this).call(this,a,b)}}]);return e}(Db);Bc.prototype.point=!1;var dc=function(m){function e(a){oa(this,e);return Ia(this,Aa(e).call(this,-1E8,-1E8,null,a))}wa(e,m);ra(e,[{key:"eq",value:function(a){return a instanceof e&&v(this.spec.attributes,a.spec.attributes)}},{key:"range",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
a;if(b!=a)throw new RangeError("Line decoration ranges must be zero-length");return Ha(Aa(e.prototype),"range",this).call(this,a,b)}}]);return e}(Db);dc.prototype.mapMode=R.MapMode.TrackBefore;dc.prototype.point=!0;var tc=function(m){function e(a,b,d,g,k,u){oa(this,e);a=Ia(this,Aa(e).call(this,b,d,k,a));a.block=g;a.isReplace=u;a.mapMode=g?0>b?R.MapMode.TrackBefore:R.MapMode.TrackAfter:R.MapMode.TrackDel;return a}wa(e,m);ra(e,[{key:"eq",value:function(a){var b;if(b=a instanceof e){b=this.widget;var d=
a.widget;b=b==d||!!(b&&d&&b.compare(d))}return b&&this.block==a.block&&this.startSide==a.startSide&&this.endSide==a.endSide}},{key:"range",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(this.isReplace&&(a>b||a==b&&0<this.startSide&&0>this.endSide))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&b!=a)throw new RangeError("Widget decorations can only have zero-length ranges");return Ha(Aa(e.prototype),"range",this).call(this,
a,b)}},{key:"type",get:function(){return this.startSide<this.endSide?Ib.WidgetRange:0>this.startSide?Ib.WidgetBefore:Ib.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&5<=this.widget.estimatedHeight}}]);return e}(Db);tc.prototype.point=!0;var ad=R.Facet.define({combine:function(m){return m.join(" ")}}),jd=R.Facet.define({combine:function(m){return-1<m.indexOf(!0)}}),Qc=qa.StyleModule.newName(),kd=D("."+Qc,{$:{position:"relative !important",boxSizing:"border-box",
"\x26$focused":{outline_fallback:"1px dotted #212121",outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},$scroller:{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},$content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"$$light $content":{caretColor:"black"},"$$dark $content":{caretColor:"white"},
$line:{display:"block",padding:"0 2px 0 4px"},$selectionLayer:{zIndex:-1,contain:"size style"},$selectionBackground:{position:"absolute"},"$$light $selectionBackground":{background:"#d9d9d9"},"$$dark $selectionBackground":{background:"#222"},"$$focused$light $selectionBackground":{background:"#d7d4f0"},"$$focused$dark $selectionBackground":{background:"#233"},$cursorLayer:{zIndex:100,contain:"size style",pointerEvents:"none"},"$$focused $cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},
"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},$cursor:{position:"absolute",borderLeft:"1.2px solid #bbb",marginLeft:"-0.6px",pointerEvents:"none"},"$$dark $cursor":{borderLeftColor:"#444"},"$$focused $cursor":{borderLeft:"1.2px solid black"},$placeholder:{color:"#888",display:"inline-block"},$button:{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"$$light $button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",
border:"1px solid #888","\x26:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"$$dark $button":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","\x26:active":{backgroundImage:"linear-gradient(#111, #333)"}},$textfield:{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"$$light $textfield":{backgroundColor:"white"},"$$dark $textfield":{border:"1px solid #555",backgroundColor:"inherit"}}),Rc=I("line"),Cb=function(m){function e(){oa(this,
e);var a=Ia(this,Aa(e).apply(this,arguments));a.children=[];a.length=0;a.prevAttrs=void 0;a.attrs=null;a.breakAfter=0;return a}wa(e,m);ra(e,[{key:"merge",value:function(a,b,d,g,k,u){if(d){if(!(d instanceof e))return!1;this.dom||d.transferDOM(this)}g&&this.setDeco(d?d.attrs:null);Z(this,a,b,d?d.children:Sc,k,u);return!0}},{key:"split",value:function(a){var b=new e;b.breakAfter=this.breakAfter;if(0==this.length)return b;var d=this.childPos(a),g=d.i;if(d=d.off)b.append(this.children[g].slice(d),0),this.children[g].merge(d,
this.children[g].length,null,0,0),g++;for(d=g;d<this.children.length;d++)b.append(this.children[d],0);for(;0<g&&0==this.children[g-1].length;)this.children[g-1].parent=null,g--;this.children.length=g;this.markDirty();this.length=a;return b}},{key:"transferDOM",value:function(a){this.dom&&(a.setDOM(this.dom),a.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(a){v(this.attrs,a)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),
this.attrs=a)}},{key:"append",value:function(a,b){p(this,a,b)}},{key:"addLineDeco",value:function(a){if(a=a.spec.attributes)this.attrs=r(a,this.attrs||{})}},{key:"domAtPos",value:function(a){return l(this.dom,this.children,a)}},{key:"sync",value:function(a){this.dom||(this.setDOM(document.createElement("div")),this.dom.className=Rc,this.prevAttrs=this.attrs?null:void 0);void 0!==this.prevAttrs&&(A(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(Rc),this.prevAttrs=void 0);Ha(Aa(e.prototype),
"sync",this).call(this,a);a=this.dom.lastChild;if(!a||"BR"!=a.nodeName&&zb.get(a)instanceof Ic)a=document.createElement("BR"),a.cmIgnore=!0,this.dom.appendChild(a)}},{key:"measureTextSize",value:function(){if(0==this.children.length||20<this.length)return null;var a=0,b=!0,d=!1,g=void 0;try{for(var k=this.children[Symbol.iterator](),u;!(b=(u=k.next()).done);b=!0){var H=u.value;if(!(H instanceof id))return null;var N=va(H.dom);if(1!=N.length)return null;a+=N[0].width}}catch(T){d=!0,g=T}finally{try{if(!b&&
null!=k["return"])k["return"]()}finally{if(d)throw g;}}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:a/this.length}}},{key:"coordsAt",value:function(a,b){return t(this,a,b)}},{key:"match",value:function(a){return!1}},{key:"type",get:function(){return Ib.Text}}],[{key:"find",value:function(a,b){for(var d=0,g=0;;d++){var k=a.children[d];g+=k.length;if(g>=b){if(k instanceof e)return k;if(k.length)return null}g+=k.breakAfter}}}]);return e}(zb),Sc=[],qc=function(m){function e(a,b,
d){oa(this,e);var g=Ia(this,Aa(e).call(this));g.widget=a;g.length=b;g.type=d;g.breakAfter=0;return g}wa(e,m);ra(e,[{key:"merge",value:function(a,b,d,g,k,u){if(d&&(!(d instanceof e&&this.widget.compare(d.widget))||0<a&&0>=k||b<this.length&&0>=u))return!1;this.length=a+(d?d.length:0)+(this.length-b);return!0}},{key:"domAtPos",value:function(a){return 0==a?pc.before(this.dom):pc.after(this.dom,a==this.length)}},{key:"split",value:function(a){var b=this.length-a;this.length=a;return new e(this.widget,
b,this.type)}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"domBoundsAround",value:function(){return null}},{key:"match",value:function(a){return a instanceof e&&a.type==this.type&&a.widget.constructor==this.widget.constructor?(a.widget.eq(this.widget)||this.markDirty(!0),this.widget=a.widget,this.length=a.length,this.breakAfter=a.breakAfter,!0):!1}},{key:"ignoreMutation",value:function(){return!0}},
{key:"ignoreEvent",value:function(a){return this.widget.ignoreEvent(a)}},{key:"children",get:function(){return Sc}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):R.Text.empty}}]);return e}(zb),Tc=function(){function m(e,a,b){oa(this,m);this.doc=e;this.pos=a;this.end=b;this.content=[];this.curLine=null;this.breakAtStart=0;this.openEnd=this.openStart=-1;this.text="";this.textOff=0;this.cursor=e.iter();this.skip=a}ra(m,[{key:"posCovered",
value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof qc&&e.type==Ib.WidgetBefore)}},{key:"getLine",value:function(){this.curLine||this.content.push(this.curLine=new Cb);return this.curLine}},{key:"addWidget",value:function(e){this.curLine=null;this.content.push(e)}},{key:"finish",value:function(){this.posCovered()||this.getLine()}},{key:"wrapMarks",value:function(e,
a){for(var b=a.length-1;0<=b;b--)e=new Ob(a[b],[e],e.length);return e}},{key:"buildText",value:function(e,a,b){for(;0<e;){if(this.textOff==this.text.length){var d=this.cursor.next(this.skip),g=d.value,k=d.lineBreak;d=d.done;this.skip=0;if(d)throw Error("Ran out of text content when drawing inline views");if(k){this.posCovered()||this.getLine();this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1;this.curLine=null;e--;continue}else this.text=g,this.textOff=0}g=Math.min(this.text.length-
this.textOff,e);this.getLine().append(this.wrapMarks(new id(this.text.slice(this.textOff,this.textOff+g)),a),b);e-=g;this.textOff+=g}}},{key:"span",value:function(e,a,b,d){this.buildText(a-e,b,d);this.pos=a;0>this.openStart&&(this.openStart=d)}},{key:"point",value:function(e,a,b,d,g){e=a-e;b instanceof tc?b.block?(d=b.type,d!=Ib.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new qc(b.widget||new bd("div"),e,d))):(b=this.wrapMarks(Ic.create(b.widget||new bd("span"),e,b.startSide),d),
this.getLine().append(b,g)):this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(b);e&&(this.textOff+e<=this.text.length?this.textOff+=e:(this.skip+=e-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=a);0>this.openStart&&(this.openStart=g)}}],[{key:"build",value:function(e,a,b,d){e=new m(e,a,b);e.openEnd=fa.RangeSet.spans(d,a,b,e);0>e.openStart&&(e.openStart=e.openEnd);e.finish();return e}}]);return m}(),bd=function(m){function e(a){oa(this,e);var b=Ia(this,Aa(e).call(this));
b.tag=a;return b}wa(e,m);ra(e,[{key:"eq",value:function(a){return a.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(a){return a.nodeName.toLowerCase()==this.tag}}]);return e}(nc),Vb;F.Direction=Vb;(function(m){m[m.LTR=0]="LTR";m[m.RTL=1]="RTL"})(Vb||(F.Direction=Vb={}));var Wc=Vb.LTR,zd=Vb.RTL,nd=O("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),
od=O("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),md=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,wc=function(){function m(e,a,b){oa(this,m);this.from=e;this.to=a;this.level=b}ra(m,[{key:"side",value:function(e,a){return this.dir==a==e?this.to:this.from}},{key:"dir",get:function(){return this.level%
2?zd:Wc}}],[{key:"find",value:function(e,a,b,d){for(var g=-1,k=0;k<e.length;k++){var u=e[k];if(u.from<=a&&u.to>=a){if(u.level==b)return k;if(0>g||(0!=d?0>d?u.from<a:u.to>a:e[g].level>u.level))g=k}}if(0>g)throw new RangeError("Index out of range");return g}}]);return m}();F.BidiSpan=wc;var Kb=[],Xc="",cd=["pre-wrap","normal","pre-line"],Uc=function(){function m(){oa(this,m);this.doc=la.Text.empty;this.lineWrapping=!1;this.direction=Vb.LTR;this.heightSamples={};this.lineHeight=14;this.charWidth=7;this.lineLength=
30;this.heightChanged=!1}ra(m,[{key:"heightForGap",value:function(e,a){var b=this.doc.lineAt(a).number-this.doc.lineAt(e).number+1;this.lineWrapping&&(b+=Math.ceil((a-e-b*this.lineLength*.5)/this.lineLength));return this.lineHeight*b}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){this.doc=e;return this}},{key:"mustRefresh",value:function(e,a,b){for(var d=
!1,g=0;g<e.length;g++){var k=e[g];0>k?g++:this.heightSamples[Math.floor(10*k)]||(d=!0,this.heightSamples[Math.floor(10*k)]=!0)}return d||-1<cd.indexOf(a)!=this.lineWrapping||this.direction!=b}},{key:"refresh",value:function(e,a,b,d,g,k){var u=-1<cd.indexOf(e);e=Math.round(b)!=Math.round(this.lineHeight)||this.lineWrapping!=u||this.direction!=a;this.lineWrapping=u;this.direction=a;this.lineHeight=b;this.charWidth=d;this.lineLength=g;if(e)for(this.heightSamples={},a=0;a<k.length;a++)b=k[a],0>b?a++:
this.heightSamples[Math.floor(10*b)]=!0;return e}}]);return m}(),ld=function(){function m(e,a){oa(this,m);this.from=e;this.heights=a;this.index=0}ra(m,[{key:"more",get:function(){return this.index<this.heights.length}}]);return m}(),c=function(){function m(e,a,b,d,g){oa(this,m);this.from=e;this.length=a;this.top=b;this.height=d;this.type=g}ra(m,[{key:"join",value:function(e){var a=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new m(this.from,this.length+
e.length,this.top,this.height+e.height,a)}},{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}}]);return m}();F.BlockInfo=c;var f;(function(m){m[m.ByPos=0]="ByPos";m[m.ByHeight=1]="ByHeight";m[m.ByPosNoHeight=2]="ByPosNoHeight"})(f||(f={}));var h=function(){function m(e,a){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2;oa(this,m);this.length=e;this.height=a;this.flags=b}ra(m,[{key:"setHeight",value:function(e,a){this.height!=
a&&(1E-4<Math.abs(this.height-a)&&(e.heightChanged=!0),this.height=a)}},{key:"replace",value:function(e,a,b){return m.of(b)}},{key:"decomposeLeft",value:function(e,a){a.push(this)}},{key:"decomposeRight",value:function(e,a){a.push(this)}},{key:"applyChanges",value:function(e,a,b,d){for(var g=this,k=d.length-1;0<=k;k--){var u=d[k],H=u.fromA,N=u.toA,T=u.fromB;u=u.toB;var X=g.lineAt(H,f.ByPosNoHeight,a,0,0),ha=X.to>=N?X:g.lineAt(N,f.ByPosNoHeight,a,0,0);u+=ha.to-N;for(N=ha.to;0<k&&X.from<=d[k-1].toA;)H=
d[k-1].fromA,T=d[k-1].fromB,k--,H<X.from&&(X=g.lineAt(H,f.ByPosNoHeight,a,0,0));T+=X.from-H;H=X.from;T=Q.build(b,e,T,u);g=g.replace(H,N,T)}return g.updateHeight(b,0)}},{key:"outdated",get:function(){return 0<(this.flags&2)},set:function(e){this.flags=(e?2:0)|this.flags&-3}}],[{key:"empty",value:function(){return new w(0,0)}},{key:"of",value:function(e){if(1==e.length)return e[0];for(var a=0,b=e.length,d=0,g=0;;)if(a==b)if(d>2*g){var k=e[a-1];k["break"]?e.splice(--a,1,k.left,null,k.right):e.splice(--a,
1,k.left,k.right);b+=1+k["break"];d-=k.size}else if(g>2*d)k=e[b],k["break"]?e.splice(b,1,k.left,null,k.right):e.splice(b,1,k.left,k.right),b+=2+k["break"],g-=k.size;else break;else d<g?(k=e[a++])&&(d+=k.size):(k=e[--b])&&(g+=k.size);d=0;null==e[a-1]?(d=1,a--):null==e[a]&&(d=1,b++);return new M(m.of(e.slice(0,a)),d,m.of(e.slice(b)))}}]);return m}();h.prototype.size=1;var n=function(m){function e(a,b,d){oa(this,e);a=Ia(this,Aa(e).call(this,a,b));a.type=d;return a}wa(e,m);ra(e,[{key:"blockAt",value:function(a,
b,d,g){return new c(g,this.length,d,this.height,this.type)}},{key:"lineAt",value:function(a,b,d,g,k){return this.blockAt(0,d,g,k)}},{key:"forEachLine",value:function(a,b,d,g,k,u){u(this.blockAt(0,d,g,k))}},{key:"updateHeight",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=3<arguments.length?arguments[3]:void 0;d&&d.from<=b&&d.more&&this.setHeight(a,d.heights[d.index++]);this.outdated=!1;return this}},{key:"toString",value:function(){return"block(".concat(this.length,
")")}}]);return e}(h),w=function(m){function e(a,b){oa(this,e);a=Ia(this,Aa(e).call(this,a,b,Ib.Text));a.collapsed=0;a.widgetHeight=0;return a}wa(e,m);ra(e,[{key:"replace",value:function(a,b,d){a=d[0];return 1==d.length&&(a instanceof e||a instanceof B&&a.flags&4)&&10>Math.abs(this.length-a.length)?(a instanceof B?a=new e(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):h.of(d)}},{key:"updateHeight",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,g=3<arguments.length?arguments[3]:void 0;g&&g.from<=b&&g.more?this.setHeight(a,g.heights[g.index++]):(d||this.outdated)&&this.setHeight(a,Math.max(this.widgetHeight,a.heightForLine(this.length-this.collapsed)));this.outdated=!1;return this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]);return e}(n),B=function(m){function e(a){oa(this,
e);return Ia(this,Aa(e).call(this,a,0))}wa(e,m);ra(e,[{key:"lines",value:function(a,b){var d=a.lineAt(b).number;a=a.lineAt(b+this.length).number;return{firstLine:d,lastLine:a,lineHeight:this.height/(a-d+1)}}},{key:"blockAt",value:function(a,b,d,g){var k=this.lines(b,g),u=k.firstLine;g=k.lineHeight;a=Math.max(0,Math.min(k.lastLine-u,Math.floor((a-d)/g)));b=b.line(u+a);return new c(b.from,b.length,d+g*a,g,Ib.Text)}},{key:"lineAt",value:function(a,b,d,g,k){if(b==f.ByHeight)return this.blockAt(a,d,g,
k);if(b==f.ByPosNoHeight)return g=d.lineAt(a),a=g.from,new c(a,g.to-a,0,0,Ib.Text);k=this.lines(d,k);b=k.firstLine;k=k.lineHeight;a=d.lineAt(a);return new c(a.from,a.length,g+k*(a.number-b),k,Ib.Text)}},{key:"forEachLine",value:function(a,b,d,g,k,u){var H=this.lines(d,k);k=H.firstLine;H=H.lineHeight;for(var N=a;N<b;){var T=d.lineAt(N);N==a&&(g+=H*(T.number-k));u(new c(T.from,T.length,g,g+=H,Ib.Text));N=T.to+1}}},{key:"replace",value:function(a,b,d){b=this.length-b;if(0<b){var g=d[d.length-1];g instanceof
e?d[d.length-1]=new e(g.length+b):d.push(null,new e(b-1))}0<a&&(b=d[0],b instanceof e?d[0]=new e(a+b.length):d.unshift(new e(a-1),null));return h.of(d)}},{key:"decomposeLeft",value:function(a,b){b.push(new e(a-1),null)}},{key:"decomposeRight",value:function(a,b){b.push(null,new e(this.length-a-1))}},{key:"updateHeight",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,g=3<arguments.length?arguments[3]:void 0,
k=b+this.length;if(g&&g.from<=b+this.length&&g.more){d=[];var u=Math.max(b,g.from);for(g.from>b&&d.push((new e(g.from-b-1)).updateHeight(a,b));u<=k&&g.more;){b=a.doc.lineAt(u).length;d.length&&d.push(null);var H=new w(b,g.heights[g.index++]);H.outdated=!1;d.push(H);u+=b+1}u<=k&&d.push(null,(new e(k-u)).updateHeight(a,u));a.heightChanged=!0;return h.of(d)}if(d||this.outdated)this.setHeight(a,a.heightForGap(b,b+this.length)),this.outdated=!1;return this}},{key:"toString",value:function(){return"gap(".concat(this.length,
")")}}]);return e}(h),M=function(m){function e(a,b,d){oa(this,e);b=Ia(this,Aa(e).call(this,a.length+b+d.length,a.height+d.height,b|(a.outdated||d.outdated?2:0)));b.left=a;b.right=d;b.size=a.size+d.size;return b}wa(e,m);ra(e,[{key:"blockAt",value:function(a,b,d,g){var k=d+this.left.height;return a<k||0==this.right.height?this.left.blockAt(a,b,d,g):this.right.blockAt(a,b,k,g+this.left.length+this["break"])}},{key:"lineAt",value:function(a,b,d,g,k){var u=g+this.left.height,H=k+this.left.length+this["break"],
N=b==f.ByHeight?a<u||0==this.right.height:a<H;a=N?this.left.lineAt(a,b,d,g,k):this.right.lineAt(a,b,d,u,H);if(this["break"]||(N?a.to<H:a.from>H))return a;b=b==f.ByPosNoHeight?f.ByPosNoHeight:f.ByPos;return N?a.join(this.right.lineAt(H,b,d,u,H)):this.left.lineAt(H,b,d,g,k).join(a)}},{key:"forEachLine",value:function(a,b,d,g,k,u){var H=g+this.left.height,N=k+this.left.length+this["break"];if(this["break"])a<N&&this.left.forEachLine(a,b,d,g,k,u),b>=N&&this.right.forEachLine(a,b,d,H,N,u);else{var T=this.lineAt(N,
f.ByPos,d,g,k);a<T.from&&this.left.forEachLine(a,T.from-1,d,g,k,u);T.to>=a&&T.from<=b&&u(T);b>T.to&&this.right.forEachLine(T.to+1,b,d,H,N,u)}}},{key:"replace",value:function(a,b,d){var g=this.left.length+this["break"];if(b<g)return this.balanced(this.left.replace(a,b,d),this.right);if(a>this.left.length)return this.balanced(this.left,this.right.replace(a-g,b-g,d));g=[];0<a&&this.decomposeLeft(a,g);var k=g.length,u=!0,H=!1,N=void 0;try{for(var T=d[Symbol.iterator](),X;!(u=(X=T.next()).done);u=!0)g.push(X.value)}catch(ha){H=
!0,N=ha}finally{try{if(!u&&null!=T["return"])T["return"]()}finally{if(H)throw N;}}0<a&&na(g,k-1);b<this.length&&(a=g.length,this.decomposeRight(b,g),na(g,a));return h.of(g)}},{key:"decomposeLeft",value:function(a,b){var d=this.left.length;if(a<=d)return this.left.decomposeLeft(a,b);b.push(this.left);this["break"]&&(d++,a>=d&&b.push(null));a>d&&this.right.decomposeLeft(a-d,b)}},{key:"decomposeRight",value:function(a,b){var d=this.left.length,g=d+this["break"];if(a>=g)return this.right.decomposeRight(a-
g,b);a<d&&this.left.decomposeRight(a,b);this["break"]&&a<g&&b.push(null);b.push(this.right)}},{key:"balanced",value:function(a,b){if(a.size>2*b.size||b.size>2*a.size)return h.of(this["break"]?[a,null,b]:[a,b]);this.left=a;this.right=b;this.height=a.height+b.height;this.outdated=a.outdated||b.outdated;this.size=a.size+b.size;this.length=a.length+this["break"]+b.length;return this}},{key:"updateHeight",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:!1,g=3<arguments.length?arguments[3]:void 0,k=this.left,u=this.right,H=b+k.length+this["break"],N=null;g&&g.from<=b+k.length&&g.more?N=k=k.updateHeight(a,b,d,g):k.updateHeight(a,b,d);g&&g.from<=H+u.length&&g.more?N=u=u.updateHeight(a,H,d,g):u.updateHeight(a,H,d);if(N)return this.balanced(k,u);this.height=this.left.height+this.right.height;this.outdated=!1;return this}},{key:"toString",value:function(){return this.left+(this["break"]?" ":"-")+this.right}},{key:"break",
get:function(){return this.flags&1}}]);return e}(h),Q=function(){function m(e,a){oa(this,m);this.pos=e;this.oracle=a;this.nodes=[];this.lineEnd=this.lineStart=-1;this.covering=null;this.writtenTo=e}ra(m,[{key:"span",value:function(e,a){if(-1<this.lineStart){e=Math.min(a,this.lineEnd);var b=this.nodes[this.nodes.length-1];b instanceof w?b.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new w(e-this.pos,-1));this.writtenTo=e;a>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=
-1)}this.pos=a}},{key:"point",value:function(e,a,b){if(e<a||b.heightRelevant){var d=b.widget?Math.max(0,b.widget.estimatedHeight):0;e=a-e;b.block?this.addBlock(new n(e,d,b.type)):(e||5<=d)&&this.addLineDeco(d,e)}else a>e&&this.span(e,a);-1<this.lineEnd&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(-1<this.lineStart)){var e=this.oracle.doc.lineAt(this.pos),a=e.from;e=e.to;this.lineStart=a;this.lineEnd=e;this.writtenTo<a&&((this.writtenTo<
a-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,a-1)),this.nodes.push(null));this.pos>a&&this.nodes.push(new w(this.pos-a,-1));this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,a){var b=new B(a-e);this.oracle.doc.lineAt(e).to==a&&(b.flags|=4);return b}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof w)return e;e=new w(0,-1);this.nodes.push(e);return e}},{key:"addBlock",
value:function(e){this.enterLine();e.type!=Ib.WidgetAfter||this.isCovered||this.ensureLine();this.nodes.push(e);this.writtenTo=this.pos+=e.length;e.type!=Ib.WidgetBefore&&(this.covering=e)}},{key:"addLineDeco",value:function(e,a){var b=this.ensureLine();b.length+=a;b.collapsed+=a;b.widgetHeight=Math.max(b.widgetHeight,e);this.writtenTo=this.pos+=a}},{key:"finish",value:function(e){var a=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(-1<this.lineStart)||a instanceof w||this.isCovered?
(this.writtenTo<this.pos||null==a)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new w(0,-1));a=!0;var b=!1,d=void 0;try{for(var g=this.nodes[Symbol.iterator](),k;!(a=(k=g.next()).done);a=!0){var u=k.value;u instanceof w&&u.updateHeight(this.oracle,e);e+=u?u.length:1}}catch(H){b=!0,d=H}finally{try{if(!a&&null!=g["return"])g["return"]()}finally{if(b)throw d;}}return this.nodes}},{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},
{key:"minPointSize",get:function(){return 0}}],[{key:"build",value:function(e,a,b,d){e=new m(b,e);fa.RangeSet.spans(a,b,d,e);return e.finish(b)}}]);return m}(),V=function(){function m(){oa(this,m);this.changes=[]}ra(m,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,a,b,d){(e<a||b&&b.heightRelevant||d&&d.heightRelevant)&&z(e,a,this.changes)}},{key:"minPointSize",get:function(){return 0}}]);return m}(),da=[],pa=R.Facet.define(),ya=R.Facet.define(),ua=R.Facet.define(),Sa=
R.Facet.define(),Ca=R.Facet.define(),Ya=R.Facet.define(),Gb=R.Facet.define({combine:function(m){return m.length?m[0]:!0}}),ec=function b(e,a){oa(this,b);this.field=e;this.get=a};F.PluginFieldProvider=ec;var ib=function(){function e(){oa(this,e)}ra(e,[{key:"from",value:function(a){return new ec(this,a)}}],[{key:"define",value:function(){return new e}}]);return e}();F.PluginField=ib;ib.scrollMargins=ib.define();var Ab=0,fc=R.Facet.define(),lc=function(){function e(a,b,d){oa(this,e);this.id=a;this.create=
b;this.fields=d;this.extension=fc.of(this)}ra(e,null,[{key:"define",value:function(a,b){b=b||{};var d=b.eventHandlers,g=b.provide;b=b.decorations;var k=[];if(g){var u=!0,H=!1,N=void 0;try{for(var T=(Array.isArray(g)?g:[g])[Symbol.iterator](),X;!(u=(X=T.next()).done);u=!0)k.push(X.value)}catch(xa){H=!0,N=xa}finally{try{if(!u&&null!=T["return"])T["return"]()}finally{if(H)throw N;}}}d&&k.push(Tb.from(function(xa){return{plugin:xa,handlers:d}}));if(b){T=!0;X=!1;g=void 0;try{for(var ha=(Array.isArray(b)?
b:[b])[Symbol.iterator](),ja;!(T=(ja=ha.next()).done);T=!0)k.push(ub.from(ja.value))}catch(xa){X=!0,g=xa}finally{try{if(!T&&null!=ha["return"])ha["return"]()}finally{if(X)throw g;}}}return new e(Ab++,a,k)}},{key:"fromClass",value:function(a,b){return e.define(function(d){return new a(d)},b)}}]);return e}();F.ViewPlugin=lc;var ub=ib.define(),Tb=ib.define(),Pb=function(){function e(a,b){oa(this,e);this.value=a;this.spec=b}ra(e,[{key:"takeField",value:function(a,b){var d=!0,g=!1,k=void 0;try{for(var u=
this.spec.fields[Symbol.iterator](),H;!(d=(H=u.next()).done);d=!0){var N=H.value,T=N.get;N.field==a&&b.push(T(this.value))}}catch(X){g=!0,k=X}finally{try{if(!d&&null!=u["return"])u["return"]()}finally{if(g)throw k;}}}},{key:"update",value:function(a){if(!this.value.update)return this;try{return this.value.update(a),this}catch(b){Na(a.state,b,"CodeMirror plugin crashed");if(this.value.destroy)try{this.value.destroy()}catch(d){}return e.dummy}}},{key:"destroy",value:function(a){if(this.value.destroy)try{this.value.destroy()}catch(b){Na(a.state,
b,"CodeMirror plugin crashed")}}}],[{key:"create",value:function(a,b){try{var d=a.create(b)}catch(g){return Na(b.state,g,"CodeMirror plugin crashed"),e.dummy}return new e(d,a)}}]);return e}();Pb.dummy=new Pb({},lc.define(function(){return{}}));var gc=R.Facet.define({combine:function(e){return e.reduce(function(a,b){return r(b,a)},{})}}),Zb=R.Facet.define({combine:function(e){return e.reduce(function(a,b){return r(b,a)},{})}}),Lb=R.Facet.define(),hc=R.Facet.define(),Ub=function(){function e(a,b,d,
g){oa(this,e);this.fromA=a;this.toA=b;this.fromB=d;this.toB=g}ra(e,[{key:"join",value:function(a){return new e(Math.min(this.fromA,a.fromA),Math.max(this.toA,a.toA),Math.min(this.fromB,a.fromB),Math.max(this.toB,a.toB))}},{key:"addToSet",value:function(a){for(var b=a.length,d=this;0<b;b--){var g=a[b-1];if(!(g.fromA>d.toA)){if(g.toA<d.fromA)break;d=d.join(g);a.splice(b-1,1)}}a.splice(b,0,d);return a}}],[{key:"extendWithRanges",value:function(a,b){if(0==b.length)return a;for(var d=[],g=0,k=0,u=0,H=
0;;g++){var N=g==a.length?null:a[g];u-=H;for(var T=N?N.fromB:1E9;k<b.length&&b[k]<T;){var X=b[k+1],ha=Math.max(H,b[k]),ja=Math.min(T,X);ha<=ja&&(new e(ha+u,ja+u,ha,ja)).addToSet(d);if(X>T)break;else k+=2}if(!N)return d;(new e(N.fromA,N.toA,N.fromB,N.toB)).addToSet(d);u=N.toA;H=N.toB}}}]);return e}(),uc=function(){function e(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:da;oa(this,e);this.view=a;this.state=b;this.transactions=d;this.flags=0;this.prevState=a.state;this.changes=R.ChangeSet.empty(this.prevState.doc.length);
var g=!0,k=!1,u=void 0;try{for(var H=d[Symbol.iterator](),N;!(g=(N=H.next()).done);g=!0)this.changes=this.changes.compose(N.value.changes)}catch(X){k=!0,u=X}finally{try{if(!g&&null!=H["return"])H["return"]()}finally{if(k)throw u;}}var T=[];this.changes.iterChangedRanges(function(X,ha,ja,xa){return T.push(new Ub(X,ha,ja,xa))});this.changedRanges=T;d=a.hasFocus;d!=a.inputState.notifiedFocused&&(a.inputState.notifiedFocused=d,1!=this.flags);this.docChanged&&(this.flags|=2)}ra(e,[{key:"viewportChanged",
get:function(){return 0<(this.flags&4)}},{key:"heightChanged",get:function(){return 0<(this.flags&2)}},{key:"geometryChanged",get:function(){return this.docChanged||0<(this.flags&18)}},{key:"focusChanged",get:function(){return 0<(this.flags&1)}},{key:"docChanged",get:function(){return this.transactions.some(function(a){return a.docChanged})}},{key:"selectionSet",get:function(){return this.transactions.some(function(a){return a.selection})}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}]);
return e}();F.ViewUpdate=uc;var $b=function(){function e(a,b,d){oa(this,e);this.from=a;this.to=b;this.size=d}ra(e,[{key:"draw",value:function(a){return Db.replace({widget:new db(this.size,a)}).range(this.from,this.to)}}],[{key:"same",value:function(a,b){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++){var g=a[d],k=b[d];if(g.from!=k.from||g.to!=k.to||g.size!=k.size)return!1}return!0}}]);return e}(),db=function(e){function a(b,d){oa(this,a);var g=Ia(this,Aa(a).call(this));g.size=b;g.vertical=
d;return g}wa(a,e);ra(a,[{key:"eq",value:function(b){return b.size==this.size&&b.vertical==this.vertical}},{key:"toDOM",value:function(){var b=document.createElement("div");this.vertical?b.style.height=this.size+"px":(b.style.width=this.size+"px",b.style.height="2px",b.style.display="inline-block");return b}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]);return a}(nc),Hb=function(){function e(a){oa(this,e);this.state=a;this.pixelViewport={left:0,right:window.innerWidth,
top:0,bottom:0};this.inView=!0;this.contentWidth=this.paddingBottom=this.paddingTop=0;this.heightOracle=new Uc;this.heightMap=h.empty();this.scrollTo=null;this.printing=!1;this.visibleRanges=[];this.mustEnforceCursorAssoc=!1;this.heightMap=this.heightMap.applyChanges(a.facet(Lb),la.Text.empty,this.heightOracle.setDoc(a.doc),[new Ub(0,0,0,a.doc.length)]);this.viewport=this.getViewport(0,null);this.lineGaps=this.ensureLineGaps([]);this.lineGapDeco=Db.set(this.lineGaps.map(function(b){return b.draw(!1)}));
this.computeVisibleRanges()}ra(e,[{key:"update",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=this.state;this.state=a.state;var g=this.state.facet(Lb),k=Ub.extendWithRanges(a.changedRanges,Ea(a.prevState.facet(Lb),g,a?a.changes:R.ChangeSet.empty(this.state.doc.length))),u=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(g,d.doc,this.heightOracle.setDoc(this.state.doc),k);this.heightMap.height!=u&&(a.flags|=2);d=k.length?this.mapViewport(this.viewport,
a.changes):this.viewport;if(b&&(b.head<d.from||b.head>d.to)||!this.viewportIsAppropriate(d))d=this.getViewport(0,b);d.eq(this.viewport)||(this.viewport=d,a.flags|=4);if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)a.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,a.changes)));this.computeVisibleRanges();b&&(this.scrollTo=b);!this.mustEnforceCursorAssoc&&a.selectionSet&&a.view.lineWrapping&&a.state.selection.primary.empty&&a.state.selection.primary.assoc&&
(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(a,b){var d=a.dom,g="",k=Vb.LTR;if(!b){var u=window.getComputedStyle(d);g=u.whiteSpace;k="rtl"==u.direction?Vb.RTL:Vb.LTR;this.paddingTop=parseInt(u.paddingTop)||0;this.paddingBottom=parseInt(u.paddingBottom)||0}if(this.printing)u={top:-1E8,bottom:1E8,left:-1E8,right:1E8};else{u=this.paddingTop;var H=d.getBoundingClientRect(),N=Math.max(0,H.left),T=Math.min(innerWidth,H.right),X=Math.max(0,H.top),ha=Math.min(innerHeight,H.bottom);for(d=
d.parentNode;d;)if(1==d.nodeType){if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&"visible"!=window.getComputedStyle(d).overflow){var ja=d.getBoundingClientRect();N=Math.max(N,ja.left);T=Math.min(T,ja.right);X=Math.max(X,ja.top);ha=Math.min(ha,ja.bottom)}d=d.parentNode}else if(11==d.nodeType)d=d.host;else break;u={left:N-H.left,right:T-H.left,top:X-(H.top+u),bottom:ha-(H.top+u)}}N=u;u=N.top-this.pixelViewport.top;H=N.bottom-this.pixelViewport.bottom;this.pixelViewport=N;this.inView=
this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(!this.inView)return 0;N=a.measureVisibleLineHeights();d=!1;X=T=0;ha=this.heightOracle;if(!b){b=a.dom.clientWidth;if(ha.mustRefresh(N,g,k)||ha.lineWrapping&&Math.abs(b-this.contentWidth)>ha.charWidth)if(d=a.measureTextSize(),ja=d.charWidth,d=ha.refresh(g,k,d.lineHeight,ja,b/ja,N))a.minWidth=0,X|=16;this.contentWidth!=b&&(this.contentWidth=b,X|=16);0<u&&0<H?T=Math.max(u,H):0>u&&0>H&&(T=Math.min(u,H))}ha.heightChanged=
!1;this.heightMap=this.heightMap.updateHeight(ha,0,d,new ld(this.viewport.from,N));ha.heightChanged&&(X|=2);if(!this.viewportIsAppropriate(this.viewport,T)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to))this.viewport=this.getViewport(T,this.scrollTo),X|=4;if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)X|=this.updateLineGaps(this.ensureLineGaps(d?[]:this.lineGaps));this.computeVisibleRanges();this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=
!1,a.enforceCursorAssoc());return X}},{key:"getViewport",value:function(a,b){var d=.5-Math.max(-.5,Math.min(.5,a/1E3/2));a=this.heightMap;var g=this.state.doc,k=this.pixelViewport,u=k.top;k=k.bottom;d=new rc(a.lineAt(u-1E3*d,f.ByHeight,g,0,0).from,a.lineAt(k+1E3*(1-d),f.ByHeight,g,0,0).to);b&&(b.head<d.from?(b=a.lineAt(b.head,f.ByPos,g,0,0).top,d=new rc(a.lineAt(b-500,f.ByHeight,g,0,0).from,a.lineAt(b+(k-u)+500,f.ByHeight,g,0,0).to)):b.head>d.to&&(b=a.lineAt(b.head,f.ByPos,g,0,0).bottom,d=new rc(a.lineAt(b-
(k-u)-500,f.ByHeight,g,0,0).from,a.lineAt(b+500,f.ByHeight,g,0,0).to)));return d}},{key:"mapViewport",value:function(a,b){var d=b.mapPos(a.from,-1);a=b.mapPos(a.to,1);return new rc(this.heightMap.lineAt(d,f.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(a,f.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(a){var b=a.from,d=a.to,g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,k=this.heightMap.lineAt(b,f.ByPos,this.state.doc,0,0).top,u=this.heightMap.lineAt(d,
f.ByPos,this.state.doc,0,0).bottom;return(0==b||k<=this.pixelViewport.top-Math.max(10,Math.min(-g,250)))&&(d==this.state.doc.length||u>=this.pixelViewport.bottom+Math.max(10,Math.min(g,250)))&&k>this.pixelViewport.top-2E3&&u<this.pixelViewport.bottom+2E3}},{key:"mapLineGaps",value:function(a,b){if(!a.length||b.empty)return a;var d=[],g=!0,k=!1,u=void 0;try{for(var H=a[Symbol.iterator](),N;!(g=(N=H.next()).done);g=!0){var T=N.value;b.touchesRange(T.from,T.to)||d.push(new $b(b.mapPos(T.from),b.mapPos(T.to),
T.size))}}catch(X){k=!0,u=X}finally{try{if(!g&&null!=H["return"])H["return"]()}finally{if(k)throw u;}}return d}},{key:"ensureLineGaps",value:function(a){var b=this,d=[];if(this.heightOracle.direction!=Vb.LTR)return d;this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,function(g){if(!(1E4>g.length)){var k=bb(g.from,g.to,b.state);if(!(1E4>k.total)){if(b.heightOracle.lineWrapping){var u=g.from!=b.viewport.from?g.from:Wa(k,(b.pixelViewport.top-g.top)/g.height);var H=g.to!=
b.viewport.to?g.to:Wa(k,(b.pixelViewport.bottom-g.top)/g.height)}else H=k.total*b.heightOracle.charWidth,u=Wa(k,b.pixelViewport.left/H),H=Wa(k,b.pixelViewport.right/H);var N=b.state.selection.primary;N.from<=u&&N.to>=g.from&&(u=N.from);N.from<=g.to&&N.to>=H&&(H=N.to);var T=u-1E4,X=H+1E4;T>g.from+5E3&&d.push(kb(a,function(ha){return ha.from==g.from&&ha.to>T-5E3&&ha.to<T+5E3})||new $b(g.from,T,b.gapSize(g,T,!0,k)));X<g.to-5E3&&d.push(kb(a,function(ha){return ha.to==g.to&&ha.from>X-5E3&&ha.from<X+5E3})||
new $b(X,g.to,b.gapSize(g,X,!1,k)))}}});return d}},{key:"gapSize",value:function(a,b,d,g){if(this.heightOracle.lineWrapping)return g=a.height*fb(g,b),d?g:a.height-g;a=fb(g,b);return g.total*this.heightOracle.charWidth*(d?a:1-a)}},{key:"updateLineGaps",value:function(a){var b=this;return $b.same(a,this.lineGaps)?0:(this.lineGaps=a,this.lineGapDeco=Db.set(a.map(function(d){return d.draw(b.heightOracle.lineWrapping)})),8)}},{key:"computeVisibleRanges",value:function(){var a=this.state.facet(Lb);this.lineGaps.length&&
(a=a.concat(this.lineGapDeco));var b=[];fa.RangeSet.spans(a,this.viewport.from,this.viewport.to,{span:function(d,g){b.push({from:d,to:g})},point:function(){},minPointSize:20});this.visibleRanges=b}},{key:"lineAt",value:function(a,b){return this.heightMap.lineAt(a,f.ByPos,this.state.doc,b+this.paddingTop,0)}},{key:"lineAtHeight",value:function(a,b){return this.heightMap.lineAt(a,f.ByHeight,this.state.doc,b+this.paddingTop,0)}},{key:"blockAtHeight",value:function(a,b){return this.heightMap.blockAt(a,
this.state.doc,b+this.paddingTop,0)}},{key:"forEachLine",value:function(a,b,d,g){return this.heightMap.forEachLine(a,b,this.state.doc,g+this.paddingTop,0,d)}}]);return e}(),rc=function(){function e(a,b){oa(this,e);this.from=a;this.to=b}ra(e,[{key:"eq",value:function(a){return this.from==a.from&&this.to==a.to}}]);return e}(),dd=[],Vc=function(e){function a(b){oa(this,a);var d=Ia(this,Aa(a).call(this));d.view=b;d.viewports=dd;d.compositionDeco=Db.none;d.decorations=[];d.minWidth=0;d.minWidthFrom=0;
d.minWidthTo=0;d.impreciseAnchor=null;d.impreciseHead=null;d.setDOM(b.contentDOM);d.children=[new Cb];d.children[0].setParent(Pa(d));d.updateInner([new Ub(0,0,0,b.state.doc.length)],d.updateDeco(),0);return d}wa(a,e);ra(a,[{key:"update",value:function(b){var d=this,g,k=b.changedRanges;0<this.minWidth&&k.length&&(k.every(function(N){var T=N.fromA;return N.toA<d.minWidthFrom||T>d.minWidthTo})?(this.minWidthFrom=b.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=b.changes.mapPos(this.minWidthTo,1)):
this.minWidth=0);null!==(g=this.view.inputState)&&void 0!==g&&g.composing?b.transactions.length&&(this.compositionDeco=gb(this.view,b.changes)):this.compositionDeco=Db.none;g=(pb.ie||pb.chrome)&&!this.compositionDeco.size&&b&&b.state.doc.lines!=b.prevState.doc.lines;var u=this.decorations,H=this.updateDeco();u=wb(u,H,b.changes);k=Ub.extendWithRanges(k,u);u=b.transactions.some(function(N){return"pointerselection"==N.annotation(R.Transaction.userEvent)});if(0==this.dirty&&0==k.length&&!(b.flags&12)&&
b.state.selection.primary.from>=this.view.viewport.from&&b.state.selection.primary.to<=this.view.viewport.to)return this.updateSelection(g,u),!1;this.updateInner(k,H,b.prevState.doc.length,g,u);return!0}},{key:"updateInner",value:function(b,d,g){var k=this,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,H=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;this.updateChildren(b,d,g);this.view.observer.ignore(function(){k.dom.style.height=k.view.viewState.heightMap.height+"px";k.dom.style.minWidth=
k.minWidth?k.minWidth+"px":"";var N=pb.chrome?{node:Fa(k.view.root).focusNode,written:!1}:void 0;k.sync(N);k.dirty=0;if(null===N||void 0===N?0:N.written)u=!0;k.updateSelection(u,H);k.dom.style.height=""})}},{key:"updateChildren",value:function(b,d,g){g=this.childCursor(g);for(var k=b.length-1;;k--){var u=0<=k?b[k]:null;if(!u)break;var H=u.fromA,N=u.toA,T=Tc.build(this.view.state.doc,u.fromB,u.toB,d);u=T.content;var X=T.breakAtStart,ha=T.openStart;T=T.openEnd;var ja=g.findPos(N,1);N=ja.i;ja=ja.off;
H=g.findPos(H,-1);this.replaceRange(H.i,H.off,N,ja,u,X,ha,T)}}},{key:"replaceRange",value:function(b,d,g,k,u,H,N,T){var X=this.children[b],ha=u.length?u[u.length-1]:null,ja=ha?ha.breakAfter:H;if(b!=g||H||ja||!(2>u.length)||!X.merge(d,k,u.length?ha:null,0==d,N,T)){var xa=this.children[g];k<xa.length||xa.children.length&&0==xa.children[xa.children.length-1].length?(b==g&&(xa=xa.split(k),k=0),!ja&&ha&&xa.merge(0,k,ha,!0,0,T)?u[u.length-1]=xa:((k||xa.children.length&&0==xa.children[0].length)&&xa.merge(0,
k,null,!1,0,T),u.push(xa))):xa.breakAfter&&(ha?ha.breakAfter=1:H=1);g++;X.breakAfter=H;0<d&&(!H&&u.length&&X.merge(d,X.length,u[0],!1,N,0)?X.breakAfter=u.shift().breakAfter:(d<X.length||X.children.length&&0==X.children[X.children.length-1].length)&&X.merge(d,X.length,null,!1,N,0),b++);for(;b<g&&u.length;)if(this.children[g-1].match(u[u.length-1]))g--,u.pop();else if(this.children[b].match(u[0]))b++,u.shift();else break;(b<g||u.length)&&this.replaceChildren(b,g,u)}}},{key:"updateSelection",value:function(){var b=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]||this.mayControlSelection()){var d=this.view.state.selection.primary,g=this.domAtPos(d.anchor),k=this.domAtPos(d.head),u=Fa(this.root);(b||!u.focusNode||pb.gecko&&d.empty&&sb(u.focusNode,u.focusOffset)||!Ma(g.node,g.offset,u.anchorNode,u.anchorOffset)||!Ma(k.node,k.offset,u.focusNode,u.focusOffset))&&this.view.observer.ignore(function(){if(d.empty){if(pb.gecko){var H=sb(g.node,g.offset);
if(H&&3!=H){var N=ob(g.node,g.offset,1==H?1:-1);N&&(g=new pc(N,1==H?0:N.nodeValue.length))}}u.collapse(g.node,g.offset);null!=d.bidiLevel&&null!=u.cursorBidiLevel&&(u.cursorBidiLevel=d.bidiLevel)}else u.extend?(u.collapse(g.node,g.offset),u.extend(k.node,k.offset)):(H=document.createRange(),d.anchor>d.head&&(N=[k,g],g=N[0],k=N[1]),H.setEnd(k.node,k.offset),H.setStart(g.node,g.offset),u.removeAllRanges(),u.addRange(H))});this.impreciseAnchor=g.precise?null:new pc(u.anchorNode,u.anchorOffset);this.impreciseHead=
k.precise?null:new pc(u.focusNode,u.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){var b=this.view.state.selection.primary,d=Fa(this.root);if(b.empty&&b.assoc&&d.modify){var g=Cb.find(this,b.head);if(g){var k=g.posAtStart;b.head!=k&&b.head!=k+g.length&&(g=this.coordsAt(b.head,-1),k=this.coordsAt(b.head,1),!g||!k||g.bottom>k.top||(g=this.domAtPos(b.head+b.assoc),d.collapse(g.node,g.offset),d.modify("move",0>b.assoc?"forward":"backward","lineboundary")))}}}},{key:"mayControlSelection",value:function(){return this.view.state.facet(Gb)?
this.root.activeElement==this.dom:La(this.dom,Fa(this.root))}},{key:"nearest",value:function(b){for(;b;){var d=zb.get(b);if(d&&d.rootView==this)return d;b=b.parentNode}return null}},{key:"posFromDOM",value:function(b,d){var g=this.nearest(b);if(!g)throw new RangeError("Trying to find position for a DOM position outside of the document");return g.localPosFromDOM(b,d)+g.posAtStart}},{key:"domAtPos",value:function(b){var d=this.childCursor().findPos(b,-1);b=d.i;for(d=d.off;b<this.children.length-1;){var g=
this.children[b];if(d<g.length||g instanceof Cb)break;b++;d=0}return this.children[b].domAtPos(d)}},{key:"coordsAt",value:function(b,d){for(var g=this.length,k=this.children.length-1;;k--){var u=this.children[k];g=g-u.breakAfter-u.length;if(b>g||b==g&&(u.type==Ib.Text||!k||this.children[k-1].breakAfter))return u.coordsAt(b-g,d)}}},{key:"measureVisibleLineHeights",value:function(){var b=[],d=this.view.viewState.viewport,g=d.from;d=d.to;for(var k=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+
1,u=0,H=0;H<this.children.length;H++){var N=this.children[H],T=u+N.length;if(T>d)break;if(u>=g){b.push(N.dom.getBoundingClientRect().height);var X=N.dom.scrollWidth;X>k&&(this.minWidth=k=X,this.minWidthFrom=u,this.minWidthTo=T)}u=T+N.breakAfter}return b}},{key:"measureTextSize",value:function(){var b=this,d=!0,g=!1,k=void 0;try{for(var u=this.children[Symbol.iterator](),H;!(d=(H=u.next()).done);d=!0){var N=H.value;if(N instanceof Cb){var T=N.measureTextSize();if(T)return T}}}catch(xa){g=!0,k=xa}finally{try{if(!d&&
null!=u["return"])u["return"]()}finally{if(g)throw k;}}var X=document.createElement("div"),ha,ja;X.className="cm-line";X.textContent="abc def ghi jkl mno pqr stu";this.view.observer.ignore(function(){b.dom.appendChild(X);var xa=va(X.firstChild)[0];ha=X.getBoundingClientRect().height;ja=xa?xa.width/27:7;X.remove()});return{lineHeight:ha,charWidth:ja}}},{key:"childCursor",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,d=this.children.length;d&&(b-=this.children[--d].length);
return new hd(this.children,b,d)}},{key:"computeBlockGapDeco",value:function(){var b=this.view.viewState.viewport,d=[b],g=this.view.state.selection.primary,k=g.head,u=g.anchor;if(k<b.from||k>b.to)b=this.view.viewState.lineAt(k,0),d.push(new rc(b.from,b.to));d.some(function(X){var ha=X.to;return u>=X.from&&u<=ha})||(b=this.view.viewState.lineAt(u,0),d.push(new rc(b.from,b.to)));this.viewports=d.sort(function(X,ha){return X.from-ha.from});b=[];for(k=g=0;;k++){var H=k==d.length?null:d[k],N=H?H.from-
1:this.length;if(N>g){var T=this.view.viewState.lineAt(N,0).bottom-this.view.viewState.lineAt(g,0).top;b.push(Db.replace({widget:new ee(T),block:!0,inclusive:!0}).range(g,N))}if(!H)break;g=H.to+1}return Db.set(b)}},{key:"updateDeco",value:function(){return this.decorations=[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco].concat(Qa(this.view.state.facet(Lb)),Qa(this.view.pluginField(ub)))}},{key:"scrollPosIntoView",value:function(b,d){var g;if(b=this.coordsAt(b,d)){var k=
g=d=0,u=0,H=!0,N=!1,T=void 0;try{for(var X=this.view.pluginField(ib.scrollMargins)[Symbol.iterator](),ha;!(H=(ha=X.next()).done);H=!0){var ja=ha.value;if(ja){var xa=ja.left,Xa=ja.right,Za=ja.top;var qb=ja.bottom;null!=xa&&(d=Math.max(d,xa));null!=Xa&&(g=Math.max(g,Xa));null!=Za&&(k=Math.max(k,Za));null!=qb&&(u=Math.max(u,qb))}}}catch(cc){N=!0,T=cc}finally{try{if(!H&&null!=X["return"])X["return"]()}finally{if(N)throw T;}}ja=this.dom;X={left:b.left-d,top:b.top-k,right:b.right+g,bottom:b.bottom+u};ha=
ja.ownerDocument.defaultView;for(ja=ja.parentNode;ja;)if(1==ja.nodeType){if(xa=ja==document.body)qb=0,b=ha.innerWidth,d=0,g=ha.innerHeight;else{if(ja.scrollHeight<=ja.clientHeight&&ja.scrollWidth<=ja.clientWidth){ja=ja.parentNode;continue}Xa=ja.getBoundingClientRect();qb=Xa.left;b=Xa.left+ja.clientWidth;d=Xa.top;g=Xa.top+ja.clientHeight}Za=Xa=0;X.top<d?Za=-(d-X.top+5):X.bottom>g&&(Za=X.bottom-g+5);X.left<qb?Xa=-(qb-X.left+5):X.right>b&&(Xa=X.right-b+5);if(Xa||Za)xa?ha.scrollBy(Xa,Za):(Za&&(qb=ja.scrollTop,
ja.scrollTop+=Za,Za=ja.scrollTop-qb),Xa&&(qb=ja.scrollLeft,ja.scrollLeft+=Xa,Xa=ja.scrollLeft-qb),X={left:X.left-Xa,top:X.top-Za,right:X.right-Xa,bottom:X.bottom-Za});if(xa)break;ja=ja.parentNode}else if(11==ja.nodeType)ja=ja.host;else break}}},{key:"root",get:function(){return this.view.root}},{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}}]);return a}(zb),ee=function(e){function a(b){oa(this,a);var d=Ia(this,Aa(a).call(this));
d.height=b;return d}wa(a,e);ra(a,[{key:"toDOM",value:function(){var b=document.createElement("div");this.updateDOM(b);return b}},{key:"eq",value:function(b){return b.height==this.height}},{key:"updateDOM",value:function(b){if(1E7>this.height){for(;b.lastChild;)b.lastChild.remove();b.style.height=this.height+"px"}else{b.style.height="";for(var d=this.height;0<d;d-=1E7)b.appendChild(document.createElement("div")).style.height=Math.min(d,1E7)+"px"}return!0}},{key:"estimatedHeight",get:function(){return this.height}}]);
return a}(nc),Od=function(e){function a(b,d){oa(this,a);var g=Ia(this,Aa(a).call(this));g.top=b;g.text=d;return g}wa(a,e);ra(a,[{key:"eq",value:function(b){return this.top==b.top&&this.text==b.text}},{key:"toDOM",value:function(){return this.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return yd}}]);return a}(nc),Pd=function(){function e(){oa(this,e);this.changes=[]}ra(e,[{key:"compareRange",value:function(a,b){z(a,b,this.changes)}},{key:"comparePoint",value:function(a,
b){z(a,b,this.changes)}}]);return e}(),ge=function(){function e(a){var b=this;oa(this,e);this.lastKeyTime=this.lastKeyCode=0;this.lastSelectionOrigin=null;this.lastSelectionTime=0;this.scrollHandlers=[];this.registeredEvents=[];this.customHandlers=[];this.composing=!1;this.compositionEndedAt=0;this.mouseSelection=null;var d=function(k){var u=Wb[k];a.contentDOM.addEventListener(k,function(H){U(a,H)&&!b.ignoreDuringComposition(H)&&(b.mustFlushObserver(H)&&a.observer.forceFlush(),b.runCustomHandlers(k,
a,H)?H.preventDefault():u(a,H))});b.registeredEvents.push(k)},g;for(g in Wb)d(g);a.contentDOM.addEventListener("keydown",function(k){a.inputState.lastKeyCode=k.keyCode;a.inputState.lastKeyTime=Date.now()});this.notifiedFocused=a.hasFocus;this.ensureHandlers(a)}ra(e,[{key:"setSelectionOrigin",value:function(a){this.lastSelectionOrigin=a;this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(a){var b=this,d=this.customHandlers=a.pluginField(Tb),g=!0,k=!1,u=void 0;try{for(var H=d[Symbol.iterator](),
N;!(g=(N=H.next()).done);g=!0){var T=N.value;d=function(ha){0>b.registeredEvents.indexOf(ha)&&"scroll"!=ha&&(b.registeredEvents.push(ha),a.contentDOM.addEventListener(ha,function(ja){U(a,ja)&&b.runCustomHandlers(ha,a,ja)&&ja.preventDefault()}))};for(var X in T.handlers)d(X)}}catch(ha){k=!0,u=ha}finally{try{if(!g&&null!=H["return"])H["return"]()}finally{if(k)throw u;}}}},{key:"runCustomHandlers",value:function(a,b,d){var g=!0,k=!1,u=void 0;try{for(var H=this.customHandlers[Symbol.iterator](),N;!(g=
(N=H.next()).done);g=!0){var T=N.value,X=T.handlers[a];if(X)try{if(X.call(T.plugin,d,b)||d.defaultPrevented)return!0}catch(ha){Na(b.state,ha)}}}catch(ha){k=!0,u=ha}finally{try{if(!g&&null!=H["return"])H["return"]()}finally{if(k)throw u;}}return!1}},{key:"runScrollHandlers",value:function(a,b){var d=!0,g=!1,k=void 0;try{for(var u=this.customHandlers[Symbol.iterator](),H;!(d=(H=u.next()).done);d=!0){var N=H.value,T=N.handlers.scroll;if(T)try{T.call(N.plugin,b,a)}catch(X){Na(a.state,X)}}}catch(X){g=
!0,k=X}finally{try{if(!d&&null!=u["return"])u["return"]()}finally{if(g)throw k;}}}},{key:"ignoreDuringComposition",value:function(a){return/^key/.test(a.type)?this.composing?!0:pb.safari&&500>a.timeStamp-this.compositionEndedAt?(this.compositionEndedAt=0,!0):!1:!1}},{key:"mustFlushObserver",value:function(a){return"keydown"==a.type||"compositionend"==a.type}},{key:"startMouseSelection",value:function(a,b,d){this.mouseSelection&&this.mouseSelection.destroy();this.mouseSelection=new fe(this,a,b,d)}},
{key:"update",value:function(a){this.mouseSelection&&this.mouseSelection.update(a);this.lastKeyCode=this.lastSelectionTime=0}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]);return e}(),fe=function(){function e(a,b,d,g){oa(this,e);this.inputState=a;this.view=b;this.startEvent=d;this.style=g;a=b.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this));a.addEventListener("mouseup",this.up=this.up.bind(this));this.extend=d.shiftKey;
if(a=b.state.facet(R.EditorState.allowMultipleSelections))a=b.state.facet(pa),a=a.length?a[0](d):pb.mac?d.metaKey:d.ctrlKey;this.multiple=a;a=b.state.facet(ya);this.dragMove=a.length?a[0](d):pb.mac?!d.altKey:!d.ctrlKey;this.dragging=Qb(b,d)?null:!1;!1===this.dragging&&(d.preventDefault(),this.select(d))}ra(e,[{key:"move",value:function(a){if(0==a.buttons)return this.destroy();!1===this.dragging&&this.select(a)}},{key:"up",value:function(a){null==this.dragging&&this.select(this.startEvent);this.dragging||
a.preventDefault();this.destroy()}},{key:"destroy",value:function(){var a=this.view.contentDOM.ownerDocument;a.removeEventListener("mousemove",this.move);a.removeEventListener("mouseup",this.up);this.inputState.mouseSelection=null}},{key:"select",value:function(a){a=this.style.get(a,this.extend,this.multiple);a.eq(this.view.state.selection)&&a.primary.assoc==this.view.state.selection.primary.assoc||this.view.dispatch({selection:a,annotations:R.Transaction.userEvent.of("pointerselection"),scrollIntoView:!0})}},
{key:"update",value:function(a){a.docChanged&&this.dragging&&(this.dragging=this.dragging.map(a.changes));this.style.update(a)}}]);return e}(),Wb=Object.create(null),Hd=pb.ie&&15>pb.ie_version||pb.ios&&604>pb.webkit_version;Wb.keydown=function(e,a){var b=(a.ctrlKey?1:0)|(a.metaKey?8:0)|(a.altKey?2:0)|(a.shiftKey?4:0),d=a.keyCode,g=pb.mac&&1==b;(8==d||g&&72==d||46==d||g&&68==d||27==d||b==(pb.mac?8:1)&&(66==d||73==d||89==d||90==d))&&a.preventDefault();e.inputState.setSelectionOrigin("keyboardselection")};
Wb.touchdown=Wb.touchmove=function(e){e.inputState.setSelectionOrigin("pointerselection")};Wb.mousedown=function(e,a){var b=null,d=!0,g=!1,k=void 0;try{for(var u=e.state.facet(ua)[Symbol.iterator](),H;!(d=(H=u.next()).done);d=!0){var N=H.value;if(b=N(e,a))break}}catch(T){g=!0,k=T}finally{try{if(!d&&null!=u["return"])u["return"]()}finally{if(g)throw k;}}b||0!=a.button||(b=ca(e,a));b&&(e.root.activeElement!=e.contentDOM&&e.observer.ignore(function(){return y(e.contentDOM)}),e.inputState.startMouseSelection(e,
a,b))};var Qd=pb.ie&&11>=pb.ie_version,Bd=null,Cd=0;Wb.dragstart=function(e,a){var b=e.state.selection.primary,d=e.inputState.mouseSelection;d&&(d.dragging=b);a.dataTransfer&&(a.dataTransfer.setData("Text",e.state.sliceDoc(b.from,b.to)),a.dataTransfer.effectAllowed="copyMove")};Wb.drop=function(e,a){if(a.dataTransfer){var b=e.posAtCoords({x:a.clientX,y:a.clientY}),d=a.dataTransfer.getData("Text");null!=b&&d&&(a.preventDefault(),a=(a=e.inputState.mouseSelection)&&a.dragging&&a.dragMove?{from:a.dragging.from,
to:a.dragging.to}:null,d={from:b,insert:d},d=e.state.changes(a?[a,d]:d),e.focus(),e.dispatch({changes:d,selection:{anchor:d.mapPos(b,-1),head:d.mapPos(b,1)},annotations:R.Transaction.userEvent.of("drop")}))}};Wb.paste=function(e,a){e.observer.flush();var b=Hd?null:a.clipboardData;(b=b&&b.getData("text/plain"))?(J(e,b),a.preventDefault()):G(e)};var pd=null;Wb.copy=Wb.cut=function(e,a){var b=e.state;var d=[],g=[],k=!1,u=!0,H=!1,N=void 0;try{for(var T=b.selection.ranges[Symbol.iterator](),X;!(u=(X=T.next()).done);u=
!0){var ha=X.value;ha.empty||(d.push(b.sliceDoc(ha.from,ha.to)),g.push(ha))}}catch(Za){H=!0,N=Za}finally{try{if(!u&&null!=T["return"])T["return"]()}finally{if(H)throw N;}}if(!d.length){k=-1;u=!0;H=!1;N=void 0;try{for(var ja=b.selection.ranges[Symbol.iterator](),xa;!(u=(xa=ja.next()).done);u=!0){var Xa=b.doc.lineAt(xa.value.from);Xa.number>k&&(d.push(Xa.slice()),g.push({from:Xa.from,to:Math.min(b.doc.length,Xa.to+1)}));k=Xa.number}}catch(Za){H=!0,N=Za}finally{try{if(!u&&null!=ja["return"])ja["return"]()}finally{if(H)throw N;
}}k=!0}if(b=d.join(b.lineBreak))pd=k?b:null,(d=Hd?null:a.clipboardData)?(a.preventDefault(),d.clearData(),d.setData("text/plain",b)):ia(e,b),"cut"==a.type&&e.dispatch({changes:g,scrollIntoView:!0,annotations:R.Transaction.userEvent.of("cut")})};Wb.focus=Wb.blur=function(e){setTimeout(function(){e.hasFocus!=e.inputState.notifiedFocused&&e.update([])},10)};Wb.beforeprint=function(e){e.viewState.printing=!0;e.requestMeasure();setTimeout(function(){e.viewState.printing=!1;e.requestMeasure()},2E3)};Wb.compositionstart=
Wb.compositionupdate=function(e){e.inputState.composing||(e.docView.compositionDeco.size&&(e.observer.flush(),e.docView.compositionDeco.size&&e.update([])),e.inputState.composing=!0)};Wb.compositionend=function(e){e.inputState.composing=!1;e.inputState.compositionEndedAt=Date.now();setTimeout(function(){e.inputState.composing||e.docView.compositionDeco.size&&e.update([])},50)};var he={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},Ad=pb.ie&&11>=pb.ie_version,ie=function(){function e(a,
b,d){var g=this;oa(this,e);this.view=a;this.onChange=b;this.onScrollChanged=d;this.active=!1;this.ignoreSelection=new sc;this.delayedFlush=-1;this.queue=[];this.scrollTargets=[];this.intersection=null;this.intersecting=!1;this.parentCheck=-1;this.dom=a.contentDOM;this.observer=new MutationObserver(function(k){var u=!0,H=!1,N=void 0;try{for(var T=k[Symbol.iterator](),X;!(u=(X=T.next()).done);u=!0)g.queue.push(X.value)}catch(ha){H=!0,N=ha}finally{try{if(!u&&null!=T["return"])T["return"]()}finally{if(H)throw N;
}}pb.ie&&11>=pb.ie_version&&k.some(function(ha){return"childList"==ha.type&&ha.removedNodes.length||"characterData"==ha.type&&ha.oldValue.length>ha.target.nodeValue.length})?g.flushSoon():g.flush()});Ad&&(this.onCharData=function(k){g.queue.push({target:k.target,type:"characterData",oldValue:k.prevValue});g.flushSoon()});this.onSelectionChange=function(k){if(g.view.root.activeElement==g.dom){var u=Fa(g.view.root),H=u.anchorNode&&g.view.docView.nearest(u.anchorNode);H&&H.ignoreEvent(k)||(pb.ie&&11>=
pb.ie_version&&!g.view.state.selection.primary.empty&&u.focusNode&&Ma(u.focusNode,u.focusOffset,u.anchorNode,u.anchorOffset)?g.flushSoon():g.flush())}};this.start();this.onScroll=this.onScroll.bind(this);window.addEventListener("scroll",this.onScroll);"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(function(k){0>g.parentCheck&&(g.parentCheck=setTimeout(g.listenForScroll.bind(g),1E3));0<k[k.length-1].intersectionRatio!=g.intersecting&&(g.intersecting=!g.intersecting,
g.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom));this.listenForScroll()}ra(e,[{key:"onScroll",value:function(a){this.intersecting&&(this.flush(),this.onScrollChanged(a))}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var a=0,b=null,d=this.dom;d;)if(1==d.nodeType)!b&&a<this.scrollTargets.length&&this.scrollTargets[a]==d?a++:b||(b=this.scrollTargets.slice(0,a)),b&&b.push(d),d=d.parentNode;else if(11==d.nodeType)d=d.host;else break;a<this.scrollTargets.length&&
!b&&(b=this.scrollTargets.slice(0,a));if(b){a=!0;d=!1;var g=void 0;try{for(var k=this.scrollTargets[Symbol.iterator](),u;!(a=(u=k.next()).done);a=!0)u.value.removeEventListener("scroll",this.onScroll)}catch(T){d=!0,g=T}finally{try{if(!a&&null!=k["return"])k["return"]()}finally{if(d)throw g;}}k=!0;u=!1;a=void 0;try{for(var H=(this.scrollTargets=b)[Symbol.iterator](),N;!(k=(N=H.next()).done);k=!0)N.value.addEventListener("scroll",this.onScroll)}catch(T){u=!0,a=T}finally{try{if(!k&&null!=H["return"])H["return"]()}finally{if(u)throw a;
}}}}},{key:"ignore",value:function(a){if(!this.active)return a();try{return this.stop(),a()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,he),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),Ad&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",
this.onSelectionChange),Ad&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clearSelection",value:function(){this.ignoreSelection.set(Fa(this.view.root))}},{key:"clear",value:function(){this.observer.takeRecords();this.queue.length=0;this.clearSelection()}},{key:"flushSoon",value:function(){var a=this;0>this.delayedFlush&&(this.delayedFlush=window.setTimeout(function(){a.delayedFlush=-1;a.flush()},20))}},{key:"forceFlush",value:function(){0<=this.delayedFlush&&(window.clearTimeout(this.delayedFlush),
this.delayedFlush=-1,this.flush())}},{key:"flush",value:function(){var a=this;if(!(0<=this.delayedFlush)){var b=this.queue,d=!0,g=!1,k=void 0;try{for(var u=this.observer.takeRecords()[Symbol.iterator](),H;!(d=(H=u.next()).done);d=!0)b.push(H.value)}catch(xa){g=!0,k=xa}finally{try{if(!d&&null!=u["return"])u["return"]()}finally{if(g)throw k;}}b.length&&(this.queue=[]);d=Fa(this.view.root);d=!this.ignoreSelection.eq(d)&&La(this.dom,d);if(0!=b.length||d){k=g=-1;u=!1;H=!0;var N=!1,T=void 0;try{for(var X=
b[Symbol.iterator](),ha;!(H=(ha=X.next()).done);H=!0){var ja=this.readMutation(ha.value);ja&&(ja.typeOver&&(u=!0),-1==g?(g=ja.from,k=ja.to):(g=Math.min(ja.from,g),k=Math.max(ja.to,k)))}}catch(xa){N=!0,T=xa}finally{try{if(!H&&null!=X["return"])X["return"]()}finally{if(N)throw T;}}b=this.view.state;if(-1<g||d)this.onChange(g,k,u);this.view.state==b&&(this.view.docView.dirty&&(this.ignore(function(){return a.view.docView.sync()}),this.view.docView.dirty=0),this.view.docView.updateSelection());this.clearSelection()}}}},
{key:"readMutation",value:function(a){var b=this.view.docView.nearest(a.target);if(!b||b.ignoreMutation(a))return null;b.markDirty();if("childList"==a.type){var d=sa(b,a.previousSibling||a.target.previousSibling,-1);a=sa(b,a.nextSibling||a.target.nextSibling,1);return{from:d?b.posAfter(d):b.posAtStart,to:a?b.posBefore(a):b.posAtEnd,typeOver:!1}}return{from:b.posAtStart,to:b.posAtEnd,typeOver:a.target.nodeValue==a.oldValue}}},{key:"destroy",value:function(){this.stop();this.intersection&&this.intersection.disconnect();
var a=!0,b=!1,d=void 0;try{for(var g=this.scrollTargets[Symbol.iterator](),k;!(a=(k=g.next()).done);a=!0)k.value.removeEventListener("scroll",this.onScroll)}catch(u){b=!0,d=u}finally{try{if(!a&&null!=g["return"])g["return"]()}finally{if(b)throw d;}}window.removeEventListener("scroll",this.onScroll);clearTimeout(this.parentCheck)}}]);return e}(),Rd=function(){function e(a,b){oa(this,e);this.points=a;this.lineSep=b;this.text=""}ra(e,[{key:"readRange",value:function(a,b){if(a){for(var d=a.parentNode;;){this.findPointBefore(d,
a);this.readNode(a);var g=a.nextSibling;if(g==b)break;var k=zb.get(a),u=zb.get(g);if((k?k.breakAfter:Ba(a))||(u?u.breakAfter:Ba(g))&&("BR"!=a.nodeName||a.cmIgnore))this.text+=this.lineSep;a=g}this.findPointBefore(d,b)}}},{key:"readNode",value:function(a){if(!a.cmIgnore){var b=zb.get(a);b=b&&b.overrideDOMText;var d;null!=b?d=b.sliceString(0,void 0,this.lineSep):3==a.nodeType?d=a.nodeValue:"BR"==a.nodeName?d=a.nextSibling?this.lineSep:"":1==a.nodeType&&this.readRange(a.firstChild,null);null!=d&&(this.findPointIn(a,
d.length),this.text+=d)}}},{key:"findPointBefore",value:function(a,b){var d=!0,g=!1,k=void 0;try{for(var u=this.points[Symbol.iterator](),H;!(d=(H=u.next()).done);d=!0){var N=H.value;N.node==a&&a.childNodes[N.offset]==b&&(N.pos=this.text.length)}}catch(T){g=!0,k=T}finally{try{if(!d&&null!=u["return"])u["return"]()}finally{if(g)throw k;}}}},{key:"findPointIn",value:function(a,b){var d=!0,g=!1,k=void 0;try{for(var u=this.points[Symbol.iterator](),H;!(d=(H=u.next()).done);d=!0){var N=H.value;N.node==
a&&(N.pos=this.text.length+Math.min(N.offset,b))}}catch(T){g=!0,k=T}finally{try{if(!d&&null!=u["return"])u["return"]()}finally{if(g)throw k;}}}}]);return e}(),Dd=function d(a,b){oa(this,d);this.node=a;this.offset=b;this.pos=-1},Xb=function(){function a(){var b=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};oa(this,a);this.plugins=[];this.editorAttrs={};this.contentAttrs={};this.bidiCache=[];this.updateState=2;this.measureScheduled=-1;this.measureRequests=[];this.contentDOM=document.createElement("div");
this.scrollDOM=document.createElement("div");this.scrollDOM.className=I("scroller");this.scrollDOM.appendChild(this.contentDOM);this.dom=document.createElement("div");this.dom.appendChild(this.scrollDOM);this._dispatch=d.dispatch||function(g){return b.update([g])};this.dispatch=this.dispatch.bind(this);this.root=d.root||document;this.viewState=new Hb(d.state||R.EditorState.create());this.plugins=this.state.facet(fc).map(function(g){return Pb.create(g,b)});this.observer=new ie(this,function(g,k,u){za(b,
g,k,u)},function(g){b.inputState.runScrollHandlers(b,g);b.measure()});this.docView=new Vc(this);this.inputState=new ge(this);this.mountStyles();this.updateAttrs();this.updateState=0;Ua();this.requestMeasure();d.parent&&d.parent.appendChild(this.dom)}ra(a,[{key:"dispatch",value:function(){var b;this._dispatch(1==arguments.length&&(0>=arguments.length?void 0:arguments[0])instanceof R.Transaction?0>=arguments.length?void 0:arguments[0]:(b=this.state).update.apply(b,arguments))}},{key:"update",value:function(b){if(0!=
this.updateState)throw Error("Calls to EditorView.update are not allowed while an update is in progress");var d=!1;this.updateState=2;try{var g=this.state,k=!0,u=!1,H=void 0;try{for(var N=b[Symbol.iterator](),T;!(k=(T=N.next()).done);k=!0){var X=T.value;if(X.startState!=g)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");g=X.state}}catch(qb){u=!0,H=qb}finally{try{if(!k&&null!=N["return"])N["return"]()}finally{if(u)throw H;}}var ha=new uc(this,
g,b);var ja=b.some(function(qb){return qb.scrollIntoView})?g.selection.primary:null;this.viewState.update(ha,ja);this.bidiCache=Id.update(this.bidiCache,ha.changes);ha.empty||this.updatePlugins(ha);d=this.docView.update(ha);this.state.facet(hc)!=this.styleModules&&this.mountStyles();this.updateAttrs()}finally{this.updateState=0}(d||scrollTo||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure();b=!0;d=!1;g=void 0;try{for(var xa=this.state.facet(Ca)[Symbol.iterator](),Xa;!(b=(Xa=xa.next()).done);b=
!0){var Za=Xa.value;Za(ha)}}catch(qb){d=!0,g=qb}finally{try{if(!b&&null!=xa["return"])xa["return"]()}finally{if(d)throw g;}}}},{key:"setState",value:function(b){var d=this;if(0!=this.updateState)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;try{var g=!0,k=!1,u=void 0;try{for(var H=this.plugins[Symbol.iterator](),N;!(g=(N=H.next()).done);g=!0)N.value.destroy(this)}catch(T){k=!0,u=T}finally{try{if(!g&&null!=H["return"])H["return"]()}finally{if(k)throw u;
}}this.viewState=new Hb(b);this.plugins=b.facet(fc).map(function(T){return Pb.create(T,d)});this.docView=new Vc(this);this.inputState.ensureHandlers(this);this.mountStyles();this.updateAttrs();this.bidiCache=[]}finally{this.updateState=0}this.requestMeasure()}},{key:"updatePlugins",value:function(b){var d=b.prevState.facet(fc),g=b.state.facet(fc);if(d!=g){var k=[],u=[],H=!0,N=!1,T=void 0;try{for(var X=g[Symbol.iterator](),ha;!(H=(ha=X.next()).done);H=!0){var ja=ha.value,xa=d.indexOf(ja);if(0>xa)k.push(Pb.create(ja,
this));else{var Xa=this.plugins[xa].update(b);u.push(Xa);k.push(Xa)}}}catch(Jb){N=!0,T=Jb}finally{try{if(!H&&null!=X["return"])X["return"]()}finally{if(N)throw T;}}b=!0;d=!1;g=void 0;try{for(var Za=this.plugins[Symbol.iterator](),qb;!(b=(qb=Za.next()).done);b=!0){var cc=qb.value;0>u.indexOf(cc)&&cc.destroy(this)}}catch(Jb){d=!0,g=Jb}finally{try{if(!b&&null!=Za["return"])Za["return"]()}finally{if(d)throw g;}}this.plugins=k;this.inputState.ensureHandlers(this)}else for(k=0;k<this.plugins.length;k++)this.plugins[k]=
this.plugins[k].update(b)}},{key:"measure",value:function(){var b=this;-1<this.measureScheduled&&cancelAnimationFrame(this.measureScheduled);this.measureScheduled=-1;var d=null;try{for(var g=0;;g++){this.updateState=1;var k=this.viewState.measure(this.docView,0<g),u=this.measureRequests;if(!k&&!u.length&&null==this.viewState.scrollTo)break;this.measureRequests=[];if(5<g){console.warn("Viewport failed to stabilize");break}var H=u.map(function(xa){try{return xa.read(b)}catch(Xa){return Na(b.state,Xa),
Jd}}),N=new uc(this,this.state);N.flags|=k;d?d.flags|=k:d=N;this.updateState=2;this.updatePlugins(N);this.updateAttrs();k&&this.docView.update(N);for(var T=0;T<u.length;T++)if(H[T]!=Jd)try{u[T].write(H[T],this)}catch(xa){Na(this.state,xa)}this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null);if(!(k&4)&&0==this.measureRequests.length)break}}finally{this.updateState=0}this.measureScheduled=-1;if(d){g=!0;k=!1;
u=void 0;try{for(var X=this.state.facet(Ca)[Symbol.iterator](),ha;!(g=(ha=X.next()).done);g=!0){var ja=ha.value;ja(d)}}catch(xa){k=!0,u=xa}finally{try{if(!g&&null!=X["return"])X["return"]()}finally{if(k)throw u;}}}}},{key:"updateAttrs",value:function(){var b=r(this.state.facet(gc),{"class":I("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});A(this.dom,this.editorAttrs,b);this.editorAttrs=b;b=r(this.state.facet(Zb),{spellcheck:"false",contenteditable:String(this.state.facet(Gb)),"class":I("content"),
style:"".concat(pb.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"});A(this.contentDOM,this.contentAttrs,b);this.contentAttrs=b}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(hc);qa.StyleModule.mount(this.root,this.styleModules.concat(kd).reverse())}},{key:"domAtPos",value:function(b){return this.docView.domAtPos(b)}},{key:"posAtDOM",value:function(b){return this.docView.posFromDOM(b,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},
{key:"readMeasured",value:function(){if(2==this.updateState)throw Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&-1<this.measureScheduled&&this.measure()}},{key:"requestMeasure",value:function(b){var d=this;0>this.measureScheduled&&(this.measureScheduled=requestAnimationFrame(function(){return d.measure()}));if(b){if(null!=b.key)for(var g=0;g<this.measureRequests.length;g++)if(this.measureRequests[g].key===b.key){this.measureRequests[g]=b;return}this.measureRequests.push(b)}}},
{key:"pluginField",value:function(b){var d=[],g=!0,k=!1,u=void 0;try{for(var H=this.plugins[Symbol.iterator](),N;!(g=(N=H.next()).done);g=!0)N.value.takeField(b,d)}catch(T){k=!0,u=T}finally{try{if(!g&&null!=H["return"])H["return"]()}finally{if(k)throw u;}}return d}},{key:"plugin",value:function(b){var d=!0,g=!1,k=void 0;try{for(var u=this.plugins[Symbol.iterator](),H;!(d=(H=u.next()).done);d=!0){var N=H.value;if(N.spec==b)return N.value}}catch(T){g=!0,k=T}finally{try{if(!d&&null!=u["return"])u["return"]()}finally{if(g)throw k;
}}return null}},{key:"blockAtHeight",value:function(b,d){this.readMeasured();return this.viewState.blockAtHeight(b,cb(d,this.contentDOM))}},{key:"visualLineAtHeight",value:function(b,d){this.readMeasured();return this.viewState.lineAtHeight(b,cb(d,this.contentDOM))}},{key:"visualLineAt",value:function(b){return this.viewState.lineAt(b,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"viewportLines",value:function(b,d){var g=this.viewport;this.viewState.forEachLine(g.from,g.to,b,cb(d,
this.contentDOM))}},{key:"moveByChar",value:function(b,d,g){return vb(this,b,d,g)}},{key:"moveByGroup",value:function(b,d){var g=this;return vb(this,b,d,function(k){return Yb(g,b.head,k)})}},{key:"moveToLineBoundary",value:function(b,d){a:{var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;var k=this.state.doc.lineAt(b.head);if(g=g&&this.lineWrapping?this.coordsAtPos(0>b.assoc&&b.head>k.from?b.head-1:b.head):null){var u=this.dom.getBoundingClientRect();g=this.posAtCoords({x:d==(this.textDirection==
Vb.LTR)?u.right-1:u.left+1,y:(g.top+g.bottom)/2});if(null!=g){k=R.EditorSelection.cursor(g,d?-1:1);break a}}g=Cb.find(this.docView,b.head);k=R.EditorSelection.cursor(g?d?g.posAtEnd:g.posAtStart:d?k.to:k.from,d?-1:1)}return k}},{key:"moveVertically",value:function(b,d,g){a:{var k,u=b.head;var H=d?1:-1;if(u==(d?this.state.doc.length:0))H=R.EditorSelection.cursor(u);else{var N=this.coordsAtPos(u);if(N){var T=this.dom.getBoundingClientRect();d=null!==(k=b.goalColumn)&&void 0!==k?k:N.left-T.left;k=T.left+
d;g=null!==g&&void 0!==g?g:5;N=0>H?N.top:N.bottom;for(T=0;50>T;T+=10){var X=ac(this,{x:k,y:N+(g+T)*H},H);if(null==X)break;if(X!=u){H=R.EditorSelection.cursor(X,void 0,void 0,d);break a}}}g=this.state.doc;N=g.lineAt(u);d=this.state.tabSize;k=b.goalColumn;b=0;if(null==k){for(u=g.iterRange(N.from,u);!u.next().done;)b=(0,la.countColumn)(u.value,b,d);k=b*this.defaultCharacterWidth}else b=Math.round(k/this.defaultCharacterWidth);if(0>H&&0==N.from)H=R.EditorSelection.cursor(0);else if(0<H&&N.to==g.length)H=
R.EditorSelection.cursor(N.to);else{N=g.line(N.number+H);H=N.from;u=0;for(g=g.iterRange(N.from,N.to);u>=b&&!g.next().done;)u=(0,la.findColumn)(g.value,u,b,d),N=u.offset,u=b-u.leftOver,H+=N;H=R.EditorSelection.cursor(H,void 0,void 0,k)}}}return H}},{key:"scrollPosIntoView",value:function(b){this.viewState.scrollTo=R.EditorSelection.cursor(b);this.requestMeasure()}},{key:"posAtCoords",value:function(b){this.readMeasured();return ac(this,b)}},{key:"coordsAtPos",value:function(b){var d=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var g=this.docView.coordsAt(b,d);if(!g||g.left==g.right)return g;var k=this.state.doc.lineAt(b),u=this.bidiSpans(k);k=u[wc.find(u,b-k.from,-1,d)];return q(g,k.dir==Vb.LTR==0<d)}},{key:"bidiSpans",value:function(b){if(b.length>je)return[new wc(0,b.length,0)];var d=this.textDirection,g=!0,k=!1,u=void 0;try{for(var H=this.bidiCache[Symbol.iterator](),N;!(g=(N=H.next()).done);g=!0){var T=N.value;if(T.from==b.from&&T.dir==d)return T.order}}catch(X){k=
!0,u=X}finally{try{if(!g&&null!=H["return"])H["return"]()}finally{if(k)throw u;}}g=Y(b.slice(),this.textDirection);this.bidiCache.push(new Id(b.from,b.to,d,g));return g}},{key:"focus",value:function(){var b=this;this.observer.ignore(function(){y(b.contentDOM);b.docView.updateSelection()})}},{key:"destroy",value:function(){var b=!0,d=!1,g=void 0;try{for(var k=this.plugins[Symbol.iterator](),u;!(b=(u=k.next()).done);b=!0)u.value.destroy(this)}catch(H){d=!0,g=H}finally{try{if(!b&&null!=k["return"])k["return"]()}finally{if(d)throw g;
}}this.inputState.destroy();this.dom.remove();this.observer.destroy();-1<this.measureScheduled&&cancelAnimationFrame(this.measureScheduled)}},{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing}},{key:"themeClasses",get:function(){return Qc+
" "+(this.state.facet(jd)?"cm-dark":"cm-light")+" "+this.state.facet(ad)}},{key:"contentHeight",get:function(){return this.viewState.heightMap.height+this.viewState.paddingTop+this.viewState.paddingBottom}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.heightOracle.direction}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},
{key:"hasFocus",get:function(){return document.hasFocus()&&this.root.activeElement==this.contentDOM}}],[{key:"domEventHandlers",value:function(b){return lc.define(function(){return{}},{eventHandlers:b})}},{key:"theme",value:function(b,d){var g=qa.StyleModule.newName();b=[ad.of(g),hc.of(D(".".concat(Qc,".").concat(g),b))];d&&d.dark&&b.push(jd.of(!0));return b}},{key:"baseTheme",value:function(b){return(0,R.precedence)(hc.of(D("."+Qc,b)),"fallback")}}]);return a}();F.EditorView=Xb;Xb.styleModule=hc;
Xb.inputHandler=Ya;Xb.exceptionSink=Sa;Xb.updateListener=Ca;Xb.editable=Gb;Xb.dragMovesSelection=ya;Xb.clickAddsSelectionRange=pa;Xb.mouseSelectionStyle=ua;Xb.decorations=Lb;Xb.lineWrapping=Xb.theme({$content:{whiteSpace:"pre-wrap"}});Xb.contentAttributes=Zb;Xb.editorAttributes=gc;var je=4096,qd=-1,Jd={},Id=function(){function a(b,d,g,k){oa(this,a);this.from=b;this.to=d;this.dir=g;this.order=k}ra(a,null,[{key:"update",value:function(b,d){if(d.empty)return b;for(var g=[],k=b.length?b[b.length-1].dir:
Vb.LTR,u=Math.max(0,b.length-10);u<b.length;u++){var H=b[u];H.dir!=k||d.touchesRange(H.from,H.to)||g.push(new a(d.mapPos(H.from,1),d.mapPos(H.to,-1),H.dir,H.order))}return g}}]);return a}(),Sd="undefined"==typeof navigator?"key":/Mac/.test(navigator.platform)?"mac":/Win/.test(navigator.platform)?"win":/Linux|X11/.test(navigator.platform)?"linux":"key",wd=R.Facet.define(),ce=Xb.domEventHandlers({keydown:function(a,b){return Fb(b.state.facet(wd),a,b,"editor")}}),Gc=null,Td=4E3,Kd=!pb.ios,Zc=R.Facet.define({combine:function(a){return(0,
R.combineConfig)(a,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(b,d){return Math.min(b,d)},drawRangeCursor:function(b,d){return b||d}})}}),Ed=function(){function a(b,d,g,k,u){oa(this,a);this.left=b;this.top=d;this.width=g;this.height=k;this.className=u}ra(a,[{key:"draw",value:function(){var b=document.createElement("div");b.className=this.className;b.style.left=this.left+"px";b.style.top=this.top+"px";0<=this.width&&(b.style.width=this.width+"px");b.style.height=this.height+
"px";return b}},{key:"eq",value:function(b){return this.left==b.left&&this.top==b.top&&this.width==b.width&&this.height==b.height&&this.className==b.className}}]);return a}(),Zd=lc.fromClass(function(){function a(b){oa(this,a);this.view=b;this.rangePieces=[];this.cursors=[];this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)};this.selectionLayer=b.scrollDOM.appendChild(document.createElement("div"));this.selectionLayer.className=I("selectionLayer");this.selectionLayer.setAttribute("aria-hidden",
"true");this.cursorLayer=b.scrollDOM.appendChild(document.createElement("div"));this.cursorLayer.className=I("cursorLayer");this.cursorLayer.setAttribute("aria-hidden","true");b.requestMeasure(this.measureReq);this.setBlinkRate()}ra(a,[{key:"setBlinkRate",value:function(){this.cursorLayer.style.animationDuration=this.view.state.facet(Zc).cursorBlinkRate+"ms"}},{key:"update",value:function(b){var d=b.prevState.facet(Zc)!=b.state.facet(Zc);(d||b.selectionSet||b.geometryChanged||b.viewportChanged)&&
this.view.requestMeasure(this.measureReq);b.transactions.some(function(g){return g.scrollIntoView})&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink");d&&this.setBlinkRate()}},{key:"readPos",value:function(){var b=this,d=this.view.state,g=d.facet(Zc),k=d.selection.ranges.map(function(Za){return Za.empty?[]:jc(b.view,Za)}).reduce(function(Za,qb){return Za.concat(qb)}),u=[],H=!0,N=!1,T=void 0;try{for(var X=d.selection.ranges[Symbol.iterator](),
ha;!(H=(ha=X.next()).done);H=!0){var ja=ha.value,xa=ja==d.selection.primary;if(ja.empty?!xa||Kd:g.drawRangeCursor){var Xa=oc(this.view,ja,xa);Xa&&u.push(Xa)}}}catch(Za){N=!0,T=Za}finally{try{if(!H&&null!=X["return"])X["return"]()}finally{if(N)throw T;}}return{rangePieces:k,cursors:u}}},{key:"drawSel",value:function(b){var d=this,g=b.rangePieces;b=b.cursors;if(g.length!=this.rangePieces.length||g.some(function(ja,xa){return!ja.eq(d.rangePieces[xa])})){this.selectionLayer.textContent="";var k=!0,u=
!1,H=void 0;try{for(var N=g[Symbol.iterator](),T;!(k=(T=N.next()).done);k=!0)this.selectionLayer.appendChild(T.value.draw())}catch(ja){u=!0,H=ja}finally{try{if(!k&&null!=N["return"])N["return"]()}finally{if(u)throw H;}}this.rangePieces=g}if(b.length!=this.cursors.length||b.some(function(ja,xa){return!ja.eq(d.cursors[xa])})){this.cursorLayer.textContent="";g=!0;N=!1;T=void 0;try{for(var X=b[Symbol.iterator](),ha;!(g=(ha=X.next()).done);g=!0)this.cursorLayer.appendChild(ha.value.draw())}catch(ja){N=
!0,T=ja}finally{try{if(!g&&null!=X["return"])X["return"]()}finally{if(N)throw T;}}this.cursors=b}}},{key:"destroy",value:function(){this.selectionLayer.remove();this.cursorLayer.remove()}}]);return a}()),Ld={$line:{"\x26 ::selection":{backgroundColor:"transparent !important"},"\x26::selection":{backgroundColor:"transparent !important"}}};Kd&&(Ld.$line.caretColor="transparent !important");var $d=(0,R.precedence)(Xb.theme(Ld),"override"),Ud=I("selectionBackground"),Xd=I("cursor.primary"),Yd=I("cursor.secondary"),
ke=/[\0-\x08\n-\x1F\x7F-\x9F\xAD\u061C\u200B\u200C\u200E\u200F\u2028\u2029\uFEFF\uFFF9-\uFFFC]/g,le={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},vd=null,Md=null!=/x/.unicode?"gu":"g",gd=R.Facet.define({combine:function(a){a=
(0,R.combineConfig)(a,{render:null,specialChars:ke,addSpecialChars:null});if(a.replaceTabs=!K())a.specialChars=new RegExp("\t|"+a.specialChars.source,Md);a.addSpecialChars&&(a.specialChars=new RegExp(a.specialChars.source+"|"+a.addSpecialChars.source,Md));return a}}),ae=lc.fromClass(function(){function a(b){oa(this,a);this.view=b;this.decorations=Db.none;this.decorationCache=Object.create(null);this.recompute()}ra(a,[{key:"update",value:function(b){var d=b.prevState.facet(gd)!=b.state.facet(gd);d&&
(this.decorationCache=Object.create(null));(d||b.changes.length||b.viewportChanged)&&this.recompute()}},{key:"recompute",value:function(){var b=[],d=!0,g=!1,k=void 0;try{for(var u=this.view.visibleRanges[Symbol.iterator](),H;!(d=(H=u.next()).done);d=!0){var N=H.value;this.getDecorationsFor(N.from,N.to,b)}}catch(T){g=!0,k=T}finally{try{if(!d&&null!=u["return"])u["return"]()}finally{if(g)throw k;}}this.decorations=Db.set(b)}},{key:"getDecorationsFor",value:function(b,d,g){var k=this.view.state.facet(gd),
u=this.view.state.doc,H=b;for(b=u.iterRange(b,d);!b.next().done;){if(!b.lineBreak)for(;d=k.specialChars.exec(b.value);){var N=(0,la.codePointAt)(d[0],0);if(null!=N){if(9==N){var T=u.lineAt(H+d.index);N=this.view.state.tabSize;T=(0,la.countColumn)(u.sliceString(T.from,H+d.index),0,N);N=Db.replace({widget:new me((N-T%N)*this.view.defaultCharacterWidth)})}else N=this.decorationCache[N]||(this.decorationCache[N]=Db.replace({widget:new ne(k,N)}));g.push(N.range(H+d.index,H+d.index+d[0].length))}}H+=b.value.length}}}]);
return a}(),{decorations:function(a){return a.decorations}}),ne=function(a){function b(d,g){oa(this,b);var k=Ia(this,Aa(b).call(this));k.options=d;k.code=g;return k}wa(b,a);ra(b,[{key:"eq",value:function(d){return d.code==this.code}},{key:"toDOM",value:function(){var d=this.code;d=32<=d?null:10==d?"␤":String.fromCharCode(9216+d);d=d||"•";var g="Control character "+(le[this.code]||this.code),k=this.options.render&&this.options.render(this.code,g,d);if(k)return k;k=document.createElement("span");k.textContent=
d;k.title=g;k.setAttribute("aria-label",g);k.style.color="red";return k}},{key:"ignoreEvent",value:function(){return!1}}]);return b}(nc),me=function(a){function b(d){oa(this,b);var g=Ia(this,Aa(b).call(this));g.width=d;return g}wa(b,a);ra(b,[{key:"eq",value:function(d){return d.width==this.width}},{key:"toDOM",value:function(){var d=document.createElement("span");d.textContent="\t";d.className=Nd;d.style.width=this.width+"px";return d}},{key:"ignoreEvent",value:function(){return!1}}]);return b}(nc),
Nd=qa.StyleModule.newName(),be=Xb.styleModule.of(new qa.StyleModule(function(a,b,d){b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d;return a}({},"."+Nd,{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"}))),de=function(a){function b(d){oa(this,b);var g=Ia(this,Aa(b).call(this));g.content=d;return g}wa(b,a);ra(b,[{key:"toDOM",value:function(){var d=document.createElement("span");d.className=I("placeholder");d.style.pointerEvents="none";d.appendChild("string"==
typeof this.content?document.createTextNode(this.content):this.content);"string"==typeof this.content?d.setAttribute("aria-label","placeholder "+this.content):d.setAttribute("aria-hidden","true");return d}},{key:"ignoreEvent",value:function(){return!1}}]);return b}(nc);F.__test={HeightMap:h,HeightOracle:Uc,MeasuredHeights:ld,QueryType:f,ChangedRange:Ub,computeOrder:Y,moveVisually:ba}};
shadow$provide[6]=function(Da,aa,lb,F){function Ha(q,y,E,P){q=q.cursor;let Z=[];if(!q.firstChild())return Z;if(null!=E)for(;!q.type.is(E);)if(!q.nextSibling())return Z;for(;;){if(null!=P&&q.type.is(P))return Z;q.type.is(y)&&Z.push(q.node);if(!q.nextSibling())return null==P?Z:[]}}function Oa(q){return q.children.some(y=>!y.type.isAnonymous||y instanceof Fa||Oa(y))}function Ia(q){function y(D,I,O,Y,ba){let {id:na,start:Ea,end:Na,size:bb}=A;for(;na==ba;)A.next(),{id:na,start:Ea,end:Na,size:bb}=A;var Wa=
Ea-D;if(0>bb)O.push(r[na]),Y.push(Wa),A.next();else{var fb=C[na],kb;if(kb=Na-Ea<=t){{var gb=A.pos-I;I=A.fork();let ob=kb=0,sb=0,wb=I.end-t,mb={size:0,start:0,skip:0};a:for(let rb=I.pos-gb;I.pos>rb;){if(I.id==ba){mb.size=kb;mb.start=ob;mb.skip=sb;sb+=4;kb+=4;I.next();continue}let Eb=I.size,xb=I.pos-Eb;if(0>Eb||xb<rb||I.start<wb)break;let nb=I.id>=v?4:0,yb=I.start;for(I.next();I.pos>xb;){if(0>I.size)break a;I.id>=v&&(nb+=4);I.next()}ob=yb;kb+=Eb;sb+=nb}if(0>ba||kb==gb)mb.size=kb,mb.start=ob,mb.skip=
sb;gb=4<mb.size?mb:void 0}kb=gb}if(kb){Wa=new Uint16Array(gb.size-gb.skip);fb=A.pos-gb.size;for(I=Wa.length;A.pos>fb;)I=E(gb.start,Wa,I,ba);fb=new Fa(Wa,Na-gb.start,l,0>ba?oa.none:C[ba]);Wa=gb.start-D}else{D=A.pos-bb;A.next();ba=[];gb=[];for(I=na>=v?na:-1;A.pos>D;)y(Ea,D,ba,gb,I);ba.reverse();gb.reverse();fb=-1<I&&8<ba.length?Pa(fb,fb,ba,gb,0,ba.length,0,t,Na-Ea):new ra(fb,ba,gb,Na-Ea)}O.push(fb);Y.push(Wa)}}function E(D,I,O,Y){let {id:ba,start:na,end:Ea,size:Na}=A;A.next();if(ba==Y)return O;let bb=
O;if(4<Na){let Wa=A.pos-(Na-4);for(;A.pos>Wa;)O=E(D,I,O,Y)}ba<v&&(I[--O]=bb,I[--O]=Ea-D,I[--O]=na-D,I[--O]=ba);return O}var P;let {buffer:Z,nodeSet:l,topID:p=0,maxBufferLength:t=1024,reused:r=[],minRepeatType:v=l.types.length}=q,A=Array.isArray(Z)?new Va(Z,Z.length):Z,C=l.types,z=[],x=[];for(;0<A.pos;)y(q.start||0,0,z,x,-1);q=null!==(P=q.length)&&void 0!==P?P:z.length?x[0]+z[0].length:0;return new ra(C[p],z.reverse(),x.reverse(),q)}function Pa(q,y,E,P,Z,l,p,t,r){let v=[],A=[];if(r<=t)for(y=Z;y<l;y++)v.push(E[y]),
A.push(P[y]-p);else{let x=Math.max(t,Math.ceil(1.5*r/8));for(;Z<l;){var C=Z;let D=P[Z];for(Z++;Z<l&&!(P[Z]+E[Z].length-D>x);Z++);if(Z==C+1){C=E[C];if(C instanceof ra&&C.type==y&&C.length>x<<1){for(var z=0;z<C.children.length;z++)v.push(C.children[z]),A.push(C.positions[z]+D-p);continue}v.push(C)}else if(Z==C+1)v.push(E[C]);else{C=Pa(y,y,E,P,C,Z,D,t,P[Z-1]+E[Z-1].length-D);if(z=y!=oa.none){a:{for(let I of C.children)if(I.type==y){z=!0;break a}z=!1}z=!z}z&&(C=new ra(oa.none,C.children,C.positions,C.length));
v.push(C)}A.push(D-p)}}return new ra(q,v,A,r)}Object.defineProperty(F,"__esModule",{value:!0});let Aa=0;const wa=new WeakMap;class ma{constructor({deserialize:q}={}){this.id=Aa++;this.deserialize=q||(()=>{throw Error("This node type doesn't define a deserialize function");})}static string(){return new ma({deserialize:q=>q})}static number(){return new ma({deserialize:Number})}static flag(){return new ma({deserialize:()=>!0})}set(q,y){q[this.id]=y;return q}add(q){"function"!=typeof q&&(q=oa.match(q));
return y=>{y=q(y);return void 0===y?null:[this,y]}}}ma.closedBy=new ma({deserialize:q=>q.split(" ")});ma.openedBy=new ma({deserialize:q=>q.split(" ")});ma.group=new ma({deserialize:q=>q.split(" ")});const Qa=Object.create(null);class oa{constructor(q,y,E,P=0){this.name=q;this.props=y;this.id=E;this.flags=P}static define(q){let y=q.props&&q.props.length?Object.create(null):Qa,E=new oa(q.name||"",y,q.id,(q.top?1:0)|(q.skipped?2:0)|(q.error?4:0)|(null==q.name?8:0));if(q.props)for(let P of q.props)Array.isArray(P)||
(P=P(E)),P&&P[0].set(y,P[1]);return E}prop(q){return this.props[q.id]}get isTop(){return 0<(this.flags&1)}get isSkipped(){return 0<(this.flags&2)}get isError(){return 0<(this.flags&4)}get isAnonymous(){return 0<(this.flags&8)}is(q){if("string"==typeof q){if(this.name==q)return!0;let y=this.prop(ma.group);return y?-1<y.indexOf(q):!1}return this.id==q}static match(q){let y=Object.create(null);for(let E in q)for(let P of E.split(" "))y[P]=q[E];return E=>{for(let P=E.prop(ma.group),Z=-1;Z<(P?P.length:
0);Z++){let l=y[0>Z?E.name:P[Z]];if(l)return l}}}}oa.none=new oa("",Object.create(null),0,8);class eb{constructor(q){this.types=q;for(let y=0;y<q.length;y++)if(q[y].id!=y)throw new RangeError("Node type ids should correspond to array positions when creating a node set");}extend(...q){let y=[];for(let E of this.types){let P=null;for(let Z of q){let l=Z(E);l&&(P||(P=Object.assign({},E.props)),l[0].set(P,l[1]))}y.push(P?new oa(E.name,P,E.id,E.flags):E)}return new eb(y)}}class ra{constructor(q,y,E,P){this.type=
q;this.children=y;this.positions=E;this.length=P}toString(){let q=this.children.map(y=>y.toString()).join();return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(q.length?"("+q+")":""):q}cursor(q,y=0){var E=null!=q&&wa.get(this)||this.topNode;E=new Ma(E);null!=q&&(E.moveTo(q,y),wa.set(this,E._tree));return E}fullCursor(){return new Ma(this.topNode,!0)}get topNode(){return new Ja(this,0,0,null)}resolve(q,y=0){return this.cursor(q,y).node}iterate(q){let {enter:y,
leave:E,from:P=0,to:Z=this.length}=q;for(q=this.cursor();;){let l=!1;if(q.from<=Z&&q.to>=P&&(q.type.isAnonymous||!1!==y(q.type,q.from,q.to))){if(q.firstChild())continue;q.type.isAnonymous||(l=!0)}for(;;){l&&E&&E(q.type,q.from,q.to);if(q.nextSibling())break;if(!q.parent())return;l=!0}}}balance(q=1024){return 8>=this.children.length?this:Pa(this.type,oa.none,this.children,this.positions,0,this.children.length,0,q,this.length)}static build(q){return Ia(q)}}ra.empty=new ra(oa.none,[],[],0);class Fa{constructor(q,
y,E,P=oa.none){this.buffer=q;this.length=y;this.set=E;this.type=P}toString(){let q=[];for(let y=0;y<this.buffer.length;)q.push(this.childString(y)),y=this.buffer[y+3];return q.join(",")}childString(q){let y=this.buffer[q+3];var E=this.set.types[this.buffer[q]];let P=E.name;/\W/.test(P)&&!E.isError&&(P=JSON.stringify(P));q+=4;if(y==q)return P;for(E=[];q<y;)E.push(this.childString(q)),q=this.buffer[q+3];return P+"("+E.join(",")+")"}findChild(q,y,E,P){let {buffer:Z}=this,l=-1;for(;q!=y;q=Z[q+3])if(-1E8!=
P){let p=Z[q+1],t=Z[q+2];if(0<E){if(t>P&&(l=q),t>P)break}else if(p<P&&(l=q),t>=P)break}else if(l=q,0<E)break;return l}}class Ja{constructor(q,y,E,P){this.node=q;this.from=y;this.index=E;this._parent=P}get type(){return this.node.type}get name(){return this.node.type.name}get to(){return this.from+this.node.length}nextChild(q,y,E,P=!1){for(let Z=this;;){for(let {children:l,positions:p}=Z.node,t=0<y?l.length:-1;q!=t;q+=y){let r=l[q],v=p[q]+Z.from;if(!(-1E8!=E&&(0>y?v>=E:v+r.length<=E)))if(r instanceof
Fa){let A=r.findChild(0,r.buffer.length,y,-1E8==E?-1E8:E-v);if(-1<A)return new va(new La(Z,r,q,v),null,A)}else if(P||!r.type.isAnonymous||Oa(r))return q=new Ja(r,v,q,Z),P||!q.type.isAnonymous?q:q.nextChild(0>y?r.children.length-1:0,y,E)}if(P||!Z.type.isAnonymous)return null;q=Z.index+y;Z=Z._parent;if(!Z)return null}}get firstChild(){return this.nextChild(0,1,-1E8)}get lastChild(){return this.nextChild(this.node.children.length-1,-1,-1E8)}childAfter(q){return this.nextChild(0,1,q)}childBefore(q){return this.nextChild(this.node.children.length-
1,-1,q)}nextSignificantParent(){let q=this;for(;q.type.isAnonymous&&q._parent;)q=q._parent;return q}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent?this._parent.nextChild(this.index+1,1,-1):null}get prevSibling(){return this._parent?this._parent.nextChild(this.index-1,-1,-1):null}get cursor(){return new Ma(this)}resolve(q,y=0){return this.cursor.moveTo(q,y).node}getChild(q,y=null,E=null){q=Ha(this,q,y,E);return q.length?q[0]:null}getChildren(q,
y=null,E=null){return Ha(this,q,y,E)}toString(){return this.node.toString()}}class La{constructor(q,y,E,P){this.parent=q;this.buffer=y;this.index=E;this.start=P}}class va{constructor(q,y,E){this.context=q;this._parent=y;this.index=E;this.type=q.buffer.set.types[q.buffer.buffer[E]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(q,y){let {buffer:E}=this.context;
q=E.findChild(this.index+4,E.buffer[this.index+3],q,-1E8==y?-1E8:y-this.context.start);return 0>q?null:new va(this.context,this,q)}get firstChild(){return this.child(1,-1E8)}get lastChild(){return this.child(-1,-1E8)}childAfter(q){return this.child(1,q)}childBefore(q){return this.child(-1,q)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(q){return this._parent?null:this.context.parent.nextChild(this.context.index+q,q,-1)}get nextSibling(){let {buffer:q}=
this.context,y=q.buffer[this.index+3];return y<(this._parent?q.buffer[this._parent.index+3]:q.buffer.length)?new va(this.context,this._parent,y):this.externalSibling(1)}get prevSibling(){let {buffer:q}=this.context,y=this._parent?this._parent.index+4:0;return this.index==y?this.externalSibling(-1):new va(this.context,this._parent,q.findChild(y,this.index,-1,-1E8))}get cursor(){return new Ma(this)}resolve(q,y=0){return this.cursor.moveTo(q,y).node}toString(){return this.context.buffer.childString(this.index)}getChild(q,
y=null,E=null){q=Ha(this,q,y,E);return q.length?q[0]:null}getChildren(q,y=null,E=null){return Ha(this,q,y,E)}}class Ma{constructor(q,y=!1){this.full=y;this.buffer=null;this.stack=[];this.index=0;this.bufferNode=null;if(q instanceof Ja)this.yieldNode(q);else{this._tree=q.context.parent;this.buffer=q.context;for(y=q._parent;y;y=y._parent)this.stack.unshift(y.index);this.bufferNode=q;this.yieldBuf(q.index)}}get name(){return this.type.name}yieldNode(q){if(!q)return!1;this._tree=q;this.type=q.type;this.from=
q.from;this.to=q.to;return!0}yieldBuf(q,y){this.index=q;let {start:E,buffer:P}=this.buffer;this.type=y||P.set.types[P.buffer[q]];this.from=E+P.buffer[q+1];this.to=E+P.buffer[q+2];return!0}yield(q){if(!q)return!1;if(q instanceof Ja)return this.buffer=null,this.yieldNode(q);this.buffer=q.context;return this.yieldBuf(q.index,q.type)}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enter(q,y){if(!this.buffer)return this.yield(this._tree.nextChild(0>q?this._tree.node.children.length-
1:0,q,y,this.full));let {buffer:E}=this.buffer;q=E.findChild(this.index+4,E.buffer[this.index+3],q,-1E8==y?-1E8:y-this.buffer.start);if(0>q)return!1;this.stack.push(this.index);return this.yieldBuf(q)}firstChild(){return this.enter(1,-1E8)}lastChild(){return this.enter(-1,-1E8)}childAfter(q){return this.enter(1,q)}childBefore(q){return this.enter(-1,q)}parent(){if(!this.buffer)return this.yieldNode(this.full?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());
let q=this.full?this.buffer.parent:this.buffer.parent.nextSignificantParent();this.buffer=null;return this.yieldNode(q)}sibling(q){if(!this.buffer)return this._tree._parent?this.yield(this._tree._parent.nextChild(this._tree.index+q,q,-1E8,this.full)):!1;let {buffer:y}=this.buffer,E=this.stack.length-1;if(0>q){var P=0>E?0:this.stack[E]+4;if(this.index!=P)return this.yieldBuf(y.findChild(P,this.index,-1,-1E8))}else if(P=y.buffer[this.index+3],P<(0>E?y.buffer.length:y.buffer[this.stack[E]+3]))return this.yieldBuf(P);
return 0>E?this.yield(this.buffer.parent.nextChild(this.buffer.index+q,q,-1E8,this.full)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(q){var y,E;({buffer:E}=this);if(E){if(0<q){if(this.index<E.buffer.buffer.length)return!1}else for(y=0;y<this.index;y++)if(E.buffer.buffer[y+3]<this.index)return!1;({index:y,parent:E}=E)}else({index:y,_parent:E}=this._tree);for(;E;{index:y,_parent:E}=E)for(let P=y+q,Z=0>q?-1:E.node.children.length;P!=Z;P+=q)if(y=E.node.children[P],
this.full||!y.type.isAnonymous||y instanceof Fa||Oa(y))return!1;return!0}move(q){if(this.enter(q,-1E8))return!0;for(;;){if(this.sibling(q))return!0;if(this.atLastNode(q)||!this.parent())return!1}}next(){return this.move(1)}prev(){return this.move(-1)}moveTo(q,y=0){for(;(this.from==this.to||(1>y?this.from>=q:this.from>q)||(-1<y?this.to<=q:this.to<q))&&this.parent(););for(;0>y?this.childBefore(q):this.childAfter(q);)if(this.from==this.to||(1>y?this.from>=q:this.from>q)||(-1<y?this.to<=q:this.to<q)){this.parent();
break}return this}get node(){if(!this.buffer)return this._tree;var q=this.bufferNode;let y=null,E=0;if(q&&q.context==this.buffer)a:for(let P=this.index,Z=this.stack.length;0<=Z;){for(let l=q;l;l=l._parent)if(l.index==P){if(P==this.index)return l;y=l;E=Z+1;break a}P=this.stack[--Z]}for(q=E;q<this.stack.length;q++)y=new va(this.buffer,y,this.stack[q]);return this.bufferNode=new va(this.buffer,y,this.index)}get tree(){return this.buffer?null:this._tree.node}}class Va{constructor(q,y){this.buffer=q;this.index=
y}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Va(this.buffer,this.index)}}class ta{constructor(q,y,E,P,Z){this.from=q;this.to=y;this.tree=E;this.offset=P;this.open=Z}get openStart(){return 0<(this.open&1)}get openEnd(){return 0<(this.open&2)}static applyChanges(q,y,E=128){if(!y.length)return q;let P=[],
Z=1,l=q.length?q[0]:null,p=0,t=0,r=0;for(;;){let v=p<y.length?y[p++]:null,A=v?v.fromA:1E9;if(A-t>=E)for(;l&&l.from<A;){let C=l;if(t>=C.from||A<=C.to||r){let z=Math.max(C.from,t)-r,x=Math.min(C.to,A)-r;C=z>=x?null:new ta(z,x,C.tree,C.offset+r,(0<p?1:0)|(v?2:0))}C&&P.push(C);if(l.to>A)break;l=Z<q.length?q[Z++]:null}if(!v)break;t=v.toA;r=v.toA-v.toB}return P}static addTree(q,y=[],E=!1){E=[new ta(0,q.length,q,0,E?2:0)];for(let P of y)P.to>q.length&&E.push(P);return E}}class ea{constructor(q,y=q.length){this.string=
q;this.length=y}get(q){return 0>q||q>=this.length?-1:this.string.charCodeAt(q)}lineAfter(q){if(0>q)return"";let y=this.string.indexOf("\n",q);return this.string.slice(q,0>y?this.length:Math.min(y,this.length))}read(q,y){return this.string.slice(q,Math.min(this.length,y))}clip(q){return new ea(this.string,q)}}F.DefaultBufferLength=1024;F.NodeProp=ma;F.NodeSet=eb;F.NodeType=oa;F.Tree=ra;F.TreeBuffer=Fa;F.TreeCursor=Ma;F.TreeFragment=ta;F.stringInput=function(q){return new ea(q)}};
shadow$provide[7]=function(Da,aa,lb,F){function Ha(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function");}function Oa(A,C){for(var z=0;z<C.length;z++){var x=C[z];x.enumerable=x.enumerable||!1;x.configurable=!0;"value"in x&&(x.writable=!0);Object.defineProperty(A,x.key,x)}}function Ia(A,C,z){C&&Oa(A.prototype,C);z&&Oa(A,z);return A}function Pa(A,C){return A.length==C.length&&A.every(function(z,x){return z==C[x]})}function Aa(A){for(var C=[A],z=0;z<A.length;z++){var x=!0,
D=!1,I=void 0;try{for(var O=Aa(A.slice(0,z).concat(A.slice(z+1)))[Symbol.iterator](),Y;!(x=(Y=O.next()).done);x=!0)C.push(Y.value)}catch(ba){D=!0,I=ba}finally{try{if(!x&&null!=O["return"])O["return"]()}finally{if(D)throw I;}}}return C}function wa(){for(var A=arguments.length,C=Array(A),z=0;z<A;z++)C[z]=arguments[z];A=new ta(C);return[Ma.of(A),Qa.EditorView.styleModule.of(A.module)]}Object.defineProperty(F,"__esModule",{value:!0});F.highlightStyle=wa;F.styleTags=function(A){var C=Object.create(null),
z;for(z in A){var x=A[z];Array.isArray(x)||(x=[x]);var D=!0,I=!1,O=void 0;try{for(var Y=z.split(" ")[Symbol.iterator](),ba;!(D=(ba=Y.next()).done);D=!0){var na=ba.value;if(na){for(var Ea=[],Na=2,bb=na,Wa=0;;){if("..."==bb&&0<Wa&&Wa+3==na.length){Na=1;break}var fb=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(bb);if(!fb)throw new RangeError("Invalid path: "+na);Ea.push("*"==fb[0]?null:'"'==fb[0][0]?JSON.parse(fb[0]):fb[0]);Wa+=fb[0].length;if(Wa==na.length)break;var kb=na[Wa++];if(Wa==na.length&&"!"==kb){Na=
0;break}if("/"!=kb)throw new RangeError("Invalid path: "+na);bb=na.slice(Wa)}var gb=Ea.length-1,ob=Ea[gb];if(!ob)throw new RangeError("Invalid path: "+na);var sb=new Va(x,Na,0<gb?Ea.slice(0,gb):null);C[ob]=sb.sort(C[ob])}}}catch(wb){I=!0,O=wb}finally{try{if(!D&&null!=Y["return"])Y["return"]()}finally{if(I)throw O;}}}return va.add(C)};F.treeHighlighter=function(A){return(0,oa.precedence)(Qa.ViewPlugin.define(function(C){return new ea(C,A)},{decorations:function(C){return C.decorations}}),"fallback")};
F.tags=F.defaultHighlightStyle=F.Tag=void 0;Da=aa(6);var ma=aa(2),Qa=aa(5),oa=aa(1),eb=aa(3),ra=0,Fa=function(){function A(C,z,x){Ha(this,A);this.set=C;this.base=z;this.modified=x;this.id=ra++}Ia(A,null,[{key:"define",value:function(C){if(null===C||void 0===C?0:C.base)throw Error("Can not derive from a modified tag");var z=new A([],null,[]);z.set.push(z);if(C){var x=!0,D=!1,I=void 0;try{for(var O=C.set[Symbol.iterator](),Y;!(x=(Y=O.next()).done);x=!0)z.set.push(Y.value)}catch(ba){D=!0,I=ba}finally{try{if(!x&&
null!=O["return"])O["return"]()}finally{if(D)throw I;}}}return z}},{key:"defineModifier",value:function(){var C=new La;return function(z){return-1<z.modified.indexOf(C)?z:La.get(z.base||z,z.modified.concat(C).sort(function(x,D){return x.id-D.id}))}}}]);return A}();F.Tag=Fa;var Ja=0,La=function(){function A(){Ha(this,A);this.instances=[];this.id=Ja++}Ia(A,null,[{key:"get",value:function(C,z){if(!z.length)return C;var x=z[0].instances.find(function(ob){return ob.base==C&&Pa(z,ob.modified)});if(x)return x;
x=[];var D=new Fa(x,C,z),I=!0,O=!1,Y=void 0;try{for(var ba=z[Symbol.iterator](),na;!(I=(na=ba.next()).done);I=!0)na.value.instances.push(D)}catch(ob){O=!0,Y=ob}finally{try{if(!I&&null!=ba["return"])ba["return"]()}finally{if(O)throw Y;}}ba=Aa(z);na=!0;I=!1;O=void 0;try{for(var Ea=C.set[Symbol.iterator](),Na;!(na=(Na=Ea.next()).done);na=!0){var bb=Na.value;Y=!0;var Wa=!1,fb=void 0;try{for(var kb=ba[Symbol.iterator](),gb;!(Y=(gb=kb.next()).done);Y=!0)x.push(A.get(bb,gb.value))}catch(ob){Wa=!0,fb=ob}finally{try{if(!Y&&
null!=kb["return"])kb["return"]()}finally{if(Wa)throw fb;}}}}catch(ob){I=!0,O=ob}finally{try{if(!na&&null!=Ea["return"])Ea["return"]()}finally{if(I)throw O;}}return D}}]);return A}(),va=new Da.NodeProp,Ma=oa.Facet.define({combine:function(A){return A.length?A[0]:null}}),Va=function(){function A(C,z,x,D){Ha(this,A);this.tags=C;this.mode=z;this.context=x;this.next=D}Ia(A,[{key:"sort",value:function(C){if(!C||C.depth<this.depth)return this.next=C,this;C.next=this.sort(C.next);return C}},{key:"depth",
get:function(){return this.context?this.context.length:0}}]);return A}(),ta=function(){function A(C){Ha(this,A);this.map=Object.create(null);var z=Object.create(null),x=!0,D=!1,I=void 0;try{for(var O=C[Symbol.iterator](),Y;!(x=(Y=O.next()).done);x=!0){var ba=Y.value,na=ma.StyleModule.newName();z["."+na]=Object.assign({},ba,{tag:null});var Ea=ba.tag;Array.isArray(Ea)||(Ea=[Ea]);C=!0;var Na=!1,bb=void 0;try{for(var Wa=Ea[Symbol.iterator](),fb;!(C=(fb=Wa.next()).done);C=!0)this.map[fb.value.id]=na}catch(kb){Na=
!0,bb=kb}finally{try{if(!C&&null!=Wa["return"])Wa["return"]()}finally{if(Na)throw bb;}}}}catch(kb){D=!0,I=kb}finally{try{if(!x&&null!=O["return"])O["return"]()}finally{if(D)throw I;}}this.module=new ma.StyleModule(z)}Ia(A,[{key:"match",value:function(C){var z=!0,x=!1,D=void 0;try{for(var I=C.set[Symbol.iterator](),O;!(z=(O=I.next()).done);z=!0){var Y=O.value,ba=this.map[Y.id];if(ba)return Y!=C&&(this.map[C.id]=ba),ba}}catch(na){x=!0,D=na}finally{try{if(!z&&null!=I["return"])I["return"]()}finally{if(x)throw D;
}}return this.map[C.id]=null}}]);return A}(),ea=function(){function A(C,z){Ha(this,A);this.language=z;this.nodeStack=[""];this.classStack=[""];this.inheritStack=[""];this.markCache=Object.create(null);this.tree=z.getTree(C.state);this.decorations=this.buildDeco(C)}Ia(A,[{key:"update",value:function(C){if(this.language.getTree(C.state).length<C.view.viewport.to)this.decorations=this.decorations.map(C.changes);else{var z=this.language.getTree(C.state);if(z!=this.tree||C.viewportChanged)this.tree=z,
this.decorations=this.buildDeco(C.view)}}},{key:"buildDeco",value:function(C){var z=this,x=C.state.facet(Ma);if(!x)return Qa.Decoration.none;var D=new eb.RangeSetBuilder,I,O,Y,ba=function(sb,wb){sb>I&&wb&&(wb=z.markCache[wb]||(z.markCache[wb]=Qa.Decoration.mark({"class":wb})),D.add(I,sb,wb));I=sb},na=this.nodeStack,Ea=this.classStack,Na=this.inheritStack,bb=!0,Wa=!1,fb=void 0;try{for(var kb=function(){var sb=ob.value,wb=sb.from,mb=sb.to;O="";Y=0;I=wb;z.tree.iterate({from:wb,to:mb,enter:function(rb,
Eb){Y++;for(var xb=Na[Y-1],nb=xb,yb=rb.prop(va),ac=!1;yb;){var vb;if(!(vb=!yb.context))a:if(vb=yb.context,vb.length>Y-1)vb=!1;else{for(var Yb=Y-1,Qb=vb.length-1;0<=Qb;Qb--,Yb--){var U=vb[Qb];if(U&&U!=na[Yb]){vb=!1;break a}}vb=!0}if(vb){vb=!0;Yb=!1;Qb=void 0;try{for(var G=yb.tags[Symbol.iterator](),J;!(vb=(J=G.next()).done);vb=!0){var L=x.match(J.value);L&&(nb&&(nb+=" "),nb+=L,1==yb.mode?xb=nb:0==yb.mode&&(ac=!0))}}catch(S){Yb=!0,Qb=S}finally{try{if(!vb&&null!=G["return"])G["return"]()}finally{if(Yb)throw Qb;
}}break}yb=yb.next}nb!=O&&(ba(Eb,O),O=nb);if(ac)return Y--,!1;Ea[Y]=nb;Na[Y]=xb;na[Y]=rb.name},leave:function(rb,Eb,xb){Y--;rb=Ea[Y];rb!=O&&(ba(Math.min(mb,xb),O),O=rb)}})},gb=C.visibleRanges[Symbol.iterator](),ob;!(bb=(ob=gb.next()).done);bb=!0)kb()}catch(sb){Wa=!0,fb=sb}finally{try{if(!bb&&null!=gb["return"])gb["return"]()}finally{if(Wa)throw fb;}}return D.finish()}}]);return A}();aa=Fa.define;Da=aa();lb=aa();var q=aa(),y=aa(q),E=aa(q),P=aa(),Z=aa(P),l=aa(),p=aa(),t=aa(),r=aa(t),v=aa();aa={comment:Da,
lineComment:aa(Da),blockComment:aa(Da),docComment:aa(Da),name:lb,variableName:aa(lb),typeName:aa(lb),propertyName:aa(lb),className:aa(lb),labelName:aa(lb),namespace:aa(lb),macroName:aa(lb),literal:q,string:y,docString:aa(y),character:aa(y),number:E,integer:aa(E),"float":aa(E),bool:aa(q),regexp:aa(q),escape:aa(q),color:aa(q),url:aa(q),keyword:l,self:aa(l),"null":aa(l),atom:aa(l),unit:aa(l),modifier:aa(l),operatorKeyword:aa(l),controlKeyword:aa(l),definitionKeyword:aa(l),operator:p,derefOperator:aa(p),
arithmeticOperator:aa(p),logicOperator:aa(p),bitwiseOperator:aa(p),compareOperator:aa(p),updateOperator:aa(p),definitionOperator:aa(p),typeOperator:aa(p),controlOperator:aa(p),punctuation:t,separator:aa(t),bracket:r,angleBracket:aa(r),squareBracket:aa(r),paren:aa(r),brace:aa(r),content:P,heading:Z,heading1:aa(Z),heading2:aa(Z),heading3:aa(Z),heading4:aa(Z),heading5:aa(Z),heading6:aa(Z),list:aa(P),quote:aa(P),emphasis:aa(P),strong:aa(P),link:aa(P),monospace:aa(P),inserted:aa(),deleted:aa(),changed:aa(),
invalid:aa(),meta:v,documentMeta:aa(v),annotation:aa(v),processingInstruction:aa(v),definition:Fa.defineModifier(),constant:Fa.defineModifier(),"function":Fa.defineModifier(),standard:Fa.defineModifier(),local:Fa.defineModifier(),special:Fa.defineModifier()};F.tags=aa;aa=(0,oa.precedence)(wa({tag:aa.deleted,textDecoration:"line-through"},{tag:[aa.inserted,aa.link],textDecoration:"underline"},{tag:aa.heading,textDecoration:"underline",fontWeight:"bold"},{tag:aa.emphasis,fontStyle:"italic"},{tag:aa.strong,
fontWeight:"bold"},{tag:aa.keyword,color:"#708"},{tag:[aa.atom,aa.bool,aa.url],color:"#219"},{tag:aa.number,color:"#164"},{tag:aa.string,color:"#a11"},{tag:[aa.regexp,aa.escape,aa.special(aa.string)],color:"#e40"},{tag:aa.definition(aa.variableName),color:"#00f"},{tag:aa.typeName,color:"#085"},{tag:aa.className,color:"#167"},{tag:aa.special(aa.variableName),color:"#256"},{tag:aa.definition(aa.propertyName),color:"#00c"},{tag:aa.comment,color:"#940"},{tag:aa.meta,color:"#555"},{tag:aa.invalid,color:"#f00"}),
"fallback");F.defaultHighlightStyle=aa};
shadow$provide[8]=function(Ea,da,qb,D){function Ja(Q){Ja="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"===typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K};return Ja(Q)}function Sa(Q,K){if(K&&("object"===Ja(K)||"function"===typeof K))return K;if(void 0===Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function La(Q,K,U){La="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get:function(ea,ka,Oa){for(;!Object.prototype.hasOwnProperty.call(ea,ka)&&(ea=Ta(ea),null!==ea););if(ea)return ka=Object.getOwnPropertyDescriptor(ea,ka),ka.get?ka.get.call(Oa):ka.value};return La(Q,K,U||Q)}function Ta(Q){Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)};return Ta(Q)}function Ca(Q,K){if("function"!==typeof K&&null!==K)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(K&&
K.prototype,{constructor:{value:Q,writable:!0,configurable:!0}});K&&ya(Q,K)}function ya(Q,K){ya=Object.setPrototypeOf||function(U,ea){U.__proto__=ea;return U};return ya(Q,K)}function pa(Q,K){if(!(Q instanceof K))throw new TypeError("Cannot call a class as a function");}function Va(Q,K){for(var U=0;U<K.length;U++){var ea=K[U];ea.enumerable=ea.enumerable||!1;ea.configurable=!0;"value"in ea&&(ea.writable=!0);Object.defineProperty(Q,ea.key,ea)}}function qa(Q,K,U){K&&Va(Q.prototype,K);U&&Va(Q,U);return Q}
function gb(Q){return ia.Facet.define({combine:Q?function(K){return K.concat(Q)}:void 0})}function wa(Q){var K=Q.facet(R);return K.length?K[0].getTree(Q):ua.Tree.empty}function Ia(Q){var K=Q.facet(z);return 9==K.charCodeAt(0)?Q.tabSize*K.length:K.length}function Ma(Q,K){var U="",ea=Q.tabSize;if(9==Q.facet(z).charCodeAt(0))for(;K>=ea;)U+="\t",K-=ea;for(Q=0;Q<K;Q++)U+=" ";return U}function Qa(Q,K){Q instanceof ia.EditorState&&(Q=new x(Q));var U=!0,ea=!1,ka=void 0;try{for(var Oa=Q.state.facet(C)[Symbol.iterator](),
Ka;!(U=(Ka=Oa.next()).done);U=!0){var Ra=Ka.value,ab=Ra(Q,K);if(null!=ab)return ab}}catch(hb){ea=!0,ka=hb}finally{try{if(!U&&null!=Oa["return"])Oa["return"]()}finally{if(ea)throw ka;}}if(U=wa(Q.state))a:{ea=U=U.resolve(K);for(ka=K;;){ka=ea.childBefore(ka);if(!ka)break;ka.type.isError&&ka.from==ka.to?(U=ea,ka=ka.from):(ea=ka,ka=ea.to+1)}for(;U;U=U.parent)if(ea=za(U)){K=ea(new I(Q,K,U));break a}K=null}else K=null;return K}function za(Q){var K=Q.type.prop(E);if(K)return K;K=Q.firstChild;var U;if(K&&
(U=K.type.prop(ua.NodeProp.closedBy))){var ea=Q.lastChild,ka=ea&&-1<U.indexOf(ea.name);return function(Oa){var Ka;if(Ka=ka){var Ra,ab;Ka=!(Oa.pos==(null===(Ra=Oa.options)||void 0===Ra?void 0:Ra.simulateBreak)&&(null===(ab=Oa.options)||void 0===ab?0:ab.simulateDoubleBreak))}return Ya(Oa,!0,1,void 0,Ka?ea.from:void 0)}}return null==Q.parent?Ua:null}function Ua(){return 0}function Ya(Q,K,U,ea,ka){var Oa=Q.textAfter,Ka=Oa.match(/^\s*/)[0].length;ea=ea&&Oa.slice(Ka,Ka+ea.length)==ea||ka==Q.pos+Ka;var Ra;
if(K)a:if(K=Q.node,ka=K.childAfter(K.from),Oa=K.lastChild,ka)for(Ka=null===(Ra=Q.options)||void 0===Ra?void 0:Ra.simulateBreak,Ra=Q.state.doc.lineAt(ka.from),Ra=null==Ka||Ka<=Ra.from?Ra.to:Math.min(Ra.to,Ka),Ka=ka.to;;){Ka=K.childAfter(Ka);if(!Ka||Ka==Oa){Ra=null;break a}if(!Ka.type.isSkipped){Ra=Ka.from<Ra?ka:null;break a}Ka=Ka.to}else Ra=null;else Ra=null;return Ra?ea?Q.column(Ra.from):Q.column(Ra.to):Q.baseIndent+(ea?0:Q.unit*U)}Object.defineProperty(D,"__esModule",{value:!0});D.continuedIndent=
function(){var Q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},K=Q.except;Q=Q.units;var U=void 0===Q?1:Q;return function(ea){var ka=K&&K.test(ea.textAfter);return ea.baseIndent+(ka?0:U*ea.unit)}};D.defineLanguageFacet=gb;D.delimitedIndent=function(Q){var K=Q.closing,U=Q.align,ea=void 0===U?!0:U;Q=Q.units;var ka=void 0===Q?1:Q;return function(Oa){return Ya(Oa,ea,ka,K)}};D.foldable=function(Q,K,U){var ea=!0,ka=!1,Oa=void 0;try{for(var Ka=Q.facet(aa)[Symbol.iterator](),Ra;!(ea=(Ra=Ka.next()).done);ea=
!0){var ab=Ra.value,hb=ab(Q,K,U);if(hb)return hb}}catch(jb){ka=!0,Oa=jb}finally{try{if(!ea&&null!=Ka["return"])Ka["return"]()}finally{if(ka)throw Oa;}}ka=wa(Q);if(0==ka.length)Q=null;else{ea=null;for(ka=ka.resolve(U);ka;ka=ka.parent)if(!(ka.to<=U||ka.from>U)){if(ea&&ka.from<K)break;(Oa=ka.type.prop(fa))&&(Oa=Oa(ka,Q))&&Oa.from<=U&&Oa.from>=K&&Oa.to>U&&(ea=Oa)}Q=ea}return Q};D.getIndentUnit=Ia;D.getIndentation=Qa;D.indentOnInput=function(){return ia.EditorState.transactionFilter.of(function(Q){if(!Q.docChanged||
"input"!=Q.annotation(ia.Transaction.userEvent))return Q;var K=Q.startState.languageDataAt("indentOnInput",Q.startState.selection.primary.head);if(!K.length)return Q;var U=Q.newDoc,ea=Q.newSelection.primary.head,ka=U.lineAt(ea);if(ea>ka.from+P)return Q;var Oa=U.sliceString(ka.from,ea);if(!K.some(function(rb){return rb.test(Oa)}))return Q;K=Q.state;U=-1;ea=[];ka=!0;var Ka=!1,Ra=void 0;try{for(var ab=K.selection.ranges[Symbol.iterator](),hb;!(ka=(hb=ab.next()).done);ka=!0){var jb=K.doc.lineAt(hb.value.head);
if(jb.from!=U){U=jb.from;var ib=Qa(K,jb.from);if(null!=ib){var mb=/^\s*/.exec(jb.slice(0,Math.min(jb.length,P)))[0],zb=Ma(K,ib);mb!=zb&&ea.push({from:jb.from,to:jb.from+mb.length,insert:zb})}}}}catch(rb){Ka=!0,Ra=rb}finally{try{if(!ka&&null!=ab["return"])ab["return"]()}finally{if(Ka)throw Ra;}}return ea.length?[Q,{changes:ea}]:Q})};D.indentString=Ma;D.syntaxTree=wa;D.languageDataProp=D.language=D.indentUnit=D.indentService=D.indentNodeProp=D.foldService=D.foldNodeProp=D.flatIndent=D.TreeIndentContext=
D.LezerLanguage=D.Language=D.IndentContext=D.EditorParseContext=void 0;var ua=da(6),ia=da(1),q=da(5),y=da(7),F=da(0),R=ia.Facet.define();D.language=R;var ca=new ua.NodeProp;D.languageDataProp=ca;Ea=function(){function Q(K,U){var ea=this,ka=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];pa(this,Q);this.data=K;ia.EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(ia.EditorState.prototype,"tree",{get:function(){return wa(this)}});var Oa=ia.StateEffect.define();this.parser=
U;this.field=ia.StateField.define({create:function(Ka){Ka=new p(U,Ka,[],ua.Tree.empty,{from:0,to:Ka.doc.length},[]);Ka.work(25)||Ka.takeTree();return new t(Ka)},update:function(Ka,Ra){var ab=!0,hb=!1,jb=void 0;try{for(var ib=Ra.effects[Symbol.iterator](),mb;!(ab=(mb=ib.next()).done);ab=!0){var zb=mb.value;if(zb.is(Oa))return zb.value}}catch(rb){hb=!0,jb=rb}finally{try{if(!ab&&null!=ib["return"])ib["return"]()}finally{if(hb)throw jb;}}return Ka.apply(Ra)}});this.extension=[R.of(this),this.field,q.ViewPlugin.define(function(Ka){return new A(Ka,
ea.field,Oa)}),(0,y.treeHighlighter)(this),ia.EditorState.languageData.of(function(Ka,Ra){return Ka.facet(ea.languageDataFacetAt(Ka,Ra))})].concat(ka)}qa(Q,[{key:"getTree",value:function(K){return K.field(this.field).tree}},{key:"ensureTree",value:function(K,U){var ea=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100,ka=K.field(this.field).context;return ka.tree.length>=U||ka.work(ea,U)?ka.tree:null}},{key:"languageDataFacetAt",value:function(K,U){for(K=this.getTree(K).resolve(U,-1);K;){if(U=
K.type.prop(ca))return U;K=K.parent}return this.data}}]);return Q}();D.Language=Ea;Ea=function(Q){function K(U,ea){pa(this,K);U=Sa(this,Ta(K).call(this,U,ea));U.parser=ea;return U}Ca(K,Q);qa(K,[{key:"configure",value:function(U){return new K(this.data,this.parser.configure(U))}},{key:"languageDataFacetAt",value:function(U,ea){return this.parser.hasNested?La(Ta(K.prototype),"languageDataFacetAt",this).call(this,U,ea):this.data}}],[{key:"define",value:function(U){var ea=gb(U.languageData);return new K(ea,
U.parser.configure({props:[ca.add(function(ka){return ka.isTop?ea:void 0})]}))}}]);return K}(Ea);D.LezerLanguage=Ea;var l=function(){function Q(K){var U=1<arguments.length&&void 0!==arguments[1]?arguments[1]:K.length;pa(this,Q);this.doc=K;this.length=U;this.cursorPos=0;this.prevString=this.string="";this.cursor=K.iter()}qa(Q,[{key:"syncTo",value:function(K){K<this.cursorPos&&(this.cursor=this.doc.iter(),this.cursorPos=0);this.prevString=K==this.cursorPos?this.string:"";this.string=this.cursor.next(K-
this.cursorPos).value;this.cursorPos=K+this.string.length;return this.cursorPos-this.string.length}},{key:"get",value:function(K){if(K>=this.length)return-1;var U=this.cursorPos-this.string.length;if(K<U||K>=this.cursorPos){if(K<U&&K>=U-this.prevString.length)return this.prevString.charCodeAt(K-(U-this.prevString.length));U=this.syncTo(K)}return this.string.charCodeAt(K-U)}},{key:"lineAfter",value:function(K){if(K>=this.length||0>K)return"";var U=this.cursorPos-this.string.length;if(K<U||K>=this.cursorPos)U=
this.syncTo(K);K-=U;for(U="";!this.cursor.lineBreak;){U+=K?this.string.slice(K):this.string;if(this.cursorPos>=this.length){this.cursorPos>this.length&&(U=U.slice(0,U.length-(this.cursorPos-this.length)));break}this.syncTo(this.cursorPos);K=0}return U}},{key:"read",value:function(K,U){var ea=this.cursorPos-this.string.length;return K<ea||U>=this.cursorPos?this.doc.sliceString(K,U):this.string.slice(K-ea,U-ea)}},{key:"clip",value:function(K){return new Q(this.doc,K)}}]);return Q}(),p=function(){function Q(K,
U){var ea=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],ka=3<arguments.length?arguments[3]:void 0,Oa=4<arguments.length?arguments[4]:void 0,Ka=5<arguments.length?arguments[5]:void 0;pa(this,Q);this.parser=K;this.state=U;this.fragments=ea;this.tree=ka;this.viewport=Oa;this.skipped=Ka;this.parse=null;this.skippedUntil=[]}qa(Q,[{key:"work",value:function(K,U){if(this.tree!=ua.Tree.empty&&(null==U?this.tree.length==this.state.doc.length:this.tree.length>=U))return!0;this.parse||(this.parse=
this.parser.startParse(new l(this.state.doc),0,this));for(K=Date.now()+K;;){var ea=this.parse.advance();if(ea)return this.fragments=ua.TreeFragment.addTree(ea),this.parse=null,this.tree=ea,!0;if(null!=U&&this.parse.pos>=U)return this.takeTree(),!0;if(Date.now()>K)return!1}}},{key:"takeTree",value:function(){this.parse&&this.parse.pos>this.tree.length&&(this.tree=this.parse.forceFinish(),this.fragments=ua.TreeFragment.addTree(this.tree,this.fragments,!0))}},{key:"changes",value:function(K,U){var ea=
this.fragments,ka=this.tree,Oa=this.viewport,Ka=this.skipped;this.takeTree();if(!K.empty){var Ra=[];K.iterChangedRanges(function(vb,Wb,xb,Rb){return Ra.push({fromA:vb,toA:Wb,fromB:xb,toB:Rb})});ea=ua.TreeFragment.applyChanges(ea,Ra);ka=ua.Tree.empty;Oa={from:K.mapPos(Oa.from,-1),to:K.mapPos(Oa.to,1)};if(this.skipped.length){Ka=[];var ab=!0,hb=!1,jb=void 0;try{for(var ib=this.skipped[Symbol.iterator](),mb;!(ab=(mb=ib.next()).done);ab=!0){var zb=mb.value,rb=K.mapPos(zb.from,1),sb=K.mapPos(zb.to,-1);
rb<sb&&Ka.push({from:rb,to:sb})}}catch(vb){hb=!0,jb=vb}finally{try{if(!ab&&null!=ib["return"])ib["return"]()}finally{if(hb)throw jb;}}}}return new Q(this.parser,U,ea,ka,Oa,Ka)}},{key:"updateViewport",value:function(K){this.viewport=K;for(var U=this.skipped.length,ea=0;ea<this.skipped.length;ea++){var ka=this.skipped[ea],Oa=ka.from;ka=ka.to;Oa<K.to&&ka>K.from&&(this.cutFragments(Oa,ka),this.skipped.splice(ea--,1))}return this.skipped.length<U}},{key:"cutFragments",value:function(K,U){this.fragments=
ua.TreeFragment.applyChanges(this.fragments,[{fromA:K,toA:U,fromB:K,toB:U}])}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(K,U){this.skipped.push({from:K,to:U})}},{key:"skipUntil",value:function(K,U,ea){this.skippedUntil.push({from:K,to:U,until:ea})}}]);return Q}();D.EditorParseContext=p;var t=function(){function Q(K){pa(this,Q);this.context=K;this.tree=K.tree}qa(Q,[{key:"apply",value:function(K){if(!K.docChanged)return this;
K=this.context.changes(K.changes,K.state);K.work(25);return new Q(K)}}]);return Q}(),r="undefined"!=typeof window&&window.requestIdleCallback||function(Q,K){return setTimeout(Q,K.timeout)},v="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout,A=function(){function Q(K,U,ea){pa(this,Q);this.view=K;this.field=U;this.setState=ea;this.working=-1;this.work=this.work.bind(this);this.scheduleWork()}qa(Q,[{key:"update",value:function(K){K.docChanged&&this.scheduleWork();var U=this.view.state.field(this.field).context;
K.viewportChanged&&U.updateViewport(K.view.viewport)&&(U.reset(),this.scheduleWork());this.takeSkipped(U)}},{key:"scheduleWork",value:function(){if(!(-1<this.working)){var K=this.view.state;K.field(this.field).tree.length>=K.doc.length||(this.working=r(this.work,{timeout:200}))}}},{key:"work",value:function(K){this.working=-1;var U=this.view.state,ea=U.field(this.field);ea.tree.length>=U.doc.length||(ea.context.work(K?Math.max(25,K.timeRemaining()):100),ea.context.tree.length>=U.doc.length?(this.view.dispatch({effects:this.setState.of(new t(ea.context))}),
this.takeSkipped(ea.context)):this.scheduleWork())}},{key:"takeSkipped",value:function(K){for(var U=this,ea=function(){var ka=K.skippedUntil.pop(),Oa=ka.from,Ka=ka.to;ka.until.then(function(){var Ra=U.view.state.field(U.field,!1);Ra&&Ra.context==K&&(K.cutFragments(Oa,Ka),K.reset(),U.scheduleWork())})};K.skippedUntil.length;)ea()}},{key:"destroy",value:function(){0<=this.working&&v(this.working)}}]);return Q}(),C=ia.Facet.define();D.indentService=C;var z=ia.Facet.define({combine:function(Q){if(!Q.length)return"  ";
if(!/^(?: +|\t+)$/.test(Q[0]))throw Error("Invalid indent unit: "+JSON.stringify(Q[0]));return Q[0]}});D.indentUnit=z;var x=function(){function Q(K){var U=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};pa(this,Q);this.state=K;this.options=U;this.unit=Ia(K)}qa(Q,[{key:"textAfterPos",value:function(K){var U,ea,ka=null===(U=this.options)||void 0===U?void 0:U.simulateBreak;return K==ka&&(null===(ea=this.options)||void 0===ea?0:ea.simulateDoubleBreak)?"":this.state.sliceDoc(K,Math.min(K+100,
null!=ka&&ka>K?ka:1E9,this.state.doc.lineAt(K).to))}},{key:"countColumn",value:function(K,U){return(0,F.countColumn)(0>U?K:K.slice(0,U),0,this.state.tabSize)}},{key:"lineIndent",value:function(K){var U,ea=null===(U=this.options)||void 0===U?void 0:U.overrideIndentation;if(ea&&(U=ea(K.from),-1<U))return U;K=K.slice(0,Math.min(100,K.length));return this.countColumn(K,K.search(/\S/))}},{key:"column",value:function(K){var U,ea=this.state.doc.lineAt(K),ka=ea.slice(0,K-ea.from);K=this.countColumn(ka,K-
ea.from);ea=(null===(U=this.options)||void 0===U?0:U.overrideIndentation)?this.options.overrideIndentation(ea.from):-1;-1<ea&&(K+=ea-this.countColumn(ka,ka.search(/\S/)));return K}}]);return Q}();D.IndentContext=x;var E=new ua.NodeProp;D.indentNodeProp=E;var I=function(Q){function K(U,ea,ka){pa(this,K);U=Sa(this,Ta(K).call(this,U.state,U.options));U.pos=ea;U.node=ka;return U}Ca(K,Q);qa(K,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var U=
this.state.doc.lineAt(this.node.from);;){for(var ea=this.node.resolve(U.from);ea.parent&&ea.parent.from==ea.from;)ea=ea.parent;var ka;a:{for(ka=this.node;ka;ka=ka.parent)if(ea==ka){ka=!0;break a}ka=!1}if(ka)break;U=this.state.doc.lineAt(ea.from)}return this.lineIndent(U)}}]);return K}(x);D.TreeIndentContext=I;D.flatIndent=function(Q){return Q.baseIndent};var P=200,aa=ia.Facet.define();D.foldService=aa;var fa=new ua.NodeProp;D.foldNodeProp=fa};
shadow$provide[9]=function(Da,aa,lb,F){function Ha(l){Ha="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"===typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};return Ha(l)}function Oa(l){Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)};return Oa(l)}function Ia(l,p){if("function"!==typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");
l.prototype=Object.create(p&&p.prototype,{constructor:{value:l,writable:!0,configurable:!0}});p&&Pa(l,p)}function Pa(l,p){Pa=Object.setPrototypeOf||function(t,r){t.__proto__=r;return t};return Pa(l,p)}function Aa(l){for(var p=0;p<Z.length;p+=2)if(Z.charCodeAt(p)==l)return Z.charAt(p+1);return(0,Va.fromCodePoint)(128>l?l:l+1)}function wa(l,p,t,r){if(l.composing)return!1;var v=l.state.selection.primary;if(2<r.length||2==r.length&&1==(0,Va.codePointSize)((0,Va.codePointAt)(r,0))||p!=v.from||t!=v.to)return!1;
p=ma(l.state,r);if(!p)return!1;l.dispatch(p);return!0}function ma(l,p){var t=l.languageDataAt("closeBrackets",l.selection.primary.head)[0]||ea,r=t.brackets||ea.brackets,v=!0,A=!1,C=void 0;try{for(var z=r[Symbol.iterator](),x;!(v=(x=z.next()).done);v=!0){var D=x.value,I=Aa((0,Va.codePointAt)(D,0));if(p==D)return I==D?Fa(l,D,-1<r.indexOf(D+D+D)):eb(l,D,I,t.before||ea.before);if(p==I&&Qa(l,l.selection.primary.from))return ra(l,D,I)}}catch(O){A=!0,C=O}finally{try{if(!v&&null!=z["return"])z["return"]()}finally{if(A)throw C;
}}return null}function Qa(l,p){var t=!1;l.field(P).between(0,l.doc.length,function(r){r==p&&(t=!0)});return t}function oa(l,p){l=l.sliceString(p,p+2);return l.slice(0,(0,Va.codePointSize)((0,Va.codePointAt)(l,0)))}function eb(l,p,t,r){var v=null,A=l.changeByRange(function(C){if(!C.empty)return{changes:[{insert:p,from:C.from},{insert:t,from:C.to}],effects:q.of(C.to+p.length),range:va.EditorSelection.range(C.anchor+p.length,C.head+p.length)};var z=oa(l.doc,C.head);return!z||/\s/.test(z)||-1<r.indexOf(z)?
{changes:{insert:p+t,from:C.head},effects:q.of(C.head+p.length),range:va.EditorSelection.cursor(C.head+p.length)}:{range:v=C}});return v?null:l.update(A,{scrollIntoView:!0,annotations:va.Transaction.userEvent.of("input")})}function ra(l,p,t){var r=null;p=l.selection.ranges.map(function(v){return v.empty&&oa(l.doc,v.head)==t?va.EditorSelection.cursor(v.head+t.length):r=v});return r?null:l.update({selection:va.EditorSelection.create(p,l.selection.primaryIndex),scrollIntoView:!0,effects:l.selection.ranges.map(function(v){return y.of(v.from)})})}
function Fa(l,p,t){var r=null,v=l.changeByRange(function(A){if(!A.empty)return{changes:[{insert:p,from:A.from},{insert:p,from:A.to}],effects:q.of(A.to+p.length),range:va.EditorSelection.range(A.anchor+p.length,A.head+p.length)};var C=A.head,z=oa(l.doc,C);if(z==p){if(Ja(l,C))return{changes:{insert:p+p,from:C},effects:q.of(C+p.length),range:va.EditorSelection.cursor(C+p.length)};if(Qa(l,C))return A=t&&l.sliceDoc(C,C+3*p.length)==p+p+p,{range:va.EditorSelection.cursor(C+p.length*(A?3:1)),effects:y.of(C)}}else{if(t&&
l.sliceDoc(C-2*p.length,C)==p+p&&Ja(l,C-2*p.length))return{changes:{insert:p+p+p+p,from:C},effects:q.of(C+p.length),range:va.EditorSelection.cursor(C+p.length)};if(l.charCategorizer(C)(z)!=va.CharCategory.Word&&(z=l.sliceDoc(C-1,C),z!=p&&l.charCategorizer(C)(z)!=va.CharCategory.Word))return{changes:{insert:p+p,from:C},effects:q.of(C+p.length),range:va.EditorSelection.cursor(C+p.length)}}return{range:r=A}});return r?null:l.update(v,{scrollIntoView:!0,annotations:va.Transaction.userEvent.of("input")})}
function Ja(l,p){l=(0,ta.syntaxTree)(l).resolve(p+1);return l.parent&&l.from==p}Object.defineProperty(F,"__esModule",{value:!0});F.closeBrackets=function(){return[La.EditorView.inputHandler.of(wa),P]};F.handleInsertion=ma;F.deleteBracketPair=F.closeBracketsKeymap=void 0;var La=aa(5),va=aa(1),Ma=aa(3),Va=aa(0),ta=aa(8),ea={brackets:["(","[","{","'",'"'],before:")]}'\":;\x3e"},q=va.StateEffect.define({map:function(l,p){l=p.mapPos(l,-1,va.MapMode.TrackAfter);return null==l?void 0:l}}),y=va.StateEffect.define({map:function(l,
p){return p.mapPos(l)}}),E=new (function(l){function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var t=Oa(p).apply(this,arguments);if(!t||"object"!==Ha(t)&&"function"!==typeof t){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");t=this}return t}Ia(p,l);return p}(Ma.RangeValue));E.startSide=1;E.endSide=-1;var P=va.StateField.define({create:function(){return Ma.RangeSet.empty},update:function(l,p){if(p.selection){var t=
p.state.doc.lineAt(p.selection.primary.head).from,r=p.startState.doc.lineAt(p.startState.selection.primary.head).from;t!=p.changes.mapPos(r,-1)&&(l=Ma.RangeSet.empty)}l=l.map(p.changes);t=!0;r=!1;var v=void 0;try{for(var A=function(){var x=z.value;x.is(q)?l=l.update({add:[E.range(x.value,x.value+1)]}):x.is(y)&&(l=l.update({filter:function(D){return D!=x.value}}))},C=p.effects[Symbol.iterator](),z;!(t=(z=C.next()).done);t=!0)A()}catch(x){r=!0,v=x}finally{try{if(!t&&null!=C["return"])C["return"]()}finally{if(r)throw v;
}}return l}}),Z="()[]{}\x3c\x3e";Da=function(l){var p=l.state;l=l.dispatch;var t=(p.languageDataAt("closeBrackets",p.selection.primary.head)[0]||ea).brackets||ea.brackets,r=null,v=p.changeByRange(function(A){if(A.empty){var C=A.head;C=p.doc.sliceString(C-2,C);C=(0,Va.codePointSize)((0,Va.codePointAt)(C,0))==C.length?C:C.slice(1);var z=!0,x=!1,D=void 0;try{for(var I=t[Symbol.iterator](),O;!(z=(O=I.next()).done);z=!0){var Y=O.value;if(Y==C&&oa(p.doc,A.head)==Aa((0,Va.codePointAt)(Y,0)))return{changes:{from:A.head-
Y.length,to:A.head+Y.length},range:va.EditorSelection.cursor(A.head-Y.length),annotations:va.Transaction.userEvent.of("delete")}}}catch(ba){x=!0,D=ba}finally{try{if(!z&&null!=I["return"])I["return"]()}finally{if(x)throw D;}}}return{range:r=A}});r||l(p.update(v,{scrollIntoView:!0}));return!r};F.deleteBracketPair=Da;F.closeBracketsKeymap=[{key:"Backspace",run:Da}]};
shadow$provide[10]=function(Da,aa,lb,F){function Ha(t){Ha="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"===typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};return Ha(t)}function Oa(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function");}function Ia(t,r){for(var v=0;v<r.length;v++){var A=r[v];A.enumerable=A.enumerable||!1;A.configurable=!0;"value"in A&&(A.writable=
!0);Object.defineProperty(t,A.key,A)}}function Pa(t,r,v){r&&Ia(t.prototype,r);v&&Ia(t,v);return t}function Aa(t,r){if(r&&("object"===Ha(r)||"function"===typeof r))return r;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wa(t){wa=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)};return wa(t)}function ma(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");
t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&Qa(t,r)}function Qa(t,r){Qa=Object.setPrototypeOf||function(v,A){v.__proto__=A;return v};return Qa(t,r)}function oa(t){return[eb(),Ma.of(Object.assign(Object.assign({},va),t))]}function eb(t){var r=[ea,Va];t&&!1===t.fixed&&r.push(ta.of(!0));return r}function ra(t){for(var r=9;r<t;)r=10*r+9;return r}Object.defineProperty(F,"__esModule",{value:!0});F.gutter=oa;F.gutters=eb;F.lineNumbers=function(){return[Z.of(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:{}),p]};F.lineNumberMarkers=F.GutterMarker=void 0;var Fa=aa(5),Ja=aa(3),La=aa(1);Da=function(t){function r(){Oa(this,r);return Aa(this,wa(r).apply(this,arguments))}ma(r,t);Pa(r,[{key:"compare",value:function(v){return this==v||this.constructor==v.constructor&&this.eq(v)}},{key:"toDOM",value:function(v){return null}},{key:"at",value:function(v){return new Ja.Range(v,v,this)}}]);return r}(Ja.RangeValue);F.GutterMarker=Da;Da.prototype.elementClass=
"";Da.prototype.mapMode=La.MapMode.TrackBefore;var va={style:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return Ja.RangeSet.empty},lineMarker:function(){return null},initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ma=La.Facet.define(),Va=Fa.EditorView.baseTheme({$gutters:{display:"flex",height:"100%",boxSizing:"border-box",left:0},"$$light $gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"$$dark $gutters":{backgroundColor:"#333338",color:"#ccc"},
$gutter:{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",height:"100%",overflow:"hidden"},$gutterElement:{boxSizing:"border-box"},"$gutterElement.lineNumber":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"}}),ta=La.Facet.define({combine:function(t){return t.some(function(r){return r})}}),ea=Fa.ViewPlugin.fromClass(function(){function t(r){Oa(this,t);this.view=r;this.dom=document.createElement("div");this.dom.className=(0,Fa.themeClass)("gutters");
this.dom.setAttribute("aria-hidden","true");this.gutters=r.state.facet(Ma).map(function(D){return new y(r,D)});var v=!0,A=!1,C=void 0;try{for(var z=this.gutters[Symbol.iterator](),x;!(v=(x=z.next()).done);v=!0)this.dom.appendChild(x.value.dom)}catch(D){A=!0,C=D}finally{try{if(!v&&null!=z["return"])z["return"]()}finally{if(A)throw C;}}if(this.fixed=!r.state.facet(ta))this.dom.style.position="sticky";r.scrollDOM.insertBefore(this.dom,r.contentDOM)}Pa(t,[{key:"update",value:function(r){var v=this;if(this.updateGutters(r)){var A=
this.gutters.map(function(O){return new q(O,v.view.viewport)});this.view.viewportLines(function(O){if(Array.isArray(O.type)){var Y=!0,ba=!1,na=void 0;try{for(var Ea=O.type[Symbol.iterator](),Na;!(Y=(Na=Ea.next()).done);Y=!0){var bb=Na.value;if(bb.type==Fa.BlockType.Text){var Wa=bb;break}}}catch(gb){ba=!0,na=gb}finally{try{if(!Y&&null!=Ea["return"])Ea["return"]()}finally{if(ba)throw na;}}}else Wa=O.type==Fa.BlockType.Text?O:void 0;if(Wa){O=!0;Y=!1;ba=void 0;try{for(var fb=A[Symbol.iterator](),kb;!(O=
(kb=fb.next()).done);O=!0)kb.value.line(v.view,Wa)}catch(gb){Y=!0,ba=gb}finally{try{if(!O&&null!=fb["return"])fb["return"]()}finally{if(Y)throw ba;}}}},0);var C=!0,z=!1,x=void 0;try{for(var D=A[Symbol.iterator](),I;!(C=(I=D.next()).done);C=!0)I.value.finish()}catch(O){z=!0,x=O}finally{try{if(!C&&null!=D["return"])D["return"]()}finally{if(z)throw x;}}this.dom.style.minHeight=this.view.contentHeight+"px";r.state.facet(ta)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":
"")}}},{key:"updateGutters",value:function(r){var v=r.prevState.facet(Ma),A=r.state.facet(Ma),C=r.docChanged||r.heightChanged||r.viewportChanged;if(v==A){var z=!0,x=!1;v=void 0;try{for(var D=this.gutters[Symbol.iterator](),I;!(z=(I=D.next()).done);z=!0)I.value.update(r)&&(C=!0)}catch(bb){x=!0,v=bb}finally{try{if(!z&&null!=D["return"])D["return"]()}finally{if(x)throw v;}}}else{C=!0;D=[];I=!0;var O=!1,Y=void 0;try{for(var ba=A[Symbol.iterator](),na;!(I=(na=ba.next()).done);I=!0){var Ea=na.value,Na=
v.indexOf(Ea);0>Na?D.push(new y(this.view,Ea)):(this.gutters[Na].update(r),D.push(this.gutters[Na]))}}catch(bb){O=!0,Y=bb}finally{try{if(!I&&null!=ba["return"])ba["return"]()}finally{if(O)throw Y;}}r=!0;v=!1;A=void 0;try{for(z=this.gutters[Symbol.iterator]();!(r=(x=z.next()).done);r=!0)x.value.dom.remove()}catch(bb){v=!0,A=bb}finally{try{if(!r&&null!=z["return"])z["return"]()}finally{if(v)throw A;}}for(r=0;r<D.length;r++)this.dom.appendChild(D[r].dom);this.gutters=D}return C}},{key:"destroy",value:function(){this.dom.remove()}}]);
return t}(),{provide:Fa.PluginField.scrollMargins.from(function(t){return 0!=t.gutters.length&&t.fixed?t.view.textDirection==Fa.Direction.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null})}),q=function(){function t(r,v){Oa(this,t);this.gutter=r;this.localMarkers=[];this.height=this.i=0;this.cursor=Ja.RangeSet.iter(Array.isArray(r.markers)?r.markers:[r.markers],v.from)}Pa(t,[{key:"line",value:function(r,v){this.localMarkers.length&&(this.localMarkers=[]);for(;this.cursor.value&&this.cursor.from<=
v.from;)this.cursor.from==v.from&&this.localMarkers.push(this.cursor.value),this.cursor.next();var A=this.gutter.config.lineMarker(r,v,this.localMarkers);A&&this.localMarkers.unshift(A);A=this.gutter;if(0!=this.localMarkers.length||A.config.renderEmptyElements){var C=v.top-this.height;if(this.i==A.elements.length)r=new E(r,v.height,C,this.localMarkers,A.elementClass),A.elements.push(r),A.dom.appendChild(r.dom);else{var z=this.localMarkers,x=A.elements[this.i];a:{var D=z;var I=x.markers;if(D.length!=
I.length)D=!1;else{for(var O=0;O<D.length;O++)if(!D[O].compare(I[O])){D=!1;break a}D=!0}}D&&(z=x.markers,this.localMarkers.length=0);x.update(r,v.height,C,z,A.elementClass)}this.height=v.bottom;this.i++}}},{key:"finish",value:function(){for(var r=this.gutter;r.elements.length>this.i;)r.dom.removeChild(r.elements.pop().dom)}}]);return t}(),y=function(){function t(r,v){var A=this;Oa(this,t);this.view=r;this.config=v;this.elements=[];this.spacer=null;this.dom=document.createElement("div");this.dom.className=
(0,Fa.themeClass)("gutter"+(this.config.style?"."+this.config.style:""));this.elementClass=(0,Fa.themeClass)("gutterElement"+(this.config.style?"."+this.config.style:""));var C=function(x){A.dom.addEventListener(x,function(D){var I=r.visualLineAtHeight(D.clientY,r.contentDOM.getBoundingClientRect().top);v.domEventHandlers[x](r,I,D)&&D.preventDefault()})},z;for(z in v.domEventHandlers)C(z);this.markers=v.markers(r.state);v.initialSpacer&&(this.spacer=new E(r,0,0,[v.initialSpacer(r)],this.elementClass),
this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}Pa(t,[{key:"update",value:function(r){var v=this.markers;this.markers=this.config.markers(r.state);if(this.spacer&&this.config.updateSpacer){var A=this.config.updateSpacer(this.spacer.markers[0],r);A!=this.spacer.markers[0]&&this.spacer.update(r.view,0,0,[A],this.elementClass)}return this.markers!=v}}]);return t}(),E=function(){function t(r,v,A,C,z){Oa(this,t);this.height=-1;this.above=
0;this.dom=document.createElement("div");this.update(r,v,A,C,z)}Pa(t,[{key:"update",value:function(r,v,A,C,z){this.height!=v&&(this.dom.style.height=(this.height=v)+"px");this.above!=A&&(this.dom.style.marginTop=(this.above=A)?A+"px":"");if(this.markers!=C){for(this.markers=C;v=this.dom.lastChild;)v.remove();v=!0;A=!1;var x=void 0;try{for(var D=C[Symbol.iterator](),I;!(v=(I=D.next()).done);v=!0){var O=I.value,Y=O.toDOM(r);Y&&this.dom.appendChild(Y);var ba=O.elementClass;ba&&(z+=" "+ba)}}catch(na){A=
!0,x=na}finally{try{if(!v&&null!=D["return"])D["return"]()}finally{if(A)throw x;}}this.dom.className=z}}}]);return t}(),P=La.Facet.define();F.lineNumberMarkers=P;var Z=La.Facet.define({combine:function(t){return(0,La.combineConfig)(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(r,v){var A=Object.assign({},r);r=function(z){var x=A[z],D=v[z];A[z]=x?function(I,O,Y){return x(I,O,Y)||D(I,O,Y)}:D};for(var C in v)r(C);return A}})}}),l=function(t){function r(v){Oa(this,r);var A=Aa(this,
wa(r).call(this));A.number=v;return A}ma(r,t);Pa(r,[{key:"eq",value:function(v){return this.number==v.number}},{key:"toDOM",value:function(v){v=v.state.facet(Z);return document.createTextNode(v.formatNumber(this.number))}}]);return r}(Da),p=oa({style:"lineNumber",markers:function(t){return t.facet(P)},lineMarker:function(t,r,v){return v.length?null:new l(t.state.doc.lineAt(r.from).number)},initialSpacer:function(t){return new l(ra(t.state.doc.lines))},updateSpacer:function(t,r){r=ra(r.view.state.doc.lines);
return r==t.number?t:new l(r)}})};
shadow$provide[11]=function(Da,aa,lb,F){function Ha(r){Ha="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return Ha(r)}function Oa(r,v){if(!(r instanceof v))throw new TypeError("Cannot call a class as a function");}function Ia(r,v){for(var A=0;A<v.length;A++){var C=v[A];C.enumerable=C.enumerable||!1;C.configurable=!0;"value"in C&&(C.writable=
!0);Object.defineProperty(r,C.key,C)}}function Pa(r,v,A){v&&Ia(r.prototype,v);A&&Ia(r,A);return r}function Aa(r,v){if(v&&("object"===Ha(v)||"function"===typeof v))return v;if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function wa(r){wa=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)};return wa(r)}function ma(r,v){if("function"!==typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");
r.prototype=Object.create(v&&v.prototype,{constructor:{value:r,writable:!0,configurable:!0}});v&&Qa(r,v)}function Qa(r,v){Qa=Object.setPrototypeOf||function(A,C){A.__proto__=C;return A};return Qa(r,v)}function oa(r,v){var A=v.mapPos(r.from,1);r=v.mapPos(r.to,-1);return A>=r?void 0:{from:A,to:r}}function eb(r){var v=[],A=!0,C=!1,z=void 0;try{for(var x=function(){var O=I.value.head;if(v.some(function(Y){return Y.from<=O&&Y.to>=O}))return"continue";v.push(r.visualLineAt(O))},D=r.state.selection.ranges[Symbol.iterator](),
I;!(A=(I=D.next()).done);A=!0)x()}catch(O){C=!0,z=O}finally{try{if(!A&&null!=D["return"])D["return"]()}finally{if(C)throw z;}}return v}function ra(r,v,A){var C,z=null;null===(C=r.field(q,!1))||void 0===C?void 0:C.between(v,A,function(x,D){if(!z||z.from>x)z={from:x,to:D}});return z}function Fa(r,v,A){var C=!1;r.between(v,v,function(z,x){z==v&&x==A&&(C=!0)});return C}function Ja(r){var v=[q,t];r&&v.push(P.of(r));return v}Object.defineProperty(F,"__esModule",{value:!0});F.codeFolding=Ja;F.foldGutter=
function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},v=Object.assign(Object.assign({},l),r),A=new p(v,!0),C=new p(v,!1);return[(0,Va.gutter)({style:"foldGutter",lineMarker:function(z,x){return ra(z.state,x.from,x.to)?C:(0,Ma.foldable)(z.state,x.from,x.to)?A:null},initialSpacer:function(){return new p(v,!1)},domEventHandlers:{click:function(z,x){var D=ra(z.state,x.from,x.to);return D?(z.dispatch({effects:ea.of(D)}),!0):(x=(0,Ma.foldable)(z.state,x.from,x.to))?(z.dispatch({effects:ta.of(x)}),
!0):!1}}}),Ja()]};F.unfoldCode=F.unfoldAll=F.foldKeymap=F.foldCode=F.foldAll=void 0;var La=aa(1),va=aa(5),Ma=aa(8),Va=aa(10),ta=La.StateEffect.define({map:oa}),ea=La.StateEffect.define({map:oa}),q=La.StateField.define({create:function(){return va.Decoration.none},update:function(r,v){r=r.map(v.changes);var A=!0,C=!1,z=void 0;try{for(var x=function(){var ba=I.value;ba.is(ta)&&!Fa(r,ba.value.from,ba.value.to)?r=r.update({add:[Z.range(ba.value.from,ba.value.to)]}):ba.is(ea)&&(r=r.update({filter:function(na,
Ea){return ba.value.from!=na||ba.value.to!=Ea},filterFrom:ba.value.from,filterTo:ba.value.to}))},D=v.effects[Symbol.iterator](),I;!(A=(I=D.next()).done);A=!0)x()}catch(ba){C=!0,z=ba}finally{try{if(!A&&null!=D["return"])D["return"]()}finally{if(C)throw z;}}if(v.selection){var O=!1,Y=v.selection.primary.head;r.between(Y,Y,function(ba,na){ba<Y&&na>Y&&(O=!0)});O&&(r=r.update({filterFrom:Y,filterTo:Y,filter:function(ba,na){return na<=Y||ba>=Y}}))}return r},provide:[va.EditorView.decorations]});Da=function(r){var v=
!0,A=!1,C=void 0;try{for(var z=eb(r)[Symbol.iterator](),x;!(v=(x=z.next()).done);v=!0){var D=x.value,I=(0,Ma.foldable)(r.state,D.from,D.to);if(I)return r.dispatch({effects:ta.of(I),reconfigure:r.state.field(q,!1)?void 0:{append:Ja()}}),!0}}catch(O){A=!0,C=O}finally{try{if(!v&&null!=z["return"])z["return"]()}finally{if(A)throw C;}}return!1};F.foldCode=Da;aa=function(r){if(!r.state.field(q,!1))return!1;var v=[],A=!0,C=!1,z=void 0;try{for(var x=eb(r)[Symbol.iterator](),D;!(A=(D=x.next()).done);A=!0){var I=
D.value,O=ra(r.state,I.from,I.to);O&&v.push(ea.of(O))}}catch(Y){C=!0,z=Y}finally{try{if(!A&&null!=x["return"])x["return"]()}finally{if(C)throw z;}}v.length&&r.dispatch({effects:v});return 0<v.length};F.unfoldCode=aa;lb=function(r){for(var v=r.state,A=[],C=0;C<v.doc.length;){C=r.visualLineAt(C);var z=(0,Ma.foldable)(v,C.from,C.to);z&&A.push(ta.of(z));C=(z?r.visualLineAt(z.to):C).to+1}A.length&&r.dispatch({effects:A,reconfigure:r.state.field(q,!1)?void 0:{append:Ja()}});return!!A.length};F.foldAll=
lb;var y=function(r){var v=r.state.field(q,!1);if(!v||!v.size)return!1;var A=[];v.between(0,r.state.doc.length,function(C,z){A.push(ea.of({from:C,to:z}))});r.dispatch({effects:A});return!0};F.unfoldAll=y;F.foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Da},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:aa},{key:"Ctrl-Alt-[",run:lb},{key:"Ctrl-Alt-]",run:y}];var E={placeholderDOM:null,placeholderText:"…"},P=La.Facet.define({combine:function(r){return(0,La.combineConfig)(r,E)}}),Z=va.Decoration.replace({widget:new (function(r){function v(){Oa(this,
v);return Aa(this,wa(v).apply(this,arguments))}ma(v,r);Pa(v,[{key:"ignoreEvents",value:function(){return!1}},{key:"toDOM",value:function(A){var C=A.state,z=C.facet(P);if(z.placeholderDOM)return z.placeholderDOM();var x=document.createElement("span");x.textContent=z.placeholderText;x.setAttribute("aria-label",C.phrase("folded code"));x.title=C.phrase("unfold");x.className=(0,va.themeClass)("foldPlaceholder");x.onclick=function(D){var I=A.visualLineAt(A.posAtDOM(D.target));(I=ra(A.state,I.from,I.to))&&
A.dispatch({effects:ea.of(I)});D.preventDefault()};return x}}]);return v}(va.WidgetType))}),l={openText:"⌄",closedText:"›"},p=function(r){function v(A,C){Oa(this,v);var z=Aa(this,wa(v).call(this));z.config=A;z.open=C;return z}ma(v,r);Pa(v,[{key:"eq",value:function(A){return this.config==A.config&&this.open==A.open}},{key:"toDOM",value:function(A){var C=document.createElement("span");C.textContent=this.open?this.config.openText:this.config.closedText;C.title=A.state.phrase(this.open?"Fold line":"Unfold line");
return C}}]);return v}(Va.GutterMarker),t=va.EditorView.baseTheme({$foldPlaceholder:{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},"$gutterElement.foldGutter":{padding:"0 1px",cursor:"pointer"}})};
shadow$provide[12]=function(Da,aa,lb,F){function Ha(p,t){if(!(p instanceof t))throw new TypeError("Cannot call a class as a function");}function Oa(p,t){for(var r=0;r<t.length;r++){var v=t[r];v.enumerable=v.enumerable||!1;v.configurable=!0;"value"in v&&(v.writable=!0);Object.defineProperty(p,v.key,v)}}function Ia(p,t,r){t&&Oa(p.prototype,t);r&&Oa(p,r);return p}function Pa(p,t){return function(r){var v=r.state;r=r.dispatch;var A=v.field(ea,!1);if(!A)return!1;v=A.pop(p,v,t);if(!v)return!1;r(v);return!0}}
function Aa(p){return function(t){t=t.field(ea,!1);if(!t)return 0;t=0==p?t.done:t.undone;return t.length-(t.length&&!t[0].changes?1:0)}}function wa(p,t,r,v){p=p.slice(t+1>r+20?t-r-1:0,t);p.push(v);return p}function ma(p,t){var r=[],v=!1;p.iterChangedRanges(function(A,C){return r.push(A,C)});t.iterChangedRanges(function(A,C,z,x){for(A=0;A<r.length;){C=r[A++];var D=r[A++];x>=C&&z<=D&&(v=!0)}});return v}function Qa(p,t){return p.ranges.length==t.ranges.length&&0===p.ranges.filter(function(r,v){return r.empty!=
t.ranges[v].empty}).length}function oa(p,t){return p.length?t.length?p.concat(t):p:t}function eb(p,t){if(p.length){var r=p[p.length-1],v=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-Z));if(v.length&&v[v.length-1].eq(t))return p;v.push(t);return wa(p,p.length-1,1E9,r.setSelAfter(v))}return[E.selection([t])]}function ra(p){var t=p[p.length-1],r=p.slice();r[p.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1));return r}function Fa(p,t){if(!p.length)return p;
for(var r=p.length,v=P;r;){v=Ja(p[r-1],t,v);if(v.changes&&!v.changes.empty||v.effects.length)return p=p.slice(0,r),p[r-1]=v,p;t=v.mapped;r--;v=v.selectionsAfter}return v.length?[E.selection(v)]:P}function Ja(p,t,r){r=oa(p.selectionsAfter.length?p.selectionsAfter.map(function(z){return z.map(t)}):P,r);if(!p.changes)return E.selection(r);var v=p.changes.map(t),A=t.mapDesc(p.changes,!0),C=p.mapped?p.mapped.composeDesc(A):A;return new E(v,La.StateEffect.mapEffects(p.effects,t),C,p.startSelection.map(A),
r)}Object.defineProperty(F,"__esModule",{value:!0});F.history=function(){return[ea,ta.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})]};F.undoSelection=F.undoDepth=F.undo=F.redoSelection=F.redoDepth=F.redo=F.isolateHistory=F.invertedEffects=F.historyKeymap=void 0;var La=aa(1),va=La.Annotation.define(),Ma=La.Annotation.define();F.isolateHistory=Ma;var Va=La.Facet.define();F.invertedEffects=Va;var ta=La.Facet.define({combine:function(p){return(0,La.combineConfig)(p,{minDepth:100,newGroupDelay:500},
{minDepth:Math.max,newGroupDelay:Math.min})}}),ea=La.StateField.define({create:function(){return l.empty},update:function(p,t){var r=t.state.facet(ta),v=t.annotation(va);if(v){var A=E.fromTransaction(t),C=v.side;p=0==C?p.undone:p.done;p=A?wa(p,p.length,r.minDepth,A):eb(p,t.startState.selection);return new l(0==C?v.rest:p,0==C?p:v.rest)}v=t.annotation(Ma);if("full"==v||"before"==v)p=p.isolate();if(!1===t.annotation(La.Transaction.addToHistory))return t.changes.length?p.addMapping(t.changes.desc):p;
A=E.fromTransaction(t);C=t.annotation(La.Transaction.time);var z=t.annotation(La.Transaction.userEvent);A?p=p.addChanges(A,C,z,r.newGroupDelay,r.minDepth):t.selection&&(p=p.addSelection(t.startState.selection,C,z,r.newGroupDelay));if("full"==v||"after"==v)p=p.isolate();return p}});Da=Pa(0,!1);F.undo=Da;aa=Pa(1,!1);F.redo=aa;lb=Pa(0,!0);F.undoSelection=lb;var q=Pa(1,!0);F.redoSelection=q;var y=Aa(0);F.undoDepth=y;y=Aa(1);F.redoDepth=y;var E=function(){function p(t,r,v,A,C){Ha(this,p);this.changes=
t;this.effects=r;this.mapped=v;this.startSelection=A;this.selectionsAfter=C}Ia(p,[{key:"setSelAfter",value:function(t){return new p(this.changes,this.effects,this.mapped,this.startSelection,t)}}],[{key:"fromTransaction",value:function(t){var r=P,v=!0,A=!1,C=void 0;try{for(var z=t.startState.facet(Va)[Symbol.iterator](),x;!(v=(x=z.next()).done);v=!0){var D=x.value,I=D(t);I.length&&(r=r.concat(I))}}catch(O){A=!0,C=O}finally{try{if(!v&&null!=z["return"])z["return"]()}finally{if(A)throw C;}}return!r.length&&
t.changes.empty?null:new p(t.changes.invert(t.startState.doc),r,void 0,t.startState.selection,P)}},{key:"selection",value:function(t){return new p(void 0,P,void 0,void 0,t)}}]);return p}(),P=[],Z=200,l=function(){function p(t,r){var v=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,A=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;Ha(this,p);this.done=t;this.undone=r;this.prevTime=v;this.prevUserEvent=A}Ia(p,[{key:"isolate",value:function(){return this.prevTime?new p(this.done,
this.undone):this}},{key:"addChanges",value:function(t,r,v,A,C){var z=this.done,x=z[z.length-1];z=x&&x.changes&&r-this.prevTime<A&&!x.selectionsAfter.length&&x.changes.length&&t.changes&&ma(x.changes,t.changes)?wa(z,z.length-1,C,new E(t.changes.compose(x.changes),oa(t.effects,x.effects),x.mapped,x.startSelection,P)):wa(z,z.length,C,t);return new p(z,P,r,v)}},{key:"addSelection",value:function(t,r,v,A){var C=this.done.length?this.done[this.done.length-1].selectionsAfter:P;return 0<C.length&&r-this.prevTime<
A&&"keyboardselection"==v&&this.prevUserEvent==v&&Qa(C[C.length-1],t)?this:new p(eb(this.done,t),this.undone,r,v)}},{key:"addMapping",value:function(t){return new p(Fa(this.done,t),Fa(this.undone,t),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(t,r,v){var A=0==t?this.done:this.undone;if(0==A.length)return null;var C=A[A.length-1];return v&&C.selectionsAfter.length?r.update({selection:C.selectionsAfter[C.selectionsAfter.length-1],annotations:va.of({side:t,rest:ra(A)})}):C.changes?(v=
1==A.length?P:A.slice(0,A.length-1),C.mapped&&(v=Fa(v,C.mapped)),r.update({changes:C.changes,selection:C.startSelection,effects:C.effects,annotations:va.of({side:t,rest:v}),filter:!1})):null}}]);return p}();l.empty=new l(P,P);F.historyKeymap=[{key:"Mod-z",run:Da,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:aa,preventDefault:!0},{key:"Mod-u",run:lb,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:q,preventDefault:!0}]};
shadow$provide[13]=function(qa,Oa,kb,F){function Ma(){throw Error("setTimeout has not been defined");}function Na(){throw Error("clearTimeout has not been defined");}function Ba(ca){if(na===setTimeout)return setTimeout(ca,0);if((na===Ma||!na)&&setTimeout)return na=setTimeout,setTimeout(ca,0);try{return na(ca,0)}catch(la){try{return na.call(null,ca,0)}catch(ka){return na.call(this,ca,0)}}}function Pa(ca){if(Sa===clearTimeout)return clearTimeout(ca);if((Sa===Na||!Sa)&&clearTimeout)return Sa=clearTimeout,
clearTimeout(ca);try{return Sa(ca)}catch(la){try{return Sa.call(null,ca)}catch(ka){return Sa.call(this,ca)}}}function Fa(){ya&&Ga&&(ya=!1,Ga.length?ta=Ga.concat(ta):fa=-1,ta.length&&sa())}function sa(){if(!ya){var ca=Ba(Fa);ya=!0;for(var la=ta.length;la;){Ga=ta;for(ta=[];++fa<la;)Ga&&Ga[fa].run();fa=-1;la=ta.length}Ga=null;ya=!1;Pa(ca)}}function xa(ca,la){this.fun=ca;this.array=la}function Qa(){}qa=kb.exports={};try{var na="function"===typeof setTimeout?setTimeout:Ma}catch(ca){na=Ma}try{var Sa="function"===
typeof clearTimeout?clearTimeout:Na}catch(ca){Sa=Na}var ta=[],ya=!1,Ga,fa=-1;qa.nextTick=function(ca){var la=Array(arguments.length-1);if(1<arguments.length)for(var ka=1;ka<arguments.length;ka++)la[ka-1]=arguments[ka];ta.push(new xa(ca,la));1!==ta.length||ya||Ba(sa)};xa.prototype.run=function(){this.fun.apply(null,this.array)};qa.title="browser";qa.browser=!0;qa.env={};qa.argv=[];qa.version="";qa.versions={};qa.on=Qa;qa.addListener=Qa;qa.once=Qa;qa.off=Qa;qa.removeListener=Qa;qa.removeAllListeners=
Qa;qa.emit=Qa;qa.prependListener=Qa;qa.prependOnceListener=Qa;qa.listeners=function(ca){return[]};qa.binding=function(ca){throw Error("process.binding is not supported");};qa.cwd=function(){return"/"};qa.chdir=function(ca){throw Error("process.chdir is not supported");};qa.umask=function(){return 0}};
shadow$provide[14]=function(Da,aa,lb,F){function Ha(l,p=Uint16Array){if("string"!=typeof l)return l;let t=null;for(let v=0,A=0;v<l.length;){let C=0;for(;;){var r=l.charCodeAt(v++);let z=!1;if(126==r){C=65535;break}92<=r&&r--;34<=r&&r--;r-=32;46<=r&&(r-=46,z=!0);C+=r;if(z)break;C*=46}t?t[A++]=C:t=new p(C)}return t}function Oa(l,p,t){let r=l.cursor(p);for(;;)if(0>t?!r.childBefore(p):!r.childAfter(p))for(;;){if((0>t?r.to<=p:r.from>=p)&&!r.type.isError)return 0>t?r.to-1:r.from+1;if(0>t?r.prevSibling():
r.nextSibling())break;if(!r.parent())return 0>t?0:l.length}}function Ia(l,p){for(let t=0;t<p.length;t++){let r=p[t];if(r.pos==l.pos&&r.sameState(l)){p[t].score<l.score&&(p[t]=l);return}}p.push(l)}function Pa(l,p){return l[p]|l[p+1]<<16}function Aa(l,p,t){for(let r=p,v;65535!=(v=l[r]);r++)if(v==t)return r-p;return-1}function wa(l){let p=null;for(let t of l)t.pos==t.cx.input.length&&t.cx.parser.stateFlag(t.state,2)&&(!p||p.score<t.score)&&(p=t);return p}Da=aa(13);"use strict";Object.defineProperty(F,
"__esModule",{value:!0});var ma=aa(6);class Qa{constructor(l,p,t,r,v,A,C,z,x){this.cx=l;this.stack=p;this.state=t;this.reducePos=r;this.pos=v;this.score=A;this.buffer=C;this.bufferBase=z;this.parent=x}toString(){return`[${this.stack.filter((l,p)=>0==p%3).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(l,p,t=0){return new Qa(l,[],p,t,t,0,[],0,null)}pushState(l,p){this.stack.push(this.state,p,this.bufferBase+this.buffer.length);this.state=l}reduce(l){var p=l>>19;let t=
l&65535,{parser:r}=this.cx;var v=r.dynamicPrecedence(t);v&&(this.score+=v);if(0==p)t<r.minRepeatTerm&&this.storeNode(t,this.reducePos,this.reducePos,4,!0),this.pushState(r.getGoto(this.state,t,!0),this.reducePos);else{p=this.stack.length-3*(p-1)-(l&262144?6:0);v=this.stack[p-2];var A=this.bufferBase+this.buffer.length-this.stack[p-1];if(t<r.minRepeatTerm||l&131072){let C=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(t,v,C,A+4,!0)}for(this.state=l&262144?this.stack[p]:r.getGoto(this.stack[p-
3],t,!0);this.stack.length>p;)this.stack.pop()}}storeNode(l,p,t,r=4,v=!1){if(0==l){let A=this,C=this.buffer.length;0==C&&A.parent&&(C=A.bufferBase-A.parent.bufferBase,A=A.parent);if(0<C&&0==A.buffer[C-4]&&-1<A.buffer[C-1]){if(p==t)return;if(A.buffer[C-2]>=p){A.buffer[C-2]=t;return}}}if(v&&this.pos!=t){v=this.buffer.length;if(0<v&&0!=this.buffer[v-4])for(;0<v&&this.buffer[v-2]>t;)this.buffer[v]=this.buffer[v-4],this.buffer[v+1]=this.buffer[v-3],this.buffer[v+2]=this.buffer[v-2],this.buffer[v+3]=this.buffer[v-
1],v-=4,4<r&&(r-=4);this.buffer[v]=l;this.buffer[v+1]=p;this.buffer[v+2]=t;this.buffer[v+3]=r}else this.buffer.push(l,p,t,r)}shift(l,p,t){if(l&131072)this.pushState(l&65535,this.pos);else if(0==(l&262144)){let r=this.pos,{parser:v}=this.cx;if(t>this.pos||p<=v.maxNode)this.pos=t,v.stateFlag(l,1)||(this.reducePos=t);this.pushState(l,r);p<=v.maxNode&&this.buffer.push(p,r,t,4)}else p<=this.cx.parser.maxNode&&this.buffer.push(p,this.pos,t,4),this.pos=t}apply(l,p,t){l&65536?this.reduce(l):this.shift(l,
p,t)}useNode(l,p){let t=this.cx.reused.length-1;if(0>t||this.cx.reused[t]!=l)this.cx.reused.push(l),t++;let r=this.pos;this.reducePos=this.pos=r+l.length;this.pushState(p,r);this.buffer.push(t,r,this.reducePos,-1)}split(){let l=this;for(var p=l.buffer.length;0<p&&l.buffer[p-2]>l.reducePos;)p-=4;let t=l.buffer.slice(p);for(p=l.bufferBase+p;l&&p==l.bufferBase;)l=l.parent;return new Qa(this.cx,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,t,p,l)}recoverByDelete(l,p){let t=l<=this.cx.parser.maxNode;
t&&this.storeNode(l,this.pos,p);this.storeNode(0,this.pos,p,t?8:4);this.pos=this.reducePos=p;this.score-=200}canShift(l){for(let p=new eb(this);;){let t=this.cx.parser.stateSlot(p.top,4)||this.cx.parser.hasAction(p.top,l);if(0==(t&65536))return!0;if(0==t)return!1;p.reduce(t)}}get ruleStart(){for(let l=this.state,p=this.stack.length;;){let t=this.cx.parser.stateSlot(l,5);if(!(t&65536))return 0;p-=3*(t>>19);if((t&65535)<this.cx.parser.minRepeatTerm)return this.stack[p+1];l=this.stack[p]}}startOf(l,
p){var t=this.state;let r=this.stack.length,{parser:v}=this.cx;for(;;){var A=v.stateSlot(t,5);t=A>>19;let C=A&65535;if(-1<l.indexOf(C)&&(A=this.stack[r-3*(A>>19)+1],null==p||p>A))return A;if(0==r)return null;0==t?(r-=3,t=this.stack[r]):(r-=3*(t-1),t=v.getGoto(this.stack[r-3],C,!0))}}recoverByInsert(l){if(300<=this.stack.length)return[];let p=this.cx.parser.nextStates(this.state);if(4<p.length||120<=this.stack.length){var t=p.filter(v=>v!=this.state&&this.cx.parser.hasAction(v,l));if(120>this.stack.length)for(var r=
0;4>t.length&&r<p.length;r++)0>t.indexOf(p[r])&&t.push(p[r]);p=t}t=[];for(r=0;r<p.length&&4>t.length;r++){if(p[r]==this.state)continue;let v=this.split();v.storeNode(0,v.pos,v.pos,4,!0);v.pushState(p[r],this.pos);v.score-=200;t.push(v)}return t}forceReduce(){let l=this.cx.parser.stateSlot(this.state,5);if(0==(l&65536))return!1;this.cx.parser.validAction(this.state,l)||(this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100);this.reduce(l);return!0}forceAll(){for(;!this.cx.parser.stateFlag(this.state,
2)&&this.forceReduce(););return this}get deadEnd(){if(3!=this.stack.length)return!1;let {parser:l}=this.cx;return 65535==l.data[l.stateSlot(this.state,1)]&&!l.stateSlot(this.state,4)}restart(){this.state=this.stack[0];this.stack.length=0}sameState(l){if(this.state!=l.state||this.stack.length!=l.stack.length)return!1;for(let p=0;p<this.stack.length;p+=3)if(this.stack[p]!=l.stack[p])return!1;return!0}get parser(){return this.cx.parser}dialectEnabled(l){return this.cx.parser.dialect.flags[l]}}var oa;
(function(l){l[l.Token=200]="Token";l[l.Reduce=100]="Reduce";l[l.MaxNext=4]="MaxNext";l[l.MaxInsertStackDepth=300]="MaxInsertStackDepth";l[l.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(oa||(oa={}));class eb{constructor(l){this.stack=l;this.top=l.state;this.rest=l.stack;this.offset=this.rest.length}reduce(l){let p=l&65535;l>>=19;0==l?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=3*(l-1);this.top=this.stack.cx.parser.getGoto(this.rest[this.offset-
3],p,!0)}}class ra{constructor(l,p,t){this.stack=l;this.pos=p;this.index=t;this.buffer=l.buffer;0==this.index&&this.maybeNext()}static create(l){return new ra(l,l.bufferBase+l.buffer.length,l.buffer.length)}maybeNext(){let l=this.stack.parent;null!=l&&(this.index=this.stack.bufferBase-l.bufferBase,this.stack=l,this.buffer=l.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-
1]}next(){this.index-=4;this.pos-=4;0==this.index&&this.maybeNext()}fork(){return new ra(this.stack,this.pos,this.index)}}class Fa{constructor(){this.end=this.value=this.start=-1}accept(l,p){this.value=l;this.end=p}}class Ja{constructor(l,p){this.data=l;this.id=p}token(l,p,t){{var r=this.data,v=0;let z=1<<this.id,x=t.cx.parser.dialect;a:for(let D=p.start;0!=(z&r[v]);){let I=r[v+1];for(var A=v+3;A<I;A+=2)if(0<(r[A+1]&z)){var C=r[A];if(x.allows(C)&&(-1==p.value||p.value==C||t.cx.parser.overrides(C,
p.value))){p.accept(C,D);break}}A=l.get(D++);for(let O=0,Y=r[v+2];O<Y;){v=O+Y>>1;C=I+v+(v<<1);let ba=r[C+1];if(A<r[C])Y=v;else if(A>=ba)O=v+1;else{v=r[C+2];continue a}}break}}}}Ja.prototype.contextual=Ja.prototype.fallback=Ja.prototype.extend=!1;class La{constructor(l,p={}){this.token=l;this.contextual=!!p.contextual;this.fallback=!!p.fallback;this.extend=!!p.extend}}const va="undefined"!=typeof Da&&/\bparse\b/.test(Da.env.LOG);let Ma=null;class Va{constructor(l){this.fragments=l;this.i=0;this.fragment=
null;this.safeTo=this.safeFrom=-1;this.trees=[];this.start=[];this.index=[];this.nextFragment()}nextFragment(){let l=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(l){this.safeFrom=l.openStart?Oa(l.tree,l.from+l.offset,1)-l.offset:l.from;for(this.safeTo=l.openEnd?Oa(l.tree,l.to+l.offset,-1)-l.offset:l.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(l.tree);this.start.push(-l.offset);this.index.push(0);this.nextStart=this.safeFrom}else this.nextStart=
1E9}nodeAt(l){if(l<this.nextStart)return null;for(;this.fragment&&this.safeTo<=l;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(0>t)return this.nextFragment(),null;var p=this.trees[t];let r=this.index[t];if(r==p.children.length){this.trees.pop();this.start.pop();this.index.pop();continue}let v=p.children[r];p=this.start[t]+p.positions[r];if(p>l)return this.nextStart=p,null;if(p==l&&p+v.length<=this.safeTo)return p==l&&p>=this.safeFrom?v:null;v instanceof ma.TreeBuffer?
(this.index[t]++,this.nextStart=p+v.length):(this.index[t]++,p+v.length>=l&&(this.trees.push(v),this.start.push(p),this.index.push(0)))}}}class ta extends Fa{constructor(){super(...arguments);this.extended=-1;this.mask=0}clear(l){this.start=l;this.value=this.extended=-1}}const ea=new Fa;class q{constructor(l){this.tokens=[];this.mainToken=ea;this.actions=[];this.tokens=l.tokenizers.map(p=>new ta)}getActions(l,p){let t=0,r=null;var {parser:v}=l.cx;let {tokenizers:A}=v;v=v.stateSlot(l.state,3);for(let C=
0;C<A.length;C++){if(0==(1<<C&v))continue;let z=A[C],x=this.tokens[C];if(!r||z.fallback){if(z.contextual||x.start!=l.pos||x.mask!=v)this.updateCachedToken(x,z,l,p),x.mask=v;if(0!=x.value){let D=t;-1<x.extended&&(t=this.addActions(l,x.extended,x.end,t));t=this.addActions(l,x.value,x.end,t);if(!z.extend&&(r=x,t>D))break}}}for(;this.actions.length>t;)this.actions.pop();r||(r=ea,r.start=l.pos,l.pos==p.length?r.accept(l.cx.parser.eofTerm,l.pos):r.accept(0,l.pos+1));this.mainToken=r;return this.actions}updateCachedToken(l,
p,t,r){l.clear(t.pos);p.token(r,l,t);if(-1<l.value){({parser:p}=t.cx);for(let v=0;v<p.specialized.length;v++)if(p.specialized[v]==l.value){let A=p.specializers[v](r.read(l.start,l.end),t);if(0<=A&&t.cx.parser.dialect.allows(A>>1)){0==(A&1)?l.value=A>>1:l.extended=A>>1;break}}}else t.pos==r.length?l.accept(t.cx.parser.eofTerm,t.pos):l.accept(0,t.pos+1)}putAction(l,p,t,r){for(let v=0;v<r;v+=3)if(this.actions[v]==l)return r;this.actions[r++]=l;this.actions[r++]=p;this.actions[r++]=t;return r}addActions(l,
p,t,r){let {state:v}=l;({parser:l}=l.cx);let {data:A}=l;for(let C=0;2>C;C++)for(let z=l.stateSlot(v,C?2:1);;z+=3){if(65535==A[z])if(1==A[z+1])z=Pa(A,z+2);else{0==r&&2==A[z+1]&&(r=this.putAction(Pa(A,z+1),p,t,r));break}A[z]==p&&(r=this.putAction(Pa(A,z+1),p,t,r))}return r}}var y;(function(l){l[l.Distance=5]="Distance";l[l.MaxRemainingPerStep=3]="MaxRemainingPerStep";l[l.MinBufferLengthPrune=200]="MinBufferLengthPrune";l[l.ForceReduceLimit=10]="ForceReduceLimit"})(y||(y={}));class E{constructor(l,p,
t,r){this.parser=l;this.input=p;this.startPos=t;this.context=r;this.recovering=this.pos=0;this.nextStackID=9812;this.nested=null;this.nestEnd=0;this.nestWrap=null;this.reused=[];this.tokens=new q(l);this.topTerm=l.top[1];this.stacks=[Qa.start(this,l.top[0],this.startPos)];this.fragments=(l=null===r||void 0===r?void 0:r.fragments)&&l.length?new Va(l):null}advance(){if(this.nested){var l=this.nested.advance();this.pos=this.nested.pos;l&&(this.finishNested(this.stacks[0],l),this.nested=null);return null}var p=
this.stacks;let t=this.pos;l=this.stacks=[];for(let z=0;z<p.length;z++){var r=p[z];let x;for(;;){if(r.pos>t)l.push(r);else if(x=this.checkNest(r)){if(!v||v.stack.score<r.score)var v=x}else if(this.advanceStack(r,l,p))continue;else{if(!A){var A=[];var C=[]}A.push(r);r=this.tokens.mainToken;C.push(r.value,r.end)}break}}if(v)return this.startNested(v),null;if(!l.length){if(p=A&&wa(A))return this.stackToTree(p);if(this.parser.strict)throw va&&A&&console.log("Stuck with token "+this.parser.getName(this.tokens.mainToken.value)),
new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&A&&(A=this.runRecovery(A,C,l)))return this.stackToTree(A.forceAll());if(this.recovering){A=1==this.recovering?1:3*this.recovering;if(l.length>A)for(l.sort((z,x)=>x.score-z.score);l.length>A;)l.pop();l.some(z=>z.reducePos>t)&&this.recovering--}else if(1<l.length)a:for(A=0;A<l.length-1;A++)for(C=l[A],p=A+1;p<l.length;p++)if(v=l[p],C.sameState(v)||200<C.buffer.length&&200<v.buffer.length)if(0<(C.score-v.score||
C.buffer.length-v.buffer.length))l.splice(p--,1);else{l.splice(A--,1);continue a}this.pos=l[0].pos;for(A=1;A<l.length;A++)l[A].pos<this.pos&&(this.pos=l[A].pos);return null}advanceStack(l,p,t){let r=l.pos,{input:v,parser:A}=this,C=va?this.stackID(l)+" -\x3e ":"";if(this.fragments)for(var z=this.fragments.nodeAt(r);z;){var x=this.parser.nodeSet.types[z.type.id]==z.type?A.getGoto(l.state,z.type.id):-1;if(-1<x&&z.length)return l.useNode(z,x),va&&console.log(C+this.stackID(l)+` (via reuse of ${A.getName(z.type.id)})`),
!0;if(!(z instanceof ma.Tree)||0==z.children.length||0<z.positions[0])break;z=z.children[0];if(!(z instanceof ma.Tree))break}z=A.stateSlot(l.state,4);if(0<z)return l.reduce(z),va&&console.log(C+this.stackID(l)+` (via always-reduce ${A.getName(z&65535)})`),!0;z=this.tokens.getActions(l,v);for(x=0;x<z.length;){let D=z[x++],I=z[x++],O=z[x++],Y=x==z.length||!t,ba=Y?l:l.split();ba.apply(D,I,O);va&&console.log(C+this.stackID(ba)+` (via ${0==(D&65536)?"shift":`reduce of ${A.getName(D&65535)}`} for ${A.getName(I)} @ ${r}${ba==
l?"":", split"})`);if(Y)return!0;ba.pos>r?p.push(ba):t.push(ba)}return!1}advanceFully(l,p){let t=l.pos;for(;;){let r=this.checkNest(l);if(r)return r;if(!this.advanceStack(l,null,null))return!1;if(l.pos>t)return Ia(l,p),!0}}runRecovery(l,p,t){let r=null,v=!1,A;for(let z=0;z<l.length;z++){let x=l[z],D=p[z<<1],I=p[(z<<1)+1],O=va?this.stackID(x)+" -\x3e ":"";if(x.deadEnd){if(v)continue;v=!0;x.restart();va&&console.log(O+this.stackID(x)+" (restarted)");var C=this.advanceFully(x,t);if(C){!0!==C&&(A=C);
continue}}C=x.split();let Y=O;for(let ba=0;C.forceReduce()&&10>ba;ba++){va&&console.log(Y+this.stackID(C)+" (via force-reduce)");let na=this.advanceFully(C,t);if(na){!0!==na&&(A=na);break}va&&(Y=this.stackID(C)+" -\x3e ")}for(let ba of x.recoverByInsert(D))va&&console.log(O+this.stackID(ba)+" (via recover-insert)"),this.advanceFully(ba,t);if(this.input.length>x.pos)I==x.pos&&(I++,D=0),x.recoverByDelete(D,I),va&&console.log(O+this.stackID(x)+` (via recover-delete ${this.parser.getName(D)})`),Ia(x,
t);else if(!r||r.score<x.score)r=x}if(r)return r;if(A)for(let z of this.stacks)if(z.score>A.stack.score){A=void 0;break}A&&this.startNested(A);return null}forceFinish(){let l=this.stacks[0].split();this.nested&&this.finishNested(l,this.nested.forceFinish());return this.stackToTree(l.forceAll())}stackToTree(l,p=l.pos){return ma.Tree.build({buffer:ra.create(l),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.startPos,length:p-this.startPos,
minRepeatType:this.parser.minRepeatTerm})}checkNest(l){let p=this.parser.findNested(l.state);if(!p)return null;let t=p.value;"function"==typeof t&&(t=t(this.input,l));return t?{stack:l,info:p,spec:t}:null}startNested(l){let {stack:p,info:t,spec:r}=l;this.stacks=[p];this.nestEnd=this.scanForNestEnd(p,t.end,r.filterEnd);this.nestWrap="number"==typeof r.wrapType?this.parser.nodeSet.types[r.wrapType]:r.wrapType||null;r.startParse?this.nested=r.startParse(this.input.clip(this.nestEnd),p.pos,this.context):
this.finishNested(p)}scanForNestEnd(l,p,t){for(let r=l.pos;r<this.input.length;r++)if(ea.start=r,ea.value=-1,p.token(this.input,ea,l),-1<ea.value&&(!t||t(this.input.read(r,ea.end))))return r;return this.input.length}finishNested(l,p){this.nestWrap?p=new ma.Tree(this.nestWrap,p?[p]:[],p?[0]:[],this.nestEnd-l.pos):p||(p=new ma.Tree(ma.NodeType.none,[],[],this.nestEnd-l.pos));let t=this.parser.findNested(l.state);l.useNode(p,this.parser.getGoto(l.state,t.placeholder,!0));va&&console.log(this.stackID(l)+
" (via unnest)")}stackID(l){let p=(Ma||(Ma=new WeakMap)).get(l);p||Ma.set(l,p=String.fromCodePoint(this.nextStackID++));return p+l}}class P{constructor(l,p,t){this.source=l;this.flags=p;this.disabled=t}allows(l){return!this.disabled||0==this.disabled[l]}}class Z{constructor(l){function p(D,I,O){A[D].push([I,I.deserialize(String(O))])}this.bufferLength=ma.DefaultBufferLength;this.strict=!1;this.nextStateCache=[];this.cachedDialect=null;if(13!=l.version)throw new RangeError(`Parser version (${l.version}) doesn't match runtime version (${13})`);
let t=Ha(l.tokenData),r=l.nodeNames.split(" ");this.minRepeatTerm=r.length;for(var v=0;v<l.repeatNodeCount;v++)r.push("");let A=[];for(v=0;v<r.length;v++)A.push([]);if(l.nodeProps)for(var C of l.nodeProps){v=C[0];for(let D=1;D<C.length;){var z=C[D++];if(0<=z)p(z,v,C[D++]);else{let I=C[D+-z];for(z=-z;0<z;z--)p(C[D++],v,I);D++}}}this.specialized=new Uint16Array(l.specialized?l.specialized.length:0);this.specializers=[];if(l.specialized)for(C=0;C<l.specialized.length;C++)this.specialized[C]=l.specialized[C].term,
this.specializers[C]=l.specialized[C].get;this.states=Ha(l.states,Uint32Array);this.data=Ha(l.stateData);this.goto=Ha(l.goto);let x=Object.keys(l.topRules).map(D=>l.topRules[D][1]);this.nodeSet=new ma.NodeSet(r.map((D,I)=>ma.NodeType.define({name:I>=this.minRepeatTerm?void 0:D,id:I,props:A[I],top:-1<x.indexOf(I),error:0==I,skipped:l.skippedNodes&&-1<l.skippedNodes.indexOf(I)})));this.maxTerm=l.maxTerm;this.tokenizers=l.tokenizers.map(D=>"number"==typeof D?new Ja(t,D):D);this.topRules=l.topRules;this.nested=
(l.nested||[]).map(([D,I,O,Y])=>({name:D,value:I,end:new Ja(Ha(O),0),placeholder:Y}));this.dialects=l.dialects||{};this.dynamicPrecedences=l.dynamicPrecedences||null;this.tokenPrecTable=l.tokenPrec;this.termNames=l.termNames||null;this.maxNode=this.nodeSet.types.length-1;for(let D=0,I=this.states.length/6;D<I;D++)this.nextStateCache[D]=null;this.dialect=this.parseDialect();this.top=this.topRules[Object.keys(this.topRules)[0]]}parse(l,p=0,t={}){"string"==typeof l&&(l=ma.stringInput(l));for(l=new E(this,
l,p,t);;)if(p=l.advance())return p}startParse(l,p=0,t={}){"string"==typeof l&&(l=ma.stringInput(l));return new E(this,l,p,t)}getGoto(l,p,t=!1){let r=this.goto;if(p>=r[0])return-1;for(p=r[p+1];;){var v=r[p++];let A=v&1,C=r[p++];if(A&&t)return C;for(v=p+(v>>1);p<v;p++)if(r[p]==l)return C;if(A)return-1}}hasAction(l,p){let t=this.data;for(let r=0;2>r;r++)for(let v=this.stateSlot(l,r?2:1),A;;v+=3){if(65535==(A=t[v]))if(1==t[v+1])A=t[v=Pa(t,v+2)];else{if(2==t[v+1])return Pa(t,v+2);break}if(A==p||0==A)return Pa(t,
v+1)}return 0}stateSlot(l,p){return this.states[6*l+p]}stateFlag(l,p){return 0<(this.stateSlot(l,0)&p)}findNested(l){l=this.stateSlot(l,0);return l&4?this.nested[l>>10]:null}validAction(l,p){if(p==this.stateSlot(l,4))return!0;for(l=this.stateSlot(l,1);;l+=3){if(65535==this.data[l])if(1==this.data[l+1])l=Pa(this.data,l+2);else return!1;if(p==Pa(this.data,l+1))return!0}}nextStates(l){var p=this.nextStateCache[l];if(p)return p;p=[];for(var t=this.stateSlot(l,1);;t+=3){if(65535==this.data[t])if(1==this.data[t+
1])t=Pa(this.data,t+2);else break;0==(this.data[t+2]&1)&&0>p.indexOf(this.data[t+1])&&p.push(this.data[t+1])}t=this.goto;let r=t[0];for(let v=0;v<r;v++)for(let A=t[v+1];;){let C=t[A++],z=t[A++];for(let x=A+(C>>1);A<x;A++)t[A]==l&&0>p.indexOf(z)&&p.push(z);if(C&1)break}return this.nextStateCache[l]=p}overrides(l,p){p=Aa(this.data,this.tokenPrecTable,p);return 0>p||Aa(this.data,this.tokenPrecTable,l)<p}configure(l){let p=Object.assign(Object.create(Z.prototype),this);l.props&&(p.nodeSet=this.nodeSet.extend(...l.props));
if(l.top){let t=this.topRules[l.top];if(!t)throw new RangeError(`Invalid top rule name ${l.top}`);p.top=t}l.tokenizers&&(p.tokenizers=this.tokenizers.map(t=>{let r=l.tokenizers.find(v=>v.from==t);return r?r.to:t}));l.dialect&&(p.dialect=this.parseDialect(l.dialect));l.nested&&(p.nested=this.nested.map(t=>Object.prototype.hasOwnProperty.call(l.nested,t.name)?{name:t.name,value:l.nested[t.name],end:t.end,placeholder:t.placeholder}:t));null!=l.strict&&(p.strict=l.strict);null!=l.bufferLength&&(p.bufferLength=
l.bufferLength);return p}getName(l){return this.termNames?this.termNames[l]:String(l<=this.maxNode&&this.nodeSet.types[l].name||l)}get eofTerm(){return this.maxNode+1}get hasNested(){return 0<this.nested.length}dynamicPrecedence(l){let p=this.dynamicPrecedences;return null==p?0:p[l]||0}parseDialect(l){if(this.cachedDialect&&this.cachedDialect.source==l)return this.cachedDialect;let p=Object.keys(this.dialects),t=p.map(()=>!1);if(l)for(var r of l.split(" ")){var v=p.indexOf(r);0<=v&&(t[v]=!0)}r=null;
for(v=0;v<p.length;v++)if(!t[v])for(let A=this.dialects[p[v]],C;65535!=(C=this.data[A++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[C]=1;return this.cachedDialect=new P(l,t,r)}static deserialize(l){return new Z(l)}}F.NodeProp=ma.NodeProp;F.NodeSet=ma.NodeSet;F.NodeType=ma.NodeType;F.Tree=ma.Tree;F.TreeCursor=ma.TreeCursor;F.ExternalTokenizer=La;F.Parser=Z;F.Stack=Qa;F.Token=Fa};
shadow$provide[15]=function(Da,aa,lb,F){function Ha(c,f){let h=null;for(let n=0;n<c.length;n++){let w=c[n].walk(f);w==c[n]||h||(h=c.slice(0,n));h&&h.push(w)}return h||c}function Oa(c,f){return c.constructor==f.constructor&&c.eq(f)}function Ia(c,f){return c.length==f.length&&c.every((h,n)=>Oa(h,f[n]))}function Pa(c,f){return c.prec<f.prec?"("+c.toString()+")":c.toString()}function Aa(c){for(let f in c)return!0;return!1}function wa(c,f,h){if(c.length!=f.length)return c.length-f.length;for(let n=0;n<
c.length;n++){let w=h(c[n],f[n]);if(w)return w}return 0}function ma(c,f){if(0==c.length||c==f)return f;if(0==f.length)return c;let h=c.slice();for(let n of f)c.includes(n)||h.push(n);return h.sort()}function Qa(c){return 65534<c?"∞":55296<=c&&57343>c?"\\u{"+c.toString(16)+"}":String.fromCharCode(c)}function oa(c){let f="";for(let h=0;h<c.length;h++)f+=String.fromCharCode(c[h].from);return f}function eb(c){let f="";for(let h of c)f+=(f.length?"-":"")+h.id;return f}function ra(c){let f=[],h=[];for(var n of c)f.includes(n.from)||
f.push(n.from),f.includes(n.to)||f.push(n.to);f.sort((w,B)=>w-B);for(n=1;n<f.length;n++){let w=f[n-1],B=f[n],M=[];for(let Q of c)if(Q.to>w&&Q.from<B)for(let V of Q.target.closure())M.includes(V)||M.push(V);M.length&&h.push(new yd(w,B,M))}return h}function Fa(c,f){let h=f?f.start:c.start;f=f||P(c);let n=Ja(c),w=[];if(c.eat("\x3c"))for(;!c.eat("\x3e");)w.length&&c.expect(","),w.push(P(c));c=va(c);return new Bb(h,f,n,w,c)}function Ja(c){if("["!=c.type)return Ib;let f=[];for(c.expect("[");!c.eat("]");)f.length&&
c.expect(","),f.push(La(c));return f}function La(c){let f=c.start,h=[],n=c.value,w="at"==c.type;c.eat("at")||c.eat("id")||c.unexpected();if(c.eat("\x3d"))for(;;)if("string"==c.type||"id"==c.type)h.push(new pb(c.start,c.value,null)),c.next();else if(c.eat("."))h.push(new pb(c.start,".",null));else if(c.eat("{"))h.push(new pb(c.start,null,c.expect("id"))),c.expect("}");else break;return new Kc(f,w,n,h)}function va(c){c.expect("{");let f=E(c);c.expect("}");return f}function Ma(c){var f=c.start;if(c.eat("("))return f=
E(c),c.expect(")"),f;if("string"==c.type){var h=c.value;c.next();return 0==h.length?new hb(f,Ib,[Ib,Ib]):new Sb(f,h)}if(c.eat("id","_"))return new Oc(f);if("set"==c.type){h="!"==c.string[c.start];var n=C(c.value.replace(/\\.|-|"/g,B=>"-"==B?"﷚":'"'==B?'\\"':B));let w=[];for(let B=0;B<n.length;){let M=n.codePointAt(B);B+=65535<M?2:1;if(B<n.length-1&&"﷚"==n[B]){let Q=n.codePointAt(B+1);B+=65535<Q?3:2;Q<M&&c.raise("Invalid character range",c.start);ta(c,w,M,Q+1)}else ta(c,w,M,M+1)}c.next();return new $c(f,
w.sort((B,M)=>B[0]-M[0]),h)}if("at"!=c.type||"specialize"!=c.value&&"extend"!=c.value){if("["==c.type)return h=Fa(c,new fa(f,"_anon")),h.params.length&&c.raise("Inline rules can't have parameters",h.start),new $a(f,h);h=P(c);if("["==c.type||"{"==c.type)return h=Fa(c,h),h.params.length&&c.raise("Inline rules can't have parameters",h.start),new $a(f,h);n=null;c.eat(".")&&(n=h,h=P(c));return new ka(f,n,h,Va(c))}{let {start:w,value:B}=c;c.next();f=Ja(c);c.expect("\x3c");n=E(c);c.eat(",")?h=E(c):n instanceof
Sb?h=n:c.raise(`@${B} requires two arguments when its first argument isn't a literal string`);c.expect("\x3e");return new Ka(w,B,f,n,h)}}function Va(c){let f=[];if(c.eat("\x3c"))for(;!c.eat("\x3e");)f.length&&c.expect(","),f.push(E(c));return f}function ta(c,f,h,n){f.every(([w,B])=>B<=h||w>=n)||c.raise("Overlapping character range",c.start);f.push([h,n])}function ea(c){let f=c.start,h=Ma(c);for(;;){let n=c.type;if(c.eat("*")||c.eat("?")||c.eat("+"))h=new mc(f,h,n);else return h}}function q(c){return"}"==
c.type||")"==c.type||"|"==c.type||"/"==c.type||"/\\"==c.type||"{"==c.type||","==c.type||"\x3e"==c.type}function y(c){let f=c.start,h=[],n=[Ib];do{for(;;){let w=c.start,B;if(c.eat("~"))B="ambig";else if(c.eat("!"))B="prec";else break;n[n.length-1]=n[n.length-1].concat(new Rb(w,P(c),B))}if(q(c))break;h.push(ea(c));n.push(Ib)}while(!q(c));return 1==h.length&&n.every(w=>0==w.length)?h[0]:new hb(f,h,n)}function E(c){let f=c.start;var h=y(c);if(!c.eat("|"))return h;h=[h];do h.push(y(c));while(c.eat("|"));
return new jb(f,h)}function P(c){"id"!=c.type&&c.unexpected();let f=c.start,h=c.value;c.next();return new fa(f,h)}function Z(c){let f=c.start;c.next();c.expect("{");let h=[];for(;!c.eat("}");){h.length&&c.expect(",");let n=Ma(c);n instanceof Sb||n instanceof ka?h.push(n):c.raise("Invalid expression in token precedences",n.start)}return new Fb(f,h)}function l(c){let f=c.start;c.next();c.expect("{");let h=Ma(c);h instanceof Sb||h instanceof ka||c.raise("Invalid expression in token conflict",h.start);
c.eat(",");let n=Ma(c);n instanceof Sb||n instanceof ka||c.raise("Invalid expression in token conflict",n.start);c.expect("}");return new bc(f,h,n)}function p(c){let f=[];for(c.expect("{");!c.eat("}");){f.length&&c.eat(",");let h=P(c),n=Ja(c);f.push({id:h,props:n})}return f}function t(c,f){let h=P(c);c.expect("id","from");let n=c.expect("string");return new oc(f,h,n,p(c))}function r(c,f,h){c.expect("{");let n=E(c);c.expect("}");let w=P(c);c.expect("id","from");let B=c.expect("string");return new K(h,
f,n,w,B,p(c))}function v(c,f){let h=P(c),n=c.eat("id","as")?P(c):h,w=null;c.eat("id","from")?w=c.expect("string"):c.expect("id","empty");return new R(f,n,h,w)}function A(c,f){let h=P(c),n=c.eat("id","as")?P(c):h;c.expect("id","from");c=c.expect("string");return new qa(f,n,h,c)}function C(c){let f=/\\(?:u\{([\da-f]+)\}|u([\da-f]{4})|x([\da-f]{2})|([ntbrf0])|(.))|./yig,h="",n;for(;n=f.exec(c);){let [w,B,M,Q,V,da]=n;h=B||M||Q?h+String.fromCodePoint(parseInt(B||M||Q,16)):V?h+("n"==V?"\n":"t"==V?"\t":
"0"==V?"\x00":"r"==V?"\r":"f"==V?"\f":"\b"):da?h+da:h+w}return h}function z(c,f){return(c<<5)+c+f}function x(c){let f=zb.none;for(let h of c)f=f.join(h.conflicts());return f}function D(c,f){for(let h of c)if(h.rule.name.repeated)for(let n of f)if(n.rule.name==h.rule.name){if(h.rule.isRepeatWrap&&2==h.pos)return 1;if(n.rule.isRepeatWrap&&2==n.pos)return-1}return 0}function I(c,f){return c<f?-1:c>f?1:0}function O(c,f,h,n){let w=[];for(f+=1;f<c.parts.length;f++){let B=c.parts[f],M=!1;if(B.terminal)Na(B,
w);else for(let Q of n[B.name])null==Q?M=!0:Na(Q,w);if(!M)return w}for(let B of h)Na(B,w);return w}function Y(c,f){if(c.length!=f.length)return!1;for(let h=0;h<c.length;h++)if(!c[h].eq(f[h]))return!1;return!0}function ba(c,f){if(c.length!=f.length)return!1;for(let h=0;h<c.length;h++)if(c[h]!=f[h])return!1;return!0}function na(c){let f=5381;for(let h of c)f=z(f,h.hash);return f}function Ea(c,f){function h(M,Q,V,da,pa){for(let ya of M.rules){M=n.find(ua=>ua.rule==ya);M||(M=(M=c.find(ua=>0==ua.pos&&
ua.rule==ya))?new Bc(ya,0,M.ahead.slice(),M.ambigAhead,M.skipAhead,M.via):new Bc(ya,0,[],Rc,da,pa),n.push(M));if(M.skipAhead!=da)throw new sc("Inconsistent skip sets after "+pa.trail());M.ambigAhead=ma(M.ambigAhead,V);for(let ua of Q)M.ahead.includes(ua)||(M.ahead.push(ua),M.rule.parts.length&&!M.rule.parts[0].terminal&&Na(M,w))}}let n=[],w=[];for(var B of c){let M=B.next;M&&!M.terminal&&h(M,O(B.rule,B.pos,B.ahead,f),B.conflicts(B.pos+1).ambigGroups,B.pos==B.rule.parts.length-1?B.skipAhead:B.rule.skip,
B)}for(;w.length;)B=w.pop(),h(B.rule.parts[0],O(B.rule,0,B.ahead,f),ma(B.rule.conflicts[1].ambigGroups,1==B.rule.parts.length?B.ambigAhead:Rc),B.skipAhead,B);f=c.slice();for(let M of n)M.ahead.sort((Q,V)=>Q.hash-V.hash),M.finish(),B=c.findIndex(Q=>0==Q.pos&&Q.rule==M.rule),-1<B?f[B]=M:f.push(M);return f.sort((M,Q)=>M.cmp(Q))}function Na(c,f){f.includes(c)||f.push(c)}function bb(c){let f=Object.create(null);for(var h of c.terms)h.terminal||(f[h.name]=[]);for(;;){h=!1;for(let n of c.terms)if(!n.terminal)for(let w of n.rules){let B=
f[n.name],M=!1,Q=B.length;for(let V of w.parts){M=!0;if(V.terminal)Na(V,B);else for(let da of f[V.name])null==da?M=!1:Na(da,B);if(M)break}M||Na(null,B);B.length>Q&&(h=!0)}if(!h)return f}}function Wa(c,f){function h(n,w){let B=[];for(let M=w.via;!M.eqSimple(n);M=M.via)B.push(M);if(!B.length)return"";B.unshift(w);return B.reverse().map((M,Q)=>"\n"+"  ".repeat(Q+1)+(M==w?"":"via ")+M).join("")}if(c.eqSimple(f))return"";for(let n=c;n;n=n.via)for(let w=f;w;w=w.via)if(n.eqSimple(w))return"\nShared origin: "+
n+h(n,c)+h(n,f);return""}function fb(c,f,h){function n(ua,Sa){if(0==ua.length)return null;let Ca=na(ua);var Ya=B[Ca];let Gb;for(var ec of ua)if(!Gb)Gb=ec.skip;else if(Gb!=ec.skip)throw new sc("Inconsistent skip sets after "+ec.trail());if(Ya)for(let Ab of Ya)if(Y(ua,Ab.set)){if(Ab.state.skip!=Gb)throw new sc("Inconsistent skip sets after "+Ab.set[0].trail());return Ab.state}Ya=Ea(ua,h);ec=na(Ya);let ib;if(!Sa)for(let Ab of w)Ab.hash==ec&&Ab.hasSet(Ya)&&(ib=Ab);ib||(ib=new ad(w.length,Ya,0,Gb,ec,Sa),
w.push(ib));(B[Ca]||(B[Ca]=[])).push(new jd(ua,ib));return ib}let w=[],B={};for(var M of f){const ua=M.rules.length?M.rules[0].skip:c.names["%noskip"];n(M.rules.map(Sa=>(new Bc(Sa,0,[c.eof],Rc,ua,null)).finish()),M)}f=[];for(M=0;M<w.length;M++){let ua=w[M];var Q=[];let Sa=[];var V=[];for(let Ca of ua.set)if(Ca.pos==Ca.rule.parts.length)Ca.rule.name.top||V.push(Ca);else{var da=Ca.rule.parts[Ca.pos],pa=Q.indexOf(da);0>pa?(Q.push(da),Sa.push([Ca])):Sa[pa].push(Ca)}for(da=0;da<Q.length;da++){pa=Q[da];
var ya=Sa[da].map(Ca=>Ca.advance());pa.terminal?(ya=kb(ya),(ya=n(ya))&&ua.addAction(new dc(pa,ya),Sa[da],f)):(ya=n(ya))&&ua.goto.push(new dc(pa,ya))}Q=!1;for(let Ca of V)for(let Ya of Ca.ahead)V=ua.actions.length,ua.addAction(new tc(Ya,Ca.rule),[Ca],f),ua.actions.length==V&&(Q=!0);if(Q)for(V=0;V<ua.goto.length;V++)h[ua.goto[V].term.name].some(Ca=>ua.actions.some(Ya=>Ya.term==Ca&&Ya instanceof dc))||ua.goto.splice(V--,1)}if(f.length)throw new sc(f.map(ua=>ua.error).join("\n\n"));for(let ua of w)ua.finish();
return w}function kb(c){let f=null,h=1;for(let n of c){let w=n.rule.conflicts[n.pos-1].cut;if(!(w<h)){if(!f||w>h)h=w,f=[];f.push(n)}}return f||c}function gb(c,f,h){for(let n of c.goto)for(let w of f.goto)if(n.term==w.term&&h[n.target.id]!=h[w.target.id])return!1;a:for(let n of c.actions){c=!1;for(let w of f.actions)if(w.term==n.term){if(n instanceof dc?w instanceof dc&&h[n.target.id]==h[w.target.id]:w.eq(n))continue a;c=!0}if(c)return!1}return!0}function ob(c,f,h){return gb(c,f,h)&&gb(f,c,h)}function sb(c,
f){let h=[];for(var n of c){let w=f[n.id];h[w]||(h[w]=new ad(w,n.set,0,n.skip,n.hash,n.startRule),h[w].tokenGroup=n.tokenGroup,h[w].defaultReduce=n.defaultReduce)}for(let w of c){c=h[f[w.id]];c.flags|=w.flags;for(n=0;n<w.actions.length;n++){let B=w.actions[n].map(f,h);c.actions.some(M=>M.eq(B))||(c.actions.push(B),c.actionPositions.push(w.actionPositions[n]))}for(let B of w.goto){let M=B.map(f,h);c.goto.some(Q=>Q.eq(M))||c.goto.push(M)}}return h}function wb(c,f){if(c.length!=f.length)return!1;for(let h=
0;h<c.length;h++)if(!c[h].eqSimple(f[h]))return!1;return!0}function mb(c){function f(V,da){let pa=n[V],ya=c[pa.members[da]],ua=pa.members.pop();da!=pa.members.length&&(pa.members[da]=ua);for(V+=1;V<n.length;V++)if(h[ya.id]=V,n[V].origin==pa.origin&&n[V].members.every(Sa=>ob(ya,c[Sa],h))){n[V].members.push(ya.id);return}h[ya.id]=n.length;n.push(new kd(pa.origin,ya.id))}let h=[],n=[];a:for(var w=0;w<c.length;w++){var B=c[w];if(!B.startRule)for(var M=0;M<n.length;M++){var Q=n[M];let V=c[Q.members[0]];
if(B.tokenGroup==V.tokenGroup&&B.skip==V.skip&&!V.startRule&&wb(B.set,V.set)){Q.members.push(w);h.push(M);continue a}}h.push(n.length);n.push(new kd(n.length,w))}for(;;){w=!1;for(let V=0,da=n.length;V<da;V++)for(B=n[V],M=0;M<B.members.length-1;M++)for(Q=M+1;Q<B.members.length;Q++)ob(c[B.members[M]],c[B.members[Q]],h)||(w=!0,f(V,Q--));if(!w)return sb(c,h)}}function rb(c){for(;;){let h=[],n=!1,w=[];for(let B=0;B<c.length;B++){let M=c[B];var f=w.findIndex(Q=>M.eq(Q));if(0>f)h[B]=w.length,w.push(M);else{h[B]=
f;n=!0;f=w[f];let Q=null;for(let V of M.set)f.set.some(da=>da.eqSimple(V))||(Q||(Q=[])).push(V);Q&&(f.set=Q.concat(f.set).sort((V,da)=>V.cmp(da)))}}if(!n)return c;for(let B of w)B.defaultReduce||(B.actions=B.actions.map(M=>M.map(h,w)),B.goto=B.goto.map(M=>M.map(h,w)));for(c=0;c<w.length;c++)w[c].id=c;c=w}}function Eb(c,f=65535){if(c>f)throw Error("Trying to encode a number that's too big: "+c);if(65535==c)return String.fromCharCode(126);f="";for(var h=46;;h=0){let n=c%46;c-=n;h=n+h+32;34<=h&&h++;
92<=h&&h++;h=String.fromCharCode(h);f=h+f;if(0==c)break;c/=46}return f}function xb(c,f=65535){let h='"'+Eb(c.length,4294967295);for(let n=0;n<c.length;n++)h+=Eb(c[n],f);return h+'"'}function nb(...c){return new qc(c,null)}function yb(c,f,h){let n=c.props[f];if(!n||0>n.split(" ").indexOf(h))c.props[f]=n?n+" "+h:h}function ac(c){let f=Object.create(null);for(let {value:h,term:n,type:w}of c)f[h]=n.id<<1|("specialize"==w?0:1);return f}function vb(c,f,h=c.parts.length){return c.name.id|65536|(c.isRepeatWrap&&
h==c.parts.length?131072:0)|(f.some(n=>n.rule==c.name)?262144:0)|h<<19}function Yb(c,f){let h=Object.create(null),n=[],w=B=>{h[B.id]||(h[B.id]=!0,n.push(B))};for(let B of c)B.startRule&&f.includes(B.startRule)&&w(B);for(c=0;c<n.length;c++){for(let B of n[c].actions)B instanceof dc&&w(B.target);for(let B of n[c].goto)w(B.target)}return B=>!h[B]}function Qb(c){let f={},h=0;for(var n of c)for(var w of n.goto)h=Math.max(w.term.id,h),c=f[w.term.id]||(f[w.term.id]={}),(c[w.target.id]||(c[w.target.id]=[])).push(n.id);
n=new Wc;w=[];c=h+2;for(let B=0;B<=h;B++){let M=f[B];if(!M){w.push(1);continue}let Q=[],V=Object.keys(M);for(let da of V){let pa=M[da];Q.push((da==V[V.length-1]?1:0)+(pa.length<<1));Q.push(+da);for(let ya of pa)Q.push(ya)}w.push(n.storeArray(Q)+c)}if(w.some(B=>65535<B))throw new sc("Goto table too large");return Uint16Array.from([h+1,...w,...n.data])}function U(c,f){c.includes(f)||c.push(f)}function G(c){let f=Object.create(null);for(let h of c){c=1<<h.id;for(let n of h.tokens)f[n.id]=(f[n.id]||0)|
c}return f}function J(c,f){function h(w){if(w instanceof hb){let B=w.exprs.indexOf(f);-1<B&&B<w.exprs.length-1&&(n=w.exprs[B+1])}return w}let n;for(let w of c.rules)w.expr.walk(h);for(let w of c.topRules)w.expr.walk(h);return n}function L(c,f,h){function n(B,M){return B.actions.some(Q=>Q.term==M)||h[f.skipRules.indexOf(B.skip)].startTokens.includes(M)}let w=Object.create(null);return(B,M)=>{B.id<M.id&&([B,M]=[M,B]);let Q=B.id|M.id<<16,V=w[Q];return null!=V?V:w[Q]=c.some(da=>n(da,B)&&n(da,M))}}function S(c){let f=
0,h=[];for(let [n,w]of c)n>f&&h.push([f,n]),f=w;1114111>=f&&h.push([f,1114112]);return h}function W(c,f,h,n){if(55296>h&&1114112==n)c.edge(h,65535,f);else if(65536>h&&(55296>h&&c.edge(h,Math.min(n,55296),f),57344<n&&c.edge(Math.max(h,57344),Math.min(n,65535),f),h=65536),!(65536>n)){h=String.fromCodePoint(h);var w=String.fromCodePoint(n-1);n=h.charCodeAt(0);h=h.charCodeAt(1);var B=w.charCodeAt(0);w=w.charCodeAt(1);if(n==B)B=new Ob,c.edge(n,n+1,B),B.edge(h,w+1,f);else{let M=n,Q=B;if(56320<h){M++;let V=
new Ob;c.edge(n,n+1,V);V.edge(h,57344,f)}57343>w&&(Q--,n=new Ob,c.edge(B,B+1,n),n.edge(56320,w+1,f));M<=Q&&(n=new Ob,c.edge(M,Q+1,n),n.edge(56320,57344,f))}}}function ca(c){return c instanceof hb&&0==c.exprs.length}function ia(c,f){let h=Object.create(null);for(let n of f){c.unique(n.id);let {name:w,props:B,dialect:M}=c.nodeInfo(n.props,"d",n.id.name);f=c.makeTerminal(n.id.name,w,B);null!=M&&(c.tokens.byDialect[M]||(c.tokens.byDialect[M]=[])).push(f);c.namedTerms[n.id.name]=h[n.id.name]=f}return h}
function sa(c,f,h){f=f[h.id.name];if(!f)return null;h.args.length&&c.raise("External tokens cannot take arguments",h.args[0].start);c.used(h.id.name);return f}function za(c,f,h){let n=c.findIndex(w=>w.term==f);0>n?c.push({term:f,after:h}):c[n]={term:f,after:c[n].after.concat(h)}}function Ga(c,f){for(let n=0;;n++){let w=Object.create(null),B;if(0==n)for(let Q of c)if(Q.name.inline&&!w[Q.name.name]){let V=c.filter(da=>da.name==Q.name);V.some(da=>da.parts.includes(Q.name))||(B=w[Q.name.name]=V)}for(let Q=
0;Q<c.length;Q++){let V=c[Q];V.name.interesting||V.parts.includes(V.name)||!(3>V.parts.length)||f.includes(V.name)||1!=V.parts.length&&!c.every(da=>da.skip==V.skip||!da.parts.includes(V.name))||V.parts.some(da=>!!w[da.name])||c.some((da,pa)=>pa!=Q&&da.name==V.name)||(B=w[V.name.name]=[V])}if(!B)return c;let M=[];for(let Q of c){var h=function(V,da,pa){if(V==Q.parts.length)M.push(new Pc(Q.name,pa,da,Q.skip));else{var ya=Q.parts[V],ua=w[ya.name];if(ua)for(let Sa of ua)h(V+1,da.slice(0,da.length-1).concat(da[V].join(Sa.conflicts[0])).concat(Sa.conflicts.slice(1,
Sa.conflicts.length-1)).concat(Q.conflicts[V+1].join(Sa.conflicts[Sa.conflicts.length-1])),pa.concat(Sa.parts));else h(V+1,da.concat(Q.conflicts[V+1]),pa.concat(ya))}};w[Q.name.name]||(Q.parts.some(V=>!!w[V.name])?h(0,[Q.conflicts[0]],[]):M.push(Q))}c=M}}function Ba(c){let f=Object.create(null);var h;for(let n=0;n<c.length;){let w=n,B=c[n++].name;for(;n<c.length&&c[n].name==B;)n++;let M=n-w;if(!B.interesting)for(let Q=n;Q<c.length;){let V=Q,da=c[Q++].name;for(;Q<c.length&&c[Q].name==da;)Q++;if(Q-
V!=M||da.interesting)continue;let pa=!0;for(let ya=0;ya<M&&pa;ya++)0!=c[w+ya].cmpNoName(c[V+ya])&&(pa=!1);pa&&(h=f[B.name]=da)}}if(!h)return c;h=[];for(let n of c)f[n.name.name]||h.push(n.parts.every(w=>!f[w.name])?n:new Pc(n.name,n.parts.map(w=>f[w.name]||w),n.conflicts,n.skip));return h}function Ra(c,f){return Ba(Ga(c,f))}function Ta(c){return c.props.some(f=>f.at&&"export"==f.name)}var ab=aa(13);"use strict";Object.defineProperty(F,"__esModule",{value:!0});var cb=aa(14);class Ua{constructor(c){this.start=
c}}class tb extends Ua{constructor(c,f,h,n,w,B,M,Q,V,da,pa,ya,ua){super(c);this.rules=f;this.topRules=h;this.tokens=n;this.externalTokens=w;this.externalSpecializers=B;this.precedences=M;this.mainSkip=Q;this.scopedSkip=V;this.dialects=da;this.grammars=pa;this.externalProps=ya;this.autoDelim=ua}toString(){return Object.values(this.rules).join("\n")}}class Bb extends Ua{constructor(c,f,h,n,w){super(c);this.id=f;this.props=h;this.params=n;this.expr=w}toString(){return this.id.name+(this.params.length?
`<${this.params.join()}>`:"")+" -\x3e "+this.expr}}class vc extends Ua{constructor(c,f){super(c);this.items=f}}class Fb extends Ua{constructor(c,f){super(c);this.items=f}}class bc extends Ua{constructor(c,f,h){super(c);this.a=f;this.b=h}}class ic extends Ua{constructor(c,f,h,n,w){super(c);this.precedences=f;this.conflicts=h;this.rules=n;this.literals=w}}class jc extends Ua{constructor(c,f,h){super(c);this.literal=f;this.props=h}}class oc extends Ua{constructor(c,f,h,n){super(c);this.id=f;this.source=
h;this.tokens=n}}class K extends Ua{constructor(c,f,h,n,w,B){super(c);this.type=f;this.token=h;this.id=n;this.source=w;this.tokens=B}}class R extends Ua{constructor(c,f,h,n){super(c);this.id=f;this.externalID=h;this.source=n}}class qa extends Ua{constructor(c,f,h,n){super(c);this.id=f;this.externalID=h;this.source=n}}class fa extends Ua{constructor(c,f){super(c);this.name=f}toString(){return this.name}}class la extends Ua{walk(c){return c(this)}eq(c){return!1}}la.prototype.prec=10;class ka extends la{constructor(c,
f,h,n){super(c);this.namespace=f;this.id=h;this.args=n}toString(){return this.id.name+(this.args.length?`<${this.args.join()}>`:"")}eq(c){return(this.namespace?null!=c.namespace&&c.namespace.name==this.namespace.name:!c.namespace)&&this.id.name==c.id.name&&Ia(this.args,c.args)}walk(c){let f=Ha(this.args,c);return c(f==this.args?this:new ka(this.start,this.namespace,this.id,f))}}class Ka extends la{constructor(c,f,h,n,w){super(c);this.type=f;this.props=h;this.token=n;this.content=w}toString(){return`@${this.type}[${this.props.join(",")}]<${this.token}, ${this.content}>`}eq(c){return this.type==
c.type&&Kc.eqProps(this.props,c.props)&&Oa(this.token,c.token)&&Oa(this.content,c.content)}walk(c){let f=this.token.walk(c),h=this.content.walk(c);return c(f==this.token&&h==this.content?this:new Ka(this.start,this.type,this.props,f,h))}}class $a extends la{constructor(c,f){super(c);this.rule=f}toString(){let c=this.rule;return`${c.id}${c.props.length?`[${c.props.join(",")}]`:""} { ${c.expr} }`}eq(c){let f=this.rule;c=c.rule;return Oa(f.expr,c.expr)&&f.id.name==c.id.name&&Kc.eqProps(f.props,c.props)}walk(c){let f=
this.rule,h=f.expr.walk(c);return c(h==f.expr?this:new $a(this.start,new Bb(f.start,f.id,f.props,[],h)))}}class jb extends la{constructor(c,f){super(c);this.exprs=f}toString(){return this.exprs.map(c=>Pa(c,this)).join(" | ")}eq(c){return Ia(this.exprs,c.exprs)}walk(c){let f=Ha(this.exprs,c);return c(f==this.exprs?this:new jb(this.start,f))}}jb.prototype.prec=1;class hb extends la{constructor(c,f,h){super(c);this.exprs=f;this.markers=h}toString(){return this.exprs.map(c=>Pa(c,this)).join(" ")}eq(c){return Ia(this.exprs,
c.exprs)&&this.markers.every((f,h)=>{let n=c.markers[h];return f.length==n.length&&f.every((w,B)=>w.eq(n[B]))})}walk(c){let f=Ha(this.exprs,c);return c(f==this.exprs?this:new hb(this.start,f,this.markers))}}hb.prototype.prec=2;class Rb extends Ua{constructor(c,f,h){super(c);this.id=f;this.type=h}toString(){return("ambig"==this.type?"~":"!")+this.id.name}eq(c){return this.id.name==c.id.name&&this.type==c.type}}class mc extends la{constructor(c,f,h){super(c);this.expr=f;this.kind=h}toString(){return Pa(this.expr,
this)+this.kind}eq(c){return Oa(this.expr,c.expr)&&this.kind==c.kind}walk(c){let f=this.expr.walk(c);return c(f==this.expr?this:new mc(this.start,f,this.kind))}}mc.prototype.prec=3;class Sb extends la{constructor(c,f){super(c);this.value=f}toString(){return JSON.stringify(this.value)}eq(c){return this.value==c.value}}class $c extends la{constructor(c,f,h){super(c);this.ranges=f;this.inverted=h}toString(){return`[${this.inverted?"^":""}${this.ranges.map(([c,f])=>String.fromCodePoint(c)+(f==c+1?"":
"-"+String.fromCodePoint(f)))}]`}eq(c){return this.inverted==c.inverted&&this.ranges.length==c.ranges.length&&this.ranges.every(([f,h],n)=>{let [w,B]=c.ranges[n];return f==w&&h==B})}}class Oc extends la{constructor(c){super(c)}toString(){return"_"}eq(){return!0}}class Kc extends Ua{constructor(c,f,h,n){super(c);this.at=f;this.name=h;this.value=n}eq(c){return this.name==c.name&&this.value.length==c.value.length&&this.value.every((f,h)=>f.value==c.value[h].value&&f.name==c.value[h].name)}toString(){let c=
(this.at?"@":"")+this.name;if(this.value.length){c+="\x3d";for(let {name:f,value:h}of this.value)c+=f?`{${f}}`:/[^\w-]/.test(h)?JSON.stringify(h):h}return c}static eqProps(c,f){return c.length==f.length&&c.every((h,n)=>h.eq(f[n]))}}class pb extends Ua{constructor(c,f,h){super(c);this.value=f;this.name=h}}class sc extends Error{}let Dc=0;class Cc{constructor(c,f,h,n={}){this.name=c;this.flags=f;this.nodeName=h;this.props=n;this.hash=++Dc;this.id=-1;this.rules=[]}toString(){return this.name}get nodeType(){return this.top||
null!=this.nodeName||Aa(this.props)||this.repeated}get terminal(){return 0<(this.flags&1)}get eof(){return 0<(this.flags&4)}get error(){return"error"in this.props}get top(){return 0<(this.flags&2)}get interesting(){return 0<this.flags||null!=this.nodeName}get repeated(){return 0<(this.flags&16)}set preserve(c){this.flags=c?this.flags|8:this.flags&-9}get preserve(){return 0<(this.flags&8)}set inline(c){this.flags=c?this.flags|32:this.flags&-33}get inline(){return 0<(this.flags&32)}cmp(c){return this.hash-
c.hash}}class pc{constructor(){this.terms=[];this.names=Object.create(null);this.tops=[];this.eof=this.term("␄",null,5);this.error=this.term("⚠","⚠",8)}term(c,f,h=0,n={}){f=new Cc(c,h,f,n);this.terms.push(f);return this.names[c]=f}makeTop(c,f){c=this.term("@top",c,2,f);this.tops.push(c);return c}makeTerminal(c,f,h={}){return this.term(c,f,1,h)}makeNonTerminal(c,f,h={}){return this.term(c,f,0,h)}makeRepeat(c){return this.term(c,null,16)}uniqueName(c){for(let f=0;;f++){let h=f?`${c}-${f}`:c;if(!this.names[h])return h}}finish(c){for(var f of c)f.name.rules.push(f);
this.terms=this.terms.filter(B=>B.terminal||B.preserve||c.some(M=>M.name==B||M.parts.includes(B)));f={};let h=[this.error];this.error.id=0;let n=1;for(var w of this.terms)0>w.id&&w.nodeType&&!w.repeated&&(w.id=n++,h.push(w));w=n;for(let B of this.terms)B.repeated&&(B.id=n++,h.push(B));this.eof.id=n++;for(let B of this.terms)0>B.id&&(B.id=n++),B.name&&(f[B.id]=B.name);if(65534<=n)throw new sc("Too many terms");return{nodeTypes:h,names:f,minRepeatTerm:w,maxTerm:n-1}}}const xd=[];class zb{constructor(c,
f=xd,h=0){this.precedence=c;this.ambigGroups=f;this.cut=h}join(c){return this==zb.none||this==c?c:c==zb.none?this:new zb(Math.max(this.precedence,c.precedence),ma(this.ambigGroups,c.ambigGroups),Math.max(this.cut,c.cut))}cmp(c){return this.precedence-c.precedence||wa(this.ambigGroups,c.ambigGroups,(f,h)=>f<h?-1:f>h?1:0)||this.cut-c.cut}}zb.none=new zb(0);let hd=0;class Pc{constructor(c,f,h,n){this.name=c;this.parts=f;this.conflicts=h;this.skip=n;this.id=hd++}cmp(c){return this.id-c.id}cmpNoName(c){return this.parts.length-
c.parts.length||this.skip.hash-c.skip.hash||this.parts.reduce((f,h,n)=>f||h.cmp(c.parts[n]),0)||wa(this.conflicts,c.conflicts,(f,h)=>f.cmp(h))}toString(){return this.name+" -\x3e "+this.parts.join(" ")}get isRepeatWrap(){return this.name.repeated&&2==this.parts.length&&this.parts[0]==this.name}sameReduce(c){return this.name==c.name&&this.parts.length==c.parts.length&&this.isRepeatWrap==c.isRepeatWrap}}class Ec{constructor(c,f,h){this.from=c;this.to=f;this.target=h}toString(){return`-> ${this.target.id}[label=${JSON.stringify(0>
this.from?"ε":Qa(this.from)+(this.to>this.from+1?"-"+Qa(this.to-1):""))}]`}}let id=1;class Ob{constructor(c=[],f=id++){this.accepting=c;this.id=f;this.edges=[]}edge(c,f,h){this.edges.push(new Ec(c,f,h))}nullEdge(c){this.edge(-1,-1,c)}compile(){function c(n){let w=f[eb(n)]=new Ob(n.reduce((M,Q)=>ma(M,Q.accepting),[]),h++),B=[];for(let M of n)for(let Q of M.edges)0<=Q.from&&B.push(Q);n=ra(B);for(let M of n)n=M.targets.sort((Q,V)=>Q.id-V.id),w.edge(M.from,M.to,f[eb(n)]||c(n));return w}let f=Object.create(null),
h=0;return c(this.closure().sort((n,w)=>n.id-w.id))}closure(){function c(h){if(!f.includes(h)){(h.edges.some(n=>0<=n.from)||0<h.accepting.length&&!h.edges.some(n=>{a:{var w=h.accepting;n=n.target.accepting;if(w.length!=n.length)w=!1;else{for(let B=0;B<w.length;B++)if(w[B]!=n[B]){w=!1;break a}w=!0}}return w}))&&f.push(h);for(let n of h.edges)0>n.from&&c(n.target)}}let f=[];c(this);return f}findConflicts(c){function f(w,B,M,Q,V){w.id<B.id&&([w,B]=[B,w],M=-M);let da=h.find(pa=>pa.a==w&&pa.b==B);da?da.soft!=
M&&(da.soft=0):h.push(new Ic(w,B,M,oa(Q),V&&oa(V)))}let h=[],n=this.cycleTerms();this.reachable((w,B)=>{if(0!=w.accepting.length){for(let M=0;M<w.accepting.length;M++)for(let Q=M+1;Q<w.accepting.length;Q++)f(w.accepting[M],w.accepting[Q],0,B);w.reachable((M,Q)=>{if(M!=w)for(let V of M.accepting){M=n.includes(V);for(let da of w.accepting)V!=da&&f(V,da,M||n.includes(da)||!c(V,da)?0:1,B,B.concat(Q))}})}});return h}cycleTerms(){let c=[];this.reachable(n=>{for(let {target:w}of n.edges)c.push(n,w)});var f=
new Map;let h=[];for(let n=0;n<c.length;){let w=c[n++],B=c[n++],M=f.get(w);M||f.set(w,M=[]);if(!M.includes(B))if(w==B)h.includes(w)||h.push(w);else{for(let Q of M)c.push(w,Q);M.push(B)}}f=[];for(let n of h)for(let w of n.accepting)f.includes(w)||f.push(w);return f}reachable(c){let f=[],h=[];(function B(w){c(w,h);f.push(w);for(let M of w.edges)f.includes(M.target)||(h.push(M),B(M.target),h.pop())})(this)}toString(){let c="digraph {\n";this.reachable(f=>{f.accepting.length&&(c+=`  ${f.id} [label=${JSON.stringify(f.accepting.join())}];\n`);
for(let h of f.edges)c+=`  ${f.id} ${h};\n`});return c+"}"}toArray(c,f){let h=[],n=[];this.reachable(w=>{let B=n.length,M=B+3+2*w.accepting.length;h[w.id]=B;n.push(w.stateMask(c),M,w.edges.length);w.accepting.sort((Q,V)=>f.indexOf(Q.id)-f.indexOf(V.id));for(let Q of w.accepting)n.push(Q.id,c[Q.id]||65535);for(let Q of w.edges)n.push(Q.from,Q.to,-Q.target.id-1)});for(let w=0;w<n.length;w++)0>n[w]&&(n[w]=h[-n[w]-1]);if(65536<n.length)throw new sc("Tokenizer tables too big to represent with 16-bit offsets.");
return Uint16Array.from(n)}stateMask(c){let f=0;this.reachable(h=>{for(let n of h.accepting)f|=c[n.id]||65535});return f}}class Ic{constructor(c,f,h,n,w){this.a=c;this.b=f;this.soft=h;this.exampleA=n;this.exampleB=w}}class yd{constructor(c,f,h){this.from=c;this.to=f;this.targets=h}}let nc=/[\w_-]+/gy;try{nc=/[\p{Alphabetic}\d_-]+/ugy}catch(c){}const Ib=[];class Db{constructor(c,f=null){this.string=c;this.fileName=f;this.type="sof";this.value=null;this.end=this.start=0;this.next()}lineInfo(c){for(let f=
1,h=0;;){let n=this.string.indexOf("\n",h);if(-1<n&&n<c)++f,h=n+1;else return{line:f,ch:c-h}}}message(c,f=-1){let h=this.fileName||"";-1<f&&(f=this.lineInfo(f),h+=(h?" ":"")+f.line+":"+f.ch);return h?c+` (${h})`:c}raise(c,f=-1){throw new sc(this.message(c,f));}match(c,f){return(f=f.exec(this.string.slice(c)))?c+f[0].length:-1}next(){let c=this.match(this.end,/^(\s|\/\/.*|\/\*[^]*?\*\/)*/);if(c==this.string.length)return this.set("eof",null,c,c);var f=this.string[c];if('"'==f)return f=this.match(c+
1,/^(\\.|[^"])*"/),-1==f&&this.raise("Unterminated string literal",c),this.set("string",C(this.string.slice(c+1,f-1)),c,f);if("'"==f)return f=this.match(c+1,/^(\\.|[^'])*'/),-1==f&&this.raise("Unterminated string literal",c),this.set("string",C(this.string.slice(c+1,f-1)),c,f);if("@"==f)return nc.lastIndex=c+1,(f=nc.exec(this.string))?this.set("at",f[0],c,c+1+f[0].length):this.raise("@ without a name",c);if("$"!=f&&"!"!=f||"["!=this.string[c+1]){if(/[\[\]()!~+*?{}<>\.,|:$=]/.test(f))return this.set(f,
null,c,c+1);{nc.lastIndex=c;let h=nc.exec(this.string);return h?this.set("id",h[0],c,c+h[0].length):this.raise("Unexpected character "+JSON.stringify(f),c)}}f=this.match(c+2,/^(?:\\.|[^\]])*\]/);-1==f&&this.raise("Unterminated character set",c);return this.set("set",this.string.slice(c+2,f-1),c,f)}set(c,f,h,n){this.type=c;this.value=f;this.start=h;this.end=n}eat(c,f=null){if(this.type!=c||null!=f&&this.value!==f)return!1;this.next();return!0}unexpected(){return this.raise(`Unexpected token '${this.string.slice(this.start,
this.end)}'`,this.start)}expect(c,f=null){let h=this.value;(this.type!=c||null!=f&&h!==f)&&this.unexpected();this.next();return h}parse(){{var c=this.start;let B=[];var f=null,h=null;let M=null,Q=[],V=[],da=[],pa=[],ya=[],ua=[],Sa=[],Ca=!1;for(;"eof"!=this.type;){var n=this.start;if("at"==this.type&&"top"==this.value)this.next(),"id"!=this.type&&this.raise("Top rules must have a name",this.start),n=P(this),Sa.length&&"@top"===n.name&&this.raise("Unnamed secondary @top declaration",this.start),Sa.push(Fa(this,
n));else if("at"==this.type&&"tokens"==this.value)if(h)this.raise("Multiple @tokens declaractions",this.start);else{{h=this.start;this.next();this.expect("{");n=[];var w=[];let Ya=[],Gb=[];for(;!this.eat("}");)"at"==this.type&&"precedence"==this.value?Ya.push(Z(this)):"at"==this.type&&"conflict"==this.value?Gb.push(l(this)):"string"==this.type?w.push(new jc(this.start,this.expect("string"),Ja(this))):n.push(Fa(this));h=new ic(h,Ya,Gb,n,w)}}else if(this.eat("at","external"))this.eat("id","tokens")?
da.push(t(this,n)):this.eat("id","grammar")?ya.push(v(this,n)):this.eat("id","prop")?ua.push(A(this,n)):this.eat("id","extend")?pa.push(r(this,"extend",n)):this.eat("id","specialize")?pa.push(r(this,"specialize",n)):this.unexpected();else if(this.eat("at","dialects"))for(this.expect("{"),n=!0;!this.eat("}");n=!1)n||this.eat(","),V.push(P(this));else if("at"==this.type&&"precedence"==this.value){f&&this.raise("Multiple precedence declarations",this.start);f=this.start;this.next();this.expect("{");
for(n=[];!this.eat("}");)n.length&&this.eat(","),n.push({id:P(this),type:this.eat("at","left")?"left":this.eat("at","right")?"right":this.eat("at","cut")?"cut":null});f=new vc(f,n)}else if(this.eat("at","detectDelim"))Ca=!0;else if(this.eat("at","skip"))if(n=va(this),"{"==this.type){this.next();for(w=[];!this.eat("}");)w.push(Fa(this));Q.push({expr:n,rules:w})}else M&&this.raise("Multiple top-level skip declarations",this.start),M=n;else B.push(Fa(this))}c=Sa.length?new tb(c,B,Sa,h,da,pa,f,M,Q,V,
ya,ua,Ca):this.raise("Missing @top declaration")}return c}}class Bc{constructor(c,f,h,n,w,B){this.rule=c;this.pos=f;this.ahead=h;this.ambigAhead=n;this.skipAhead=w;this.via=B;this.hash=0}finish(){var c=z(z(this.rule.id,this.pos),this.skipAhead.hash);for(var f of this.ahead)c=z(c,f.hash);for(let h of this.ambigAhead){f=h;for(let n=0;n<f.length;n++)c=z(c,f.charCodeAt(n))}this.hash=c;return this}get next(){return this.pos<this.rule.parts.length?this.rule.parts[this.pos]:null}advance(){return(new Bc(this.rule,
this.pos+1,this.ahead,this.ambigAhead,this.skipAhead,this.via)).finish()}get skip(){return this.pos==this.rule.parts.length?this.skipAhead:this.rule.skip}cmp(c){return this.rule.cmp(c.rule)||this.pos-c.pos||this.skipAhead.hash-c.skipAhead.hash||wa(this.ahead,c.ahead,(f,h)=>f.cmp(h))||wa(this.ambigAhead,c.ambigAhead,I)}eqSimple(c){return c.rule==this.rule&&c.pos==this.pos}toString(){let c=this.rule.parts.map(f=>f.name);c.splice(this.pos,0,"·");return`${this.rule.name} -> ${c.join(" ")}`}eq(c){return this==
c||this.hash==c.hash&&this.rule==c.rule&&this.pos==c.pos&&this.skipAhead==c.skipAhead&&ba(this.ahead,c.ahead)&&ba(this.ambigAhead,c.ambigAhead)}trail(c=60){var f=[];for(let h=this;h;h=h.via)for(let n=h.pos-1;0<=n;n--)f.push(h.rule.parts[n]);f=f.reverse().join(" ");f.length>c&&(f=f.slice(f.length-c).replace(/.*? /,"… "));return f}conflicts(c=this.pos){let f=this.rule.conflicts[c];c==this.rule.parts.length&&this.ambigAhead.length&&(f=f.join(new zb(0,this.ambigAhead)));return f}static addOrigins(c,f){c=
c.slice();for(let h=0;h<c.length;h++){let n=c[h];if(0==n.pos)for(let w of f)w.next!=n.rule.name||c.includes(w)||c.push(w)}return c}}class dc{constructor(c,f){this.term=c;this.target=f}eq(c){return c instanceof dc&&this.term==c.term&&c.target.id==this.target.id}cmp(c){return c instanceof tc?-1:this.term.id-c.term.id||this.target.id-c.target.id}toString(){return"s"+this.target.id}map(c,f){c=f[c[this.target.id]];return c==this.target?this:new dc(this.term,c)}}class tc{constructor(c,f){this.term=c;this.rule=
f}eq(c){return c instanceof tc&&this.term==c.term&&c.rule.sameReduce(this.rule)}cmp(c){return c instanceof dc?1:this.term.id-c.term.id||this.rule.name.id-c.rule.name.id||this.rule.parts.length-c.rule.parts.length}toString(){return`${this.rule.name.name}(${this.rule.parts.length})`}map(){return this}}class ad{constructor(c,f,h=0,n,w=na(f),B=null){this.id=c;this.set=f;this.flags=h;this.skip=n;this.hash=w;this.startRule=B;this.actions=[];this.actionPositions=[];this.goto=[];this.tokenGroup=-1;this.defaultReduce=
null;this.nested=-1}toString(){let c=this.actions.map(f=>f.term+"\x3d"+f).join(",")+(this.goto.length?" | "+this.goto.map(f=>f.term+"\x3d"+f).join(","):"");return this.id+": "+this.set.filter(f=>0<f.pos).join()+(this.defaultReduce?`\n  always ${this.defaultReduce.name}(${this.defaultReduce.parts.length})`:c.length?"\n  "+c:"")}addActionInner(c,f){for(let n=0;n<this.actions.length;n++){let w=this.actions[n];if(w.term==c.term){if(w.eq(c))return null;var h=Bc.addOrigins(f,this.set);let B=Bc.addOrigins(this.actionPositions[n],
this.set),M=x(h),Q=x(B);h=D(h,B)||M.precedence-Q.precedence;if(0<h)this.actions.splice(n,1),this.actionPositions.splice(n,1),n--;else{if(0>h)return null;if(!M.ambigGroups.some(V=>Q.ambigGroups.includes(V)))return w}}}this.actions.push(c);this.actionPositions.push(f);return null}addAction(c,f,h){var n=this.addActionInner(c,f);if(n){let w=this.actionPositions[this.actions.indexOf(n)][0],B=[f[0].rule.name,w.rule.name];h.some(M=>M.rules.some(Q=>B.includes(Q)))||(n=n instanceof dc?`shift/reduce conflict between\n  ${w}\nand\n  ${f[0].rule}`:
`reduce/reduce conflict between\n  ${w.rule}\nand\n  ${f[0].rule}`,n+=`\nWith input:\n  ${f[0].trail(70)} · ${c.term} …`,n+=Wa(w,f[0]),h.push(new Qc(n,B)))}}getGoto(c){return this.goto.find(f=>f.term==c)}hasSet(c){return Y(this.set,c)}finish(){if(this.actions.length){let c=this.actions[0];if(c instanceof tc){let {rule:f}=c;this.actions.every(h=>h instanceof tc&&h.rule.sameReduce(f))&&(this.defaultReduce=f)}}this.actions.sort((c,f)=>c.cmp(f));this.goto.sort((c,f)=>c.cmp(f))}eq(c){let f=this.defaultReduce,
h=c.defaultReduce;return f||h?f&&h?f.sameReduce(h):!1:this.skip==c.skip&&this.tokenGroup==c.tokenGroup&&Y(this.actions,c.actions)&&Y(this.goto,c.goto)}}class jd{constructor(c,f){this.set=c;this.state=f}}class Qc{constructor(c,f){this.error=c;this.rules=f}}class kd{constructor(c,f){this.origin=c;this.members=[f]}}const Rc=[],Cb=[],Sc="undefined"!=typeof ab&&ab.env.LOG||"";class qc{constructor(c,f){this.terms=c;this.conflicts=f}concat(c){if(this==qc.none)return c;if(c==qc.none)return this;let f=null;
if(this.conflicts||c.conflicts){f=this.conflicts?this.conflicts.slice():this.ensureConflicts();let h=c.ensureConflicts();f[f.length-1]=f[f.length-1].join(h[0]);for(let n=1;n<h.length;n++)f.push(h[n])}return new qc(this.terms.concat(c.terms),f)}withConflicts(c,f){if(f==zb.none)return this;let h=this.conflicts?this.conflicts.slice():this.ensureConflicts();h[c]=h[c].join(f);return new qc(this.terms,h)}ensureConflicts(){if(this.conflicts)return this.conflicts;let c=[];for(let f=0;f<=this.terms.length;f++)c.push(zb.none);
return c}}qc.none=new qc(Cb,null);class Tc{constructor(c,f,h){this.id=c;this.args=f;this.term=h}matches(c){return this.id==c.id.name&&Ia(c.args,this.args)}matchesRepeat(c){return"+"==this.id&&Oa(c.expr,this.args[0])}}class bd{constructor(c,f){this.options=f;this.terms=new pc;this.nestedParsers=[];this.specialized=Object.create(null);this.tokenOrigins=Object.create(null);this.rules=[];this.built=[];this.ruleNames=Object.create(null);this.namespaces=Object.create(null);this.namedTerms=Object.create(null);
this.termTable=Object.create(null);this.knownProps=Object.create(null);this.dynamicRulePrecedences=[];this.definedGroups=[];this.astRules=[];this.currentSkip=[];this.input=new Db(c,f.fileName);this.ast=this.input.parse();c=cb.NodeProp;for(var h in c)c[h]instanceof cb.NodeProp&&(this.knownProps[h]={prop:c[h],source:{name:h,from:null}});for(var n of this.ast.externalProps)this.knownProps[n.id.name]={prop:this.options.externalProp?this.options.externalProp(n.id.name):cb.NodeProp.string(),source:{name:n.externalID.name,
from:n.source}};this.dialects=this.ast.dialects.map(da=>da.name);this.tokens=new Kb(this,this.ast.tokens);this.externalTokens=this.ast.externalTokens.map(da=>new cd(this,da));this.externalSpecializers=this.ast.externalSpecializers.map(da=>new Uc(this,da));this.defineNamespace("nest",new od);for(let da of this.ast.grammars)this.ast.grammars.some(pa=>pa!=da&&pa.id.name==da.id.name)&&this.raise(`Duplicate external grammar name '${da.id.name}'`,da.id.start);n=this.newName("%noskip",!0);this.defineRule(n,
[]);h=this.ast.mainSkip?this.newName("%mainskip",!0):n;let w=[];for(var B of this.ast.rules)this.astRules.push({skip:h,rule:B});for(let da of this.ast.scopedSkip){B=n;c=this.ast.scopedSkip.findIndex((pa,ya)=>ya<w.length&&Oa(pa.expr,da.expr));-1<c?B=w[c]:this.ast.mainSkip&&Oa(da.expr,this.ast.mainSkip)?B=h:ca(da.expr)||(B=this.newName("%skip",!0));w.push(B);for(var M of da.rules)this.astRules.push({skip:B,rule:M})}for(var {rule:Q}of this.astRules)this.unique(Q.id),this.namespaces[Q.id.name]&&this.raise(`Rule name '${Q.id.name}' conflicts with a defined namespace`,
Q.id.start);this.currentSkip.push(n);this.skipRules=h==n?[h]:[n,h];h!=n&&this.defineRule(h,this.normalizeExpr(this.ast.mainSkip));for(M=0;M<this.ast.scopedSkip.length;M++)Q=w[M],this.skipRules.includes(Q)||(this.skipRules.push(Q),Q!=n&&this.defineRule(Q,this.normalizeExpr(this.ast.scopedSkip[M].expr)));this.currentSkip.pop();for(var V of this.ast.topRules){this.unique(V.id);this.used(V.id.name);this.currentSkip.push(h);let {name:da,props:pa}=this.nodeInfo(V.props,"t",V.id.name,Cb,Cb,V.expr);M=this.terms.makeTop(da,
pa);this.namedTerms[da]=M;this.defineRule(M,this.normalizeExpr(V.expr));this.currentSkip.pop()}for(let da of this.externalSpecializers)da.finish();for(let {skip:da,rule:pa}of this.astRules)this.ruleNames[pa.id.name]&&Ta(pa)&&!pa.params.length&&(this.buildRule(pa,[],da,!1),pa.expr instanceof hb&&0==pa.expr.exprs.length&&this.used(pa.id.name));for(let da in this.ruleNames)(V=this.ruleNames[da])&&this.warn(`Unused rule '${V.name}'`,V.start);this.tokens.takePrecedences();this.tokens.takeConflicts();for(let {name:da,
group:pa,rule:ya}of this.definedGroups)this.defineGroup(da,pa,ya);this.checkGroups()}unique(c){c.name in this.ruleNames&&this.raise(`Duplicate definition of rule '${c.name}'`,c.start);this.ruleNames[c.name]=c}used(c){this.ruleNames[c]=null}defineNamespace(c,f,h=0){this.namespaces[c]&&this.raise(`Duplicate definition of namespace '${c}'`,h);this.namespaces[c]=f}newName(c,f=null,h={}){for(let n=f?0:1;;n++){let w=n?`${c}-${n}`:c;if(!this.terms.names[w])return this.terms.makeNonTerminal(w,!0===f?null:
f,h)}}prepareParser(){var c=Ra(this.rules,[...this.skipRules,...this.nestedParsers.map(ub=>ub.placeholder),...this.terms.tops]);let {nodeTypes:f,names:h,minRepeatTerm:n,maxTerm:w}=this.terms.finish(c);for(var B in this.namedTerms)this.termTable[B]=this.namedTerms[B].id;/\bgrammar\b/.test(Sc)&&console.log(c.join("\n"));let M=this.terms.tops.slice(),Q=bb(this.terms);B=this.skipRules.map((ub,Tb)=>{let Pb=[],gc=[],Zb=[];for(let Lb of ub.rules){if(!Lb.parts.length)continue;let hc=Lb.parts[0];for(let Ub of hc.terminal?
[hc]:Q[hc.name]||[])gc.includes(Ub)||gc.push(Ub);hc.terminal&&1==Lb.parts.length&&!Zb.some(Ub=>Ub!=Lb&&Ub.parts[0]==hc)?Pb.push(hc):Zb.push(Lb)}ub.rules=Zb;Zb.length&&M.push(ub);return{skip:Pb,rule:Zb.length?ub:null,startTokens:gc,id:Tb}});c=fb(this.terms,M,Q);let {tokenGroups:V,tokenPrec:da,tokenData:pa}=this.tokens.buildTokenGroups(c,B),ya=rb(mb(c));var ua=Yb(ya,this.terms.tops);this.addNestedParsers(ya);/\blr\b/.test(Sc)&&console.log(ya.join("\n"));c=[];for(var Sa of this.externalSpecializers)c.push(Sa);
for(var Ca in this.specialized)c.push({token:this.terms.names[Ca],table:ac(this.specialized[Ca])});let Ya=ub=>ub instanceof oc?ub.start:this.tokens.ast?this.tokens.ast.start:-1;Sa=V.concat(this.externalTokens.map(ub=>ub.ast)).sort((ub,Tb)=>Ya(ub)-Ya(Tb));let Gb=new Wc,ec=B.map(ub=>{let Tb=[];for(var Pb of ub.skip)Tb.push(Pb.id,0,4);if(ub.rule){Pb=ya.find(gc=>gc.startRule==ub.rule);for(let gc of Pb.actions)Tb.push(gc.term.id,Pb.id,2)}Tb.push(65535,0);return Gb.storeArray(Tb)});Ca=new Uint32Array(6*
ya.length);var ib=this.computeForceReductions(ya,B);B=new Vb(Sa,Gb,Ca,ec,B,ya,this);for(var Ab of ya)B.finish(Ab,ua(Ab.id),ib[Ab.id]);Ab=Object.create(null);for(B=0;B<this.dialects.length;B++)Ab[this.dialects[B]]=Gb.storeArray((this.tokens.byDialect[B]||Cb).map(ub=>ub.id).concat(65535));B=null;if(this.dynamicRulePrecedences.length){B=Object.create(null);for(let {rule:ub,prec:Tb}of this.dynamicRulePrecedences)B[ub.id]=Tb}ua=Object.create(null);for(let ub of this.terms.tops)ua[ub.nodeName]=[ya.find(Tb=>
Tb.startRule==ub).id,ub.id];ib=Gb.storeArray(da.concat(65535));let {nodeProps:fc,skippedTypes:lc}=this.gatherNodeProps(f);return{states:Ca,stateData:Gb.finish(),goto:Qb(ya),nodeNames:f.filter(ub=>ub.id<n).map(ub=>ub.nodeName).join(" "),nodeProps:fc,skippedTypes:lc,maxTerm:w,repeatNodeCount:f.length-n,tokenizers:Sa,tokenData:pa,topRules:ua,dialects:Ab,dynamicPrecedences:B,specialized:c,tokenPrec:ib,termNames:h}}getParser(){let {states:c,stateData:f,goto:h,nodeNames:n,nodeProps:w,skippedTypes:B,maxTerm:M,
repeatNodeCount:Q,tokenizers:V,tokenData:da,topRules:pa,dialects:ya,dynamicPrecedences:ua,specialized:Sa,tokenPrec:Ca,termNames:Ya}=this.prepareParser(),Gb=Sa.map(ib=>{if(ib instanceof Uc){let Ab=this.options.externalSpecializer(ib.ast.id.name,this.termTable);return{term:ib.term.id,get:(fc,lc)=>Ab(fc,lc)<<1|("extend"==ib.ast.type?1:0)}}return{term:ib.token.id,get:Ab=>ib.table[Ab]||-1}}),ec=V.map(ib=>ib instanceof oc?this.options.externalTokenizer(ib.id.name,this.termTable):ib.id);return cb.Parser.deserialize({version:13,
states:c,stateData:f,goto:h,nodeNames:n,maxTerm:M,repeatNodeCount:Q,nodeProps:w.map(({prop:ib,terms:Ab})=>[this.knownProps[ib].prop,...Ab]),skippedNodes:B,tokenData:da,tokenizers:ec,topRules:pa,nested:this.nestedParsers.map(ib=>[ib.name,ib.source?this.options.nestedParser(ib.name,this.termTable):{},ib.end.compile().toArray({},Cb),ib.placeholder.id]),dialects:ya,dynamicPrecedences:ua,specialized:Gb,tokenPrec:Ca,termNames:Ya})}getParserFile(){function c(db){return"{__proto__:null,"+Object.keys(db).map(Hb=>
`${/\W/.test(Hb)?JSON.stringify(Hb):Hb}:${db[Hb]}`).join(", ")+"}"}function f(db){return"string"!=typeof db||/^(true|false|\d+(\.\d+)?|\.\d+)$/.test(db)?db:JSON.stringify(db)}let {states:h,stateData:n,goto:w,nodeNames:B,nodeProps:M,skippedTypes:Q,maxTerm:V,repeatNodeCount:da,tokenizers:pa,tokenData:ya,topRules:ua,dialects:Sa,dynamicPrecedences:Ca,specialized:Ya,tokenPrec:Gb,termNames:ec}=this.prepareParser(),ib=this.options.moduleStyle||"es",Ab;Ab="// This file was generated by lezer-generator. You probably shouldn't edit it.\n"+
("cjs"==ib?'const {Parser} \x3d require("lezer")\n':'import {Parser} from "lezer"\n');let fc={},lc=Object.create(null),ub=Object.create(null);ub.Parser=!0;let Tb=db=>{for(let Hb=0;;Hb++){let rc=db+(Hb?"_"+Hb:"");if(!ub[rc])return rc}},Pb=(db,Hb,rc)=>{let dd=db+" from "+Hb;if(lc[dd])return lc[dd];Hb=JSON.stringify(Hb);let Vc=db;db in ub&&(Vc=Tb(rc),db+=`${"cjs"==ib?":":" as"} ${Vc}`);(fc[Hb]||(fc[Hb]=[])).push(db);return lc[dd]=Vc};var gc=pa.map(db=>{if(db instanceof oc){let {source:Hb,id:{name:rc}}=
db;return Pb(rc,Hb,"tok")}return db.id}),Zb=this.nestedParsers.map(db=>`[${JSON.stringify(db.name)}, ${db.source?Pb(db.extName,db.source,db.name):"{}"},\
${xb(db.end.compile().toArray({},Cb))}, ${db.placeholder.id}]`),Lb=M.map(({prop:db,terms:Hb})=>{({source:db}=this.knownProps[db]);return`[${db.from?Pb(db.name,db.from,"prop"):Pb("NodeProp","lezer","NodeProp")+"."+db.name}, ${Hb.map(f).join(",")}]`});let hc="";var Ub=Ya.map(db=>{if(db instanceof Uc){var Hb=Pb(db.ast.id.name,db.ast.source,db.ast.id.name);return`{term: ${db.term.id}, get: (value, stack) => (${Hb}(value, stack) << 1)${"extend"==db.ast.type?" | 1":""}}`}Hb=Tb("spec_"+db.token.name.replace(/\W/g,
""));hc+=`const ${Hb} = ${c(db.table)}\n`;return`{term: ${db.token.id}, get: value => ${Hb}[value] || -1}`});for(var uc in fc)Ab="cjs"==ib?Ab+`const {${fc[uc].join(", ")}} = require(${uc})\n`:Ab+`import {${fc[uc].join(", ")}} from ${uc}\n`;Ab+=hc;uc=Object.keys(Sa).map(db=>`${db}: ${Sa[db]}`);gc=`Parser.deserialize({
  version: ${13},
  states: ${xb(h,4294967295)},
  stateData: ${xb(n)},
  goto: ${xb(w)},
  nodeNames: ${JSON.stringify(B)},
  maxTerm: ${V}${Lb.length?`,
  nodeProps: [
    ${Lb.join(",\n    ")}
  ]`:""}${Q.length?`,
  skippedNodes: ${JSON.stringify(Q)}`:""},
  repeatNodeCount: ${da},
  tokenData: ${xb(ya)},
  tokenizers: [${gc.join(", ")}],
  topRules: ${JSON.stringify(ua)}${Zb.length?`,
  nested: [${Zb.join(", ")}]`:""}${uc.length?`,
  dialects: {${uc.join(", ")}}`:""}${Ca?`,
  dynamicPrecedences: ${JSON.stringify(Ca)}`:""}${Ub.length?`,
  specialized: [${Ub.join(",")}]`:""},
  tokenPrec: ${Gb}${this.options.includeNames?`,
  termNames: ${JSON.stringify(ec)}`:""}
})`;Zb=[];for(var $b in this.termTable){Lb=$b;if(ld.includes(Lb))for(Ub=1;Lb="_".repeat(Ub)+$b,Lb in this.termTable;Ub++);Zb.push(`${Lb}${"cjs"==ib?":":" \x3d"} ${this.termTable[$b]}`)}for($b=0;$b<this.dialects.length;$b++)Zb.push(`Dialect_${this.dialects[$b]}${"cjs"==ib?":":" \x3d"} ${$b}`);$b=this.options.exportName||"parser";return{parser:Ab+("cjs"==ib?`exports.${$b} = ${gc}\n`:`export const ${$b} = ${gc}\n`),terms:"cjs"==ib?`${"// This file was generated by lezer-generator. You probably shouldn't edit it.\n"}module.exports = {\n  ${Zb.join(",\n  ")}\n}`:
`${"// This file was generated by lezer-generator. You probably shouldn't edit it.\n"}export const\n  ${Zb.join(",\n  ")}\n`}}gatherNonSkippedNodes(){let c=Object.create(null),f=[],h=n=>{c[n.id]||(c[n.id]=!0,f.push(n))};this.terms.tops.forEach(h);for(let n=0;n<f.length;n++)for(let w of f[n].rules)for(let B of w.parts)h(B);return c}gatherNodeProps(c){let f=this.gatherNonSkippedNodes(),h=[],n=[];for(let w of c){f[w.id]||w.error||h.push(w.id);for(let B in w.props){c=this.knownProps[B];if(!c)throw new sc("No known prop type for "+
B);if(null!=c.source.from||"repeated"!=c.source.name&&"error"!=c.source.name)(c=n.find(M=>M.prop==B))||n.push(c={prop:B,values:{}}),(c.values[w.props[B]]||(c.values[w.props[B]]=[])).push(w.id)}}return{nodeProps:n.map(({prop:w,values:B})=>{let M=[];for(let Q in B){let V=B[Q];if(1==V.length)M.push(V[0],Q);else{M.push(-V.length);for(let da of V)M.push(da);M.push(Q)}}return{prop:w,terms:M}}),skippedTypes:h}}addNestedParsers(c){for(let f of c)if(c=f.set.filter(h=>this.nestedParsers.some(n=>n.placeholder==
h.next)),c.length){let h=c[0].next;c.every(n=>n.next==h)||this.raise(`Multiple nested grammars possible after ${c[0].trail()}`);f.set.every(n=>n.next==h||0==n.pos&&f.set.some(w=>w.next==n.rule.name))||this.raise(`Nested grammar in ambiguous position after ${c[0].trail()} `+f.set);f.nested=this.nestedParsers.findIndex(n=>n.placeholder==h)}}makeTerminal(c,f,h){return this.terms.makeTerminal(this.terms.uniqueName(c),f,h)}computeForceReductions(c,f){function h(pa,ya,ua=null){return(pa=B[pa])?pa.some(Sa=>
{let Ca=ua?ua.filter(Gb=>Sa.parents.includes(Gb)):Sa.parents;if(0==Ca.length)return!1;if(Sa.target==ya)return!0;let Ya=da[Sa.target];return null!=Ya&&h(Ya,ya,Ca)}):!1}let n=[],w=[],B=Object.create(null);for(var M of c){n.push(0);for(let pa of M.goto){var Q=B[pa.term.id]||(B[pa.term.id]=[]),V=Q.find(ya=>ya.target==pa.target.id);V?V.parents.push(M.id):Q.push({parents:[M.id],target:pa.target.id})}w[M.id]=M.set.filter(pa=>0<pa.pos&&!pa.rule.name.top).sort((pa,ya)=>ya.pos-pa.pos||pa.rule.parts.length-
ya.rule.parts.length)}let da=Object.create(null);for(let pa of c)pa.defaultReduce&&0<pa.defaultReduce.parts.length&&(n[pa.id]=vb(pa.defaultReduce,f),1==pa.defaultReduce.parts.length&&(da[pa.id]=pa.defaultReduce.name.id));for(M=1;;M++){Q=!0;for(let pa of c)if(!pa.defaultReduce)if(V=w[pa.id],V.length!=M)V.length>M&&(Q=!1);else for(let ya of V)if(1!=ya.pos||!h(ya.rule.name.id,pa.id)){n[pa.id]=vb(ya.rule,f,ya.pos);1==ya.pos&&(da[pa.id]=ya.rule.name.id);break}if(Q)break}return n}substituteArgs(c,f,h){return 0==
f.length?c:c.walk(n=>{var w;if(n instanceof ka&&!n.namespace&&-1<(w=h.findIndex(B=>B.name==n.id.name))){w=f[w];if(n.args.length){if(w instanceof ka&&!w.args.length)return new ka(n.start,w.namespace,w.id,n.args);this.raise("Passing arguments to a parameter that already has arguments",n.start)}return w}if(n instanceof $a){w=n.rule;let B=this.substituteArgsInProps(w.props,f,h);return B==w.props?n:new $a(n.start,new Bb(w.start,w.id,B,w.params,w.expr))}return n instanceof Ka?(w=this.substituteArgsInProps(n.props,
f,h),w==n.props?n:new Ka(n.start,n.type,w,n.token,n.content)):n})}substituteArgsInProps(c,f,h){let n=B=>{let M=B;for(let V=0;V<B.length;V++){let da=B[V];if(da.name){var Q=h.findIndex(pa=>pa.name==da.name);0>Q||(M==B&&(M=B.slice()),Q=f[Q],Q instanceof ka&&!Q.namespace&&!Q.args.length?M[V]=new pb(da.start,Q.id.name,null):Q instanceof Sb?M[V]=new pb(da.start,Q.value,null):this.raise(`Trying to interpolate expression '${Q}' into a prop`,da.start))}}return M},w=c;for(let B=0;B<c.length;B++){let M=c[B],
Q=n(M.value);Q!=M.value&&(w==c&&(w=c.slice()),w[B]=new Kc(M.start,M.at,M.name,Q))}return w}conflictsFor(c){let f=zb.none,h=zb.none;for(let w of c)if("ambig"==w.type)f=f.join(new zb(0,[w.id.name]));else{var n=this.ast.precedences;let B=n?n.items.findIndex(M=>M.id.name==w.id.name):-1;0>B&&this.raise(`Reference to unknown precedence: '${w.id.name}'`,w.id.start);c=n.items[B];n=n.items.length-B;"cut"==c.type?f=f.join(new zb(0,Cb,n)):(f=f.join(new zb(n<<2)),h=h.join(new zb((n<<2)+("left"==c.type?1:"right"==
c.type?-1:0))))}return{here:f,atEnd:h}}raise(c,f=1){return this.input.raise(c,f)}warn(c,f=-1){c=this.input.message(c,f);this.options.warn?this.options.warn(c):console.warn(c)}defineRule(c,f){let h=this.currentSkip[this.currentSkip.length-1];for(let n of f)this.rules.push(new Pc(c,n.terms,n.ensureConflicts(),h))}resolve(c){if(c.namespace){var f=this.namespaces[c.namespace.name];f||this.raise(`Reference to undefined namespace '${c.namespace.name}'`,c.start);return f.resolve(c,this)}for(var h of this.built)if(h.matches(c))return[nb(h.term)];
if(h=this.tokens.getToken(c))return[nb(h)];for(var n of this.externalTokens)if(h=n.getToken(c))return[nb(h)];for(f of this.externalSpecializers)if(n=f.getToken(c))return[nb(n)];f=this.astRules.find(w=>w.rule.id.name==c.id.name);if(!f)return this.raise(`Reference to undefined rule '${c.id.name}'`,c.start);f.rule.params.length!=c.args.length&&this.raise(`Wrong number or arguments for '${c.id.name}'`,c.start);this.used(f.rule.id.name);return[nb(this.buildRule(f.rule,c.args,f.skip))]}normalizeRepeat(c){var f=
this.built.find(h=>h.matchesRepeat(c));if(f)return nb(f.term);f=this.terms.makeRepeat(this.terms.uniqueName(c.expr.prec<c.prec?`(${c.expr})+`:`${c.expr}+`));this.built.push(new Tc("+",[c.expr],f));this.defineRule(f,this.normalizeExpr(c.expr).concat(nb(f,f)));return nb(f)}normalizeSequence(c){function f(w,B,M){let {here:Q,atEnd:V}=n.conflictsFor(c.markers[B]);if(B==h.length)return[w.withConflicts(w.terms.length,Q.join(M))];let da=[];for(let pa of h[B])for(let ya of f(w.concat(pa).withConflicts(w.terms.length,
Q),B+1,M.join(V)))da.push(ya);return da}let h=c.exprs.map(w=>this.normalizeExpr(w)),n=this;return f(qc.none,0,zb.none)}normalizeExpr(c){if(c instanceof mc&&"?"==c.kind)return[qc.none,...this.normalizeExpr(c.expr)];if(c instanceof mc){let f=this.normalizeRepeat(c);return"+"==c.kind?[f]:[qc.none,f]}return c instanceof jb?c.exprs.reduce((f,h)=>f.concat(this.normalizeExpr(h)),[]):c instanceof hb?this.normalizeSequence(c):c instanceof Sb?[nb(this.tokens.getLiteral(c))]:c instanceof ka?this.resolve(c):
c instanceof Ka?[nb(this.resolveSpecialization(c))]:c instanceof $a?[nb(this.buildRule(c.rule,Cb,this.currentSkip[this.currentSkip.length-1],!0))]:this.raise(`This type of expression ('${c}') may not occur in non-token rules`,c.start)}buildRule(c,f,h,n=!1){let w=this.substituteArgs(c.expr,f,c.params),{name:B,props:M,dynamicPrec:Q,inline:V,group:da,exported:pa}=this.nodeInfo(c.props||Cb,n?"pg":"pgi",c.id.name,f,c.params,c.expr);pa&&c.params.length&&this.warn("Can't export parameterized rules",c.start);
let ya=this.newName(c.id.name+(f.length?"\x3c"+f.join(",")+"\x3e":""),B||!0,M);V&&(ya.inline=!0);Q&&this.registerDynamicPrec(ya,Q);(ya.nodeType||pa)&&0==c.params.length&&(B||(ya.preserve=!0),this.namedTerms[c.id.name]=ya);n||this.built.push(new Tc(c.id.name,f,ya));this.currentSkip.push(h);this.defineRule(ya,this.normalizeExpr(w));this.currentSkip.pop();da&&this.definedGroups.push({name:ya,group:da,rule:c});return ya}nodeInfo(c,f,h=null,n=Cb,w=Cb,B,M){let Q={};var V;(V=h)&&!(V=-1<f.indexOf("t"))&&
(V=h[0],V="_"==V||V.toUpperCase()!=V,V=!V);V=V&&!/ /.test(h)?h:null;var da=null;let pa=0,ya=!1,ua=null,Sa=!1;for(let Ca of c)if(Ca.at)"name"==Ca.name?(V=this.finishProp(Ca,n,w),/ /.test(V)&&this.raise(`Node names cannot have spaces ('${V}')`,Ca.start)):"dialect"==Ca.name?(0>f.indexOf("d")&&this.raise("Can't specify a dialect on non-token rules",c[0].start),1==Ca.value.length||Ca.value[0].value||this.raise("The '@dialect' rule prop must hold a plain string value"),da=this.dialects.indexOf(Ca.value[0].value),
0>da&&this.raise(`Unknown dialect '${Ca.value[0].value}'`,Ca.value[0].start)):"dynamicPrecedence"==Ca.name?(0>f.indexOf("p")&&this.raise("Dynamic precedence can only be specified on nonterminals"),1==Ca.value.length&&/^-?(?:10|\d)$/.test(Ca.value[0].value)||this.raise("The '@dynamicPrecedence' rule prop must hold an integer between -10 and 10"),pa=+Ca.value[0].value):"inline"==Ca.name?(Ca.value.length&&this.raise("'@inline' doesn't take a value",Ca.value[0].start),0>f.indexOf("i")&&this.raise("Inline can only be specified on nonterminals"),
ya=!0):"isGroup"==Ca.name?(0>f.indexOf("g")&&this.raise("'@isGroup' can only be specified on nonterminals"),ua=Ca.value.length?this.finishProp(Ca,n,w):h):"export"==Ca.name?(Ca.value.length&&this.raise("'@export' doesn't take a value",Ca.value[0].start),Sa=!0):this.raise(`Unknown built-in prop name '@${Ca.name}'`,Ca.start);else{if(!this.knownProps[Ca.name]){let Ya=["name","dialect","dynamicPrecedence","export","isGroup"].includes(Ca.name)?` (did you mean '@${Ca.name}'?)`:"";this.raise(`Unknown prop name '${Ca.name}'${Ya}`,
Ca.start)}Q[Ca.name]=this.finishProp(Ca,n,w)}B&&this.ast.autoDelim&&(V||Aa(Q))&&(f=this.findDelimiters(B))&&(yb(f[0],"closedBy",f[1].nodeName),yb(f[1],"openedBy",f[0].nodeName));if(M&&Aa(M))for(let Ca in M)Ca in Q||(Q[Ca]=M[Ca]);Aa(Q)&&!V&&this.raise("Node has properties but no name",c.length?c[0].start:B.start);ya&&(Aa(Q)||da||pa)&&this.raise("Inline nodes can't have props, dynamic precedence, or a dialect",c[0].start);ya&&V&&(V=null);return{name:V,props:Q,dialect:da,dynamicPrec:pa,inline:ya,group:ua,
exported:Sa}}finishProp(c,f,h){return c.value.map(n=>{if(n.value)return n.value;var w=h.findIndex(B=>B.name==n.name);0>w&&this.raise(`Property refers to '${n.name}', but no parameter by that name is in scope`,n.start);w=f[w];return w instanceof ka&&!w.args.length&&!w.namespace?w.id.name:w instanceof Sb?w.value:this.raise(`Expression '${w}' can not be used as part of a property value`,n.start)}).join("")}resolveSpecialization(c){let f=c.type,{name:h,props:n,dialect:w}=this.nodeInfo(c.props,"d");var B=
this.normalizeExpr(c.token);1==B.length&&1==B[0].terms.length&&B[0].terms[0].terminal||this.raise(`The first argument to '${f}' must resolve to a token`,c.token.start);if(c.content instanceof Sb)var M=[c.content.value];else if(c.content instanceof jb&&c.content.exprs.every(da=>da instanceof Sb))M=c.content.exprs.map(da=>da.value);else return this.raise(`The second argument to '${c.type}' must be a literal or choice of literals`,c.content.start);B=B[0].terms[0];let Q=null,V=this.specialized[B.name]||
(this.specialized[B.name]=[]);for(let da of M)M=V.find(pa=>pa.value==da),null==M?(Q||(Q=this.makeTerminal(B.name+"/"+JSON.stringify(da),h,n),null!=w&&(this.tokens.byDialect[w]||(this.tokens.byDialect[w]=[])).push(Q)),V.push({value:da,term:Q,type:f,dialect:w,name:h}),this.tokenOrigins[Q.name]={spec:B}):(M.type!=f&&this.raise(`Conflicting specialization types for ${JSON.stringify(da)} of ${B.name} (${f} vs ${M.type})`,c.start),M.dialect!=w&&this.raise(`Conflicting dialects for specialization ${JSON.stringify(da)} of ${B.name}`,
c.start),M.name!=h&&this.raise(`Conflicting names for specialization ${JSON.stringify(da)} of ${B.name}`,c.start),Q&&M.term!=Q&&this.raise(`Conflicting specialization tokens for ${JSON.stringify(da)} of ${B.name}`,c.start),Q=M.term);return Q}findDelimiters(c){if(!(c instanceof hb)||2>c.exprs.length)return null;let f=w=>{if(w instanceof Sb)return{term:this.tokens.getLiteral(w),str:w.value};if(w instanceof ka&&0==w.args.length){var B=this.ast.rules.find(M=>M.id.name==w.id.name);if(B)return f(B.expr);
if((B=this.tokens.rules.find(M=>M.id.name==w.id.name))&&B.expr instanceof Sb)return{term:this.tokens.getToken(w),str:B.expr.value}}return null},h=f(c.exprs[c.exprs.length-1]);if(!h||!h.term.nodeName)return null;let n=["()","[]","{}","\x3c\x3e"].find(w=>-1<h.str.indexOf(w[1])&&0>h.str.indexOf(w[0]));if(!n)return null;c=f(c.exprs[0]);return!c||!c.term.nodeName||0>c.str.indexOf(n[0])||-1<c.str.indexOf(n[1])?null:[c.term,h.term]}registerDynamicPrec(c,f){this.dynamicRulePrecedences.push({rule:c,prec:f});
c.preserve=!0}defineGroup(c,f,h){var n;let w=[],B=M=>{if(M.nodeName)return[M];w.includes(M)&&this.raise(`Rule '${h.id.name}' cannot define a group because it contains a non-named recursive rule ('${M.name}')`,h.start);let Q=[];w.push(M);for(let V of this.rules)if(V.name==M){let da=V.parts.map(B).filter(pa=>pa.length);1<da.length&&this.raise(`Rule '${h.id.name}' cannot define a group because some choices produce multiple named nodes`,h.start);if(1==da.length)for(let pa of da[0])Q.push(pa)}w.pop();
return Q};for(let M of B(c))M.props.group=((null===(n=M.props.group)||void 0===n?void 0:n.split(" "))||[]).concat(f).sort().join(" ")}checkGroups(){let c=Object.create(null),f=Object.create(null);for(var h of this.terms.terms)if(h.nodeName&&(f[h.nodeName]=!0,h.props.group))for(var n of h.props.group.split(" "))(c[n]||(c[n]=[])).push(h);h=Object.keys(c);for(n=0;n<h.length;n++){let w=h[n],B=c[w];f[w]&&this.warn(`Group name '${w}' conflicts with a node of the same name`);for(let M=n+1;M<h.length;M++){let Q=
c[h[M]];B.some(V=>Q.includes(V))&&(B.length>Q.length?Q.some(V=>!B.includes(V)):B.some(V=>!Q.includes(V)))&&this.warn(`Groups '${w}' and '${h[M]}' overlap without one being a superset of the other`)}}}}class Vb{constructor(c,f,h,n,w,B,M){this.tokenizers=c;this.data=f;this.stateArray=h;this.skipData=n;this.skipInfo=w;this.states=B;this.builder=M;this.sharedActions=[]}findSharedActions(c){if(5>c.actions.length)return null;var f=null;for(var h of this.sharedActions)(!f||h.actions.length>f.actions.length)&&
h.actions.every(w=>c.actions.some(B=>B.eq(w)))&&(f=h);if(f)return f;f=null;h=[];for(let w=c.id+1;w<this.states.length;w++){let B=this.states[w],M=0;if(!(B.defaultReduce||5>B.actions.length)){for(var n of c.actions)for(let Q of B.actions)n.eq(Q)&&(h[M++]=n);5<=M&&(!f||f.length<M)&&(f=h,h=[])}}if(!f)return null;n={actions:f,addr:this.storeActions(f,-1,null)};this.sharedActions.push(n);return n}storeActions(c,f,h){if(0>f&&h&&h.actions.length==c.length)return h.addr;let n=[];for(let w of c)h&&h.actions.some(B=>
B.eq(w))||(w instanceof dc?n.push(w.term.id,w.target.id,0):(c=vb(w.rule,this.skipInfo),c!=f&&n.push(w.term.id,c&65535,c>>16)));n.push(65535);-1<f?n.push(2,f&65535,f>>16):h?n.push(1,h.addr&65535,h.addr>>16):n.push(0);return this.data.storeArray(n)}finish(c,f,h){var n=this.builder,w=n.skipRules.indexOf(c.skip);let B=this.skipData[w];var M=this.skipInfo[w].startTokens;w=c.defaultReduce?vb(c.defaultReduce,this.skipInfo):0;f=(f?1:0)|(-1<c.nested?4|c.nested<<10:0);let Q=-1,V=null;if(0==w){for(const ua of c.actions)ua instanceof
tc&&ua.term.eof&&this.skipInfo.some(Sa=>Sa.rule==ua.rule.name)&&(Q=vb(ua.rule,this.skipInfo));0>Q&&(V=this.findSharedActions(c))}c.set.some(ua=>ua.rule.name.top&&ua.pos==ua.rule.parts.length)&&(f|=2);var da=[];for(var pa=0;pa<c.actions.length+M.length;pa++)for(var ya=pa<c.actions.length?c.actions[pa].term:M[pa-c.actions.length];;)if((ya=n.tokenOrigins[ya.name])&&ya.spec)ya=ya.spec;else{ya&&ya.external instanceof cd&&U(da,ya.external.ast);break}da.sort((ua,Sa)=>ua.start-Sa.start);n=0;for(M=0;M<this.tokenizers.length;M++)if(pa=
this.tokenizers[M],pa instanceof oc?da.includes(pa):pa.id==c.tokenGroup)n|=1<<M;da=6*c.id;this.stateArray[da+0]=f;this.stateArray[da+1]=this.storeActions(w?Cb:c.actions,Q,V);this.stateArray[da+2]=B;this.stateArray[da+3]=n;this.stateArray[da+4]=w;this.stateArray[da+5]=h}}class Wc{constructor(){this.data=[]}storeArray(c){a:{var f=this.data;b:for(var h=0;;){h=f.indexOf(c[0],h);if(-1==h||h+c.length>f.length)break;for(let n=1;n<c.length;n++)if(c[n]!=f[h+n]){h+=1;continue b}f=h;break a}f=-1}if(-1<f)return f;
f=this.data.length;for(let n of c)this.data.push(n);return f}finish(){return Uint16Array.from(this.data)}}class zd{constructor(c,f){this.tokens=c;this.id=f}}class nd{constructor(c,f,h,n,w){this.placeholder=c;this.name=f;this.extName=h;this.source=n;this.end=w}}class od{resolve(c,f){2<c.args.length&&f.raise(`Too many arguments to 'nest.${c.id.name}'`,c.start);let [h,n]=c.args,w=f.ast.grammars.find(V=>V.id.name==c.id.name);if(!w)return f.raise(`No external grammar '${c.id.name}' defined`,c.id.start);
let B=f.newName(c.id.name+"-placeholder",!0);f.defineRule(B,n?f.normalizeExpr(n):[]);if(!h&&!(h=J(f.ast,c)))return f.raise("No end token specified, and no token found directly after the nest expression",c.start);let M=new Ob,Q=new Ob([f.terms.eof]);try{f.tokens.build(h,M,Q,Cb)}catch(V){if(!(V instanceof SyntaxError))throw V;f.raise(`End token '${h}' for nested grammar is not a valid token expression`,h.start)}f.nestedParsers.push(new nd(B,w.id.name,w.externalID.name,w.source,M));f.nestedParsers.length>=
2**20&&f.raise("Too many nested grammars used");return[nb(B)]}}class md{constructor(c,f,h){this.name=c;this.expr=f;this.scope=h}}class wc{constructor(c,f,h,n){this.name=c;this.start=f;this.to=h;this.args=n}}class Kb{constructor(c,f){this.b=c;this.ast=f;this.startState=new Ob;this.built=[];this.building=[];this.byDialect=Object.create(null);this.precedenceRelations=[];this.explicitConflicts=[];this.rules=f?f.rules:Cb;for(let h of this.rules)this.b.unique(h.id)}getToken(c){for(var f of this.built)if(f.matches(c))return f.term;
let h=c.id.name;f=this.rules.find(V=>V.id.name==h);if(!f)return null;let {name:n,props:w,dialect:B,exported:M}=this.b.nodeInfo(f.props,"d",h,c.args,f.params.length!=c.args.length?Cb:f.params),Q=this.b.makeTerminal(c.toString(),n,w);null!=B&&(this.byDialect[B]||(this.byDialect[B]=[])).push(Q);(Q.nodeType||M)&&0==f.params.length&&(Q.nodeType||(Q.preserve=!0),this.b.namedTerms[h]=Q);this.buildRule(f,c,this.startState,new Ob([Q]));this.built.push(new Tc(h,c.args,Q));return Q}getLiteral(c){let f=JSON.stringify(c.value);
for(var h of this.built)if(h.id==f)return h.term;var n=null;let w={};h=null;let B=this.ast?this.ast.literals.find(M=>M.literal==c.value):null;B&&({name:n,props:w,dialect:h}=this.b.nodeInfo(B.props,"d",c.value));n=this.b.makeTerminal(f,n,w);null!=h&&(this.byDialect[h]||(this.byDialect[h]=[])).push(n);this.build(c,this.startState,new Ob([n]),Cb);this.built.push(new Tc(f,Cb,n));return n}buildRule(c,f,h,n,w=Cb){let B=f.id.name;c.params.length!=f.args.length&&this.b.raise(`Incorrect number of arguments for token '${B}'`,
f.start);var M=this.building.find(Q=>Q.name==B&&Ia(f.args,Q.args));if(M){if(M.to==n){h.nullEdge(M.start);return}for(M=this.building.length-1;this.building[M].name!=B;)M--;this.b.raise(`Invalid (non-tail) recursion in token rules: ${this.building.slice(M).map(Q=>Q.name).join(" -\x3e ")}`,f.start)}this.b.used(c.id.name);M=new Ob;h.nullEdge(M);this.building.push(new wc(B,M,n,f.args));this.build(this.b.substituteArgs(c.expr,f.args,c.params),M,n,f.args.map((Q,V)=>new md(c.params[V].name,Q,w)));this.building.pop()}build(c,
f,h,n){if(c instanceof ka){if(c.namespace){if("std"==c.namespace.name)return this.buildStd(c,f,h);this.b.raise(`Unknown namespace '${c.namespace.name}'`,c.start)}let M=c.id.name;var w=n.find(Q=>Q.name==M);if(w)return this.build(w.expr,f,h,w.scope);w=this.rules.find(Q=>Q.id.name==M);if(!w)return this.b.raise(`Reference to rule '${c.id.name}', which isn't found in this token group`,c.start);this.buildRule(w,c,f,h,n)}else if(c instanceof jb)for(w of c.exprs)this.build(w,f,h,n);else if(ca(c))f.nullEdge(h);
else if(c instanceof hb)for((w=c.markers.find(M=>0<M.length))&&this.b.raise("Conflict marker in token expression",w[0].start),w=0;w<c.exprs.length;w++){var B=w==c.exprs.length-1?h:new Ob;this.build(c.exprs[w],f,B,n);f=B}else if(c instanceof mc)"*"==c.kind?(w=new Ob,f.nullEdge(w),this.build(c.expr,w,w,n),w.nullEdge(h)):"+"==c.kind?(w=new Ob,this.build(c.expr,f,w,n),this.build(c.expr,w,w,n),w.nullEdge(h)):(f.nullEdge(h),this.build(c.expr,f,h,n));else if(c instanceof $c)for(let [M,Q]of c.inverted?S(c.ranges):
c.ranges)W(f,h,M,Q);else if(c instanceof Sb)for(n=0;n<c.value.length;n++)w=c.value.charCodeAt(n),B=n==c.value.length-1?h:new Ob,f.edge(w,w+1,B),f=B;else if(c instanceof Oc)f.edge(0,65535,h);else return this.b.raise("Unrecognized expression type in token",c.start)}buildStd(c,f,h){c.args.length&&this.b.raise(`'std.${c.id.name}' does not take arguments`,c.args[0].start);Xc.hasOwnProperty(c.id.name)||this.b.raise(`There is no builtin rule 'std.${c.id.name}'`,c.start);for(let [n,w]of Xc[c.id.name])f.edge(n,
w,h)}takePrecedences(){let c=this.precedenceRelations=[];if(this.ast)for(let f of this.ast.precedences){let h=[];for(let n of f.items){let w=[];if(n instanceof ka)for(let B of this.built)(n.args.length?B.matches(n):B.id==n.id.name)&&w.push(B.term);else{let B=JSON.stringify(n.value),M=this.built.find(Q=>Q.id==B);M&&w.push(M.term)}w.length||this.b.warn(`Precedence specified for unknown token ${n}`,n.start);for(let B of w)za(c,B,h);h=h.concat(w)}}}takeConflicts(){var c;let f=h=>{if(h instanceof ka)for(var n of this.built){if(n.matches(h))return n.term}else{let w=
JSON.stringify(h.value);if(n=this.built.find(B=>B.id==w))return n.term}this.b.warn(`Precedence specified for unknown token ${h}`,h.start);return null};for(let h of(null===(c=this.ast)||void 0===c?void 0:c.conflicts)||[]){c=f(h.a);let n=f(h.b);c&&n&&(c.id<n.id&&([c,n]=[n,c]),this.explicitConflicts.push({a:c,b:n}))}}precededBy(c,f){let h=this.precedenceRelations.find(n=>n.term==c);return h&&h.after.includes(f)}buildTokenGroups(c,f){let h=this.startState.compile();h.accepting.length&&this.b.raise(`Grammar contains zero-length tokens (in '${h.accepting[0].name}')`,
this.rules.find(ua=>ua.id.name==h.accepting[0].name).start);/\btokens\b/.test(Sc)&&console.log(h.toString());let n=h.findConflicts(L(c,this.b,f)).filter(({a:ua,b:Sa})=>!this.precededBy(ua,Sa)&&!this.precededBy(Sa,ua));for(let {a:ua,b:Sa}of this.explicitConflicts)n.some(Ca=>Ca.a==ua&&Ca.b==Sa)||n.push(new Ic(ua,Sa,0,"",""));var w=n.filter(ua=>ua.soft),B=n.filter(ua=>!ua.soft);let M=[],Q=[];for(let ua of c){if(ua.defaultReduce)continue;c=[];let Sa=[];var V=f[this.b.skipRules.indexOf(ua.skip)].startTokens;
for(let Ca of V)ua.actions.some(Ya=>Ya.term==Ca)&&this.b.raise(`Use of token ${Ca.name} conflicts with skip rule`);var da=[];for(var pa=0;pa<ua.actions.length+(V?V.length:0);pa++){let Ca=pa<ua.actions.length?ua.actions[pa].term:V[pa-ua.actions.length],Ya=this.b.tokenOrigins[Ca.name];if(Ya&&Ya.spec)Ca=Ya.spec;else if(Ya&&Ya.external)continue;U(da,Ca)}if(0!=da.length){for(let Ca of da)for(let Ya of B)if(V=Ya.a==Ca?Ya.b:Ya.b==Ca?Ya.a:null)da.includes(V)&&!M.some(Gb=>Gb.conflict==Ya)&&(pa=Ya.exampleA?
` (example: ${JSON.stringify(Ya.exampleA)}${Ya.exampleB?` vs ${JSON.stringify(Ya.exampleB)}`:""})`:"",M.push({error:`Overlapping tokens ${Ca.name} and ${V.name} used in same context${pa}\n`+`After: ${ua.set[0].trail()}`,conflict:Ya})),U(c,Ca),U(Sa,V);da=null;for(let Ca of Q)if(!Sa.some(Ya=>Ca.tokens.includes(Ya))){for(let Ya of c)U(Ca.tokens,Ya);da=Ca;break}da||(da=new zd(c,Q.length),Q.push(da));ua.tokenGroup=da.id}}M.length&&this.b.raise(M.map(ua=>ua.error).join("\n\n"));16<Q.length&&this.b.raise(`Too many different token groups (${Q.length}) to represent them as a 16-bit bitfield`);
let ya=[];f=this.precedenceRelations.slice();for(let {a:ua,b:Sa,soft:Ca}of w)Ca&&f.some(Ya=>Ya.term==ua)&&f.some(Ya=>Ya.term==Sa)&&(0>Ca&&([ua,Sa]=[Sa,ua]),za(f,Sa,[ua]),za(f,ua,[]));a:for(;f.length;){for(w=0;w<f.length;w++)if(B=f[w],B.after.every(ua=>ya.includes(ua.id))){ya.push(B.term.id);if(1==f.length)break a;f[w]=f.pop();continue a}this.b.raise(`Cyclic token precedence relation between ${f.map(ua=>ua.term).join(", ")}`)}ya=ya.filter(ua=>n.some(Sa=>!Sa.soft&&(Sa.a.id==ua||Sa.b.id==ua)));return{tokenGroups:Q,
tokenPrec:ya,tokenData:h.toArray(G(Q),ya)}}}const Xc={asciiLetter:[[65,91],[97,123]],asciiLowercase:[[97,123]],asciiUppercase:[[65,91]],digit:[[48,58]],whitespace:[[9,14],[32,33],[133,134],[160,161],[5760,5761],[8192,8203],[8232,8234],[8239,8240],[8287,8288],[12288,12289]]};class cd{constructor(c,f){this.b=c;this.ast=f;this.tokens=ia(c,f.tokens);for(let h in this.tokens)this.b.tokenOrigins[this.tokens[h].name]={external:this}}getToken(c){return sa(this.b,this.tokens,c)}}class Uc{constructor(c,f){this.b=
c;this.ast=f;this.term=null;this.tokens=ia(c,f.tokens)}finish(){let c=this.b.normalizeExpr(this.ast.token);1==c.length&&1==c[0].terms.length&&c[0].terms[0].terminal||this.b.raise(`The token expression to '@external ${this.ast.type}' must resolve to a token`,this.ast.token.start);this.term=c[0].terms[0];for(let f in this.tokens)this.b.tokenOrigins[this.tokens[f].name]={spec:this.term,external:this}}getToken(c){return sa(this.b,this.tokens,c)}}const ld="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this const class extends export import super enum implements interface let package private protected public static yield".split(" ");
F.GenError=sc;F.buildParser=function(c,f={}){return(new bd(c,f)).getParser()};F.buildParserFile=function(c,f={}){return(new bd(c,f)).getParserFile()}};
shadow$provide[16]=function(Da,aa,lb,F){Object.defineProperty(F,"__esModule",{value:!0});Da=aa(14);var Ha=aa(6);aa=Ha.NodeProp.flag();lb=Ha.NodeProp.flag();const Oa=Ha.NodeProp.flag(),Ia=Ha.NodeProp.flag(),Pa=Ha.NodeProp.flag();Ha=Object.freeze({__proto__:null,prefixColl:aa,coll:lb,prefixEdge:Oa,sameEdge:Ia,prefixContainer:Pa});const Aa={__proto__:null,true:132,false:132,nil:134,def:143,defn:143,"defn-":143,defmacro:143,definline:143,defonce:143,deftest:143,defcard:143};Da=Da.Parser.deserialize({version:13,
states:",rQ]QPOOP!pOPOOOOQO'#Dj'#DjQ]QPOOO!uQPO'#CeO!|QPO'#ChO#TOPO'#C`OOQO'#Ci'#CiOOQO'#Ck'#CkO]QPO'#ClO]QPO'#CnO]QPO'#CpO]QPO'#CrO]QPO'#CtO]OPO'#C}O]OPO'#DPO#]OQO'#DVO${QPO'#CzO%SOSO'#D[O#WOPO'#D]O%eOPO'#D`O%jOPO'#DbO%rOSO'#DeO]QPO'#DhOOQO'#Dn'#DnP%wQPO'#C^POOO)C?b)C?bOOQO-E7h-E7hO'[QPO,59POOQO,59P,59PO'cQPO,59SOOQO,59S,59SOOQO,58z,58zOOQO,59W,59WOOQO,59Y,59YOOQO,59[,59[OOQO,59^,59^OOQO,59`,59`OOQO,59i,59iOOQO,59k,59kOOQO,59q,59qO'jOPO,59qO'oQPO'#DwOOQO'#C{'#C{O#eQPO'#C|OOQO'#Dt'#DtO'vQPO'#DsOOQO'#DX'#DXOOQO'#Dx'#DxO'oQPO'#DwOOQO'#Dr'#DrO(RQPO,59fOOQO,59v,59vOOQO,59x,59xOOQO,59y,59yOOQO,5:R,5:RO)nQPO,58{OOQO,59w,59wOOQO,59z,59zOOQO,59|,59|OOQO,5:P,5:POOQO,5:S,5:SPOOO,58x,58xOOQO1G.k1G.kOOQO1G.n1G.nOOQO1G/]1G/]OOQO,59h,59hOOQO,59t,59tOOQO'#DR'#DRO'vQPO'#DSOOQO'#Dv'#DvO*OQPO,5:_O*VQPO,5:cOOQO1G/Q1G/QP(WOPO,58{OOQO,59n,59nO*^QPO1G/yO*eQPO'#DTO]QPO1G/yO+{QPO7+%eP%wQPO'#ClP%wQPO'#CnP%wQPO'#CpP%wQPO'#CrP%wQPO'#CtP%wOPO'#C}P%wOPO'#DPP,SOSO'#D[P,eOPO'#DbP%wQPO'#Dh",
stateData:",p~O!aOSPOSRPQ~OUbOWSOZTO^hOaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!dVO!eWO~ORiO~OVmO~P]OYoO~P]OWSOZTO~OxxOzyO~OUbOWSOZTO^!POaXOcYOeZOg[Oi]OjhOkhOmaOr^Ot_Ox`O}hO!TdO!VeO!YfO!dVO!eWO!i{O~Ol!kP~P#eOZTOmaOx`O!c!YO!m!VO~O^![O~OaXOmaO~O!c!^O~OU!yOWSOZTO^hOa!rOc!sOe!tOg!uOi!vOjhOkhOmaOr!wOt!xOx`O}hO!TdO!V!zO!YfO!dVO!eWO~OV!aO~P]OY!bO~P]Ox!cO~Ol!kX~P]O^!fOr^Ot_O~Ol!kO~OU!WaWTaZTa^!Waa!Wac!Wae!Wag!Wai!Waj!Wak!Wam!War!Wat!Wax!Wa}!Wa!T!Wa!V!Wa!Y!Wa!_!Wa!d!Wa!e!Wa~OV!WaY!Wal!Wa!i!Wa~P(WOl!ga~P]Ol!ka~P]Ol!gi~P]OUwXWwXZwX^wXawXcwXewXgwXiwXjwXkwXl!bXmwXrwXtwXxwX}wX!TwX!VwX!YwX!dwX!ewX~Ol!gq~P]OZTOmaOx`O!c!lO!m!VO~Oa!rOmaO~Oj^~",
goto:",w!mPP!nP!q#ePPP$XPP%O!qP!q%|P!qP!qP!qP!qPPPPP\x26t'p'p'tP'tP(p(p(tP(wP)q)qP!q!q)u!q!qP!qP!q!qP!q!qP*iPPP+XPPP,_,b,eP,k,b,qRjP!chORSTXYZ[]^_agilnz|!R!i!j!n!p!q!r!s!t!u!v!w!x!{!cUORSTXYZ[]^_agilnz|!R!i!j!n!p!q!r!s!t!u!v!w!x!{!bhORSTXYZ[]^_agilnz|!R!i!j!n!p!q!r!s!t!u!v!w!x!{RpU!bhORSTXYZ[]^_agilnz|!R!i!j!n!p!q!r!s!t!u!v!w!x!{QpUS!Ub!yR!Zc!bhORSTXYZ[]^_agilnz|!R!i!j!n!p!q!r!s!t!u!v!w!x!{T!]e!z!bhORSTXYZ[]^_agilnz|!R!i!j!n!p!q!r!s!t!u!v!w!x!{S!Xb!yT!]e!zT}a|zgORSTXYZ[]^_glnz!R!i!j!n!p!qS|a|S!g!O!gc!{i!r!s!t!u!v!w!x!{T!h!O!gR!p!i!`hORSTXYZ[]^_agilnz|!R!j!n!p!q!r!s!t!u!v!w!x!{S!Wb!yR!o!iT!Qa|!ccORSTXYZ[]^_agilnz|!R!i!j!n!p!q!r!s!t!u!v!w!x!{QRO^kRlnz!j!n!qQlSQnTQzaQ!j!RQ!n!iR!q!plQORSTalnz!R!i!j!n!p!qSqX!rSrY!sSsZ!tSt[!uSu]!vSv^!wSw_!xU!_g|!{R!`iR!TaR!SaQ!OaR!d|Q!i!OR!m!gQ!RaR!e|",
nodeNames:"⚠ LineComment Discard #_ Constructor ConstructorPrefix # ] [ Vector } { Map Boolean Symbol Nil Deref @ Quote ' SyntaxQuote ` Unquote ~ UnquoteSplice ~@ Number Keyword ) ( List DefLike Meta Metadata ^ ReaderMetadata #^ VarName Meta DocString \" String StringContent Operator Meta Character Set NamespacedMap KeywordPrefix RegExp Var #' ReaderConditional #? DataLiteral SymbolicValue ## AnonymousFunction Meta Program",maxTerm:75,nodeProps:[[Oa,-14,3,5,6,17,19,21,23,25,34,36,48,51,53,56,""],
[aa,-14,4,16,18,20,22,24,33,35,46,47,49,50,52,57,""],[Da.NodeProp.openedBy,7,"[",10,"{",28,"(",40,'"'],[Da.NodeProp.closedBy,8,"]",11,"}",29,")",40,'"'],[lb,-3,9,12,30,""],[Pa,-4,32,38,44,58,""],[Ia,40,""]],skippedNodes:[0,1,2,3],repeatNodeCount:1,tokenData:"!Cc~R![OX$wX^%n^p$wpq%nqr'grs)tst)ytu'guv'gvw'gwx,yxy-^yz-qz{'g{|.U|}%n}!O.U!O!P0f!P!Q'g!Q!R!%W!R![!+p![!]!0l!]!^!7X!^!_'g!_!`'g!`!a'g!a!b'g!b!c!8n!c!}'g!}#O!9R#O#P!9f#P#Q!@b#Q#R!@u#R#S'g#S#T!AY#T#o'g#o#p!Am#p#q$w#q#r!BQ#r#s!Be#s#y$w#y#z%n#z$f$w$f$g%n$g##l'g##l#BY$w#BY#BZ%n#BZ$IS$w$IS$I_%n$I_$I|$w$I|$JO%n$JO$JT$w$JT$JU%n$JU$KV$w$KV$KW%n$KW\x26FU$w\x26FU\x26FV%n\x26FV~$wQ$|SzQOr$ws#O$w#O#P%Y#P~$wQ%_TzQOr$wrs$ws#O$w#O#P%Y#P~$wR%ujzQ!aPOX$wX^%n^p$wpq%nqr$ws|$w|}%n}#O$w#O#P%Y#P#y$w#y#z%n#z$f$w$f$g%n$g#BY$w#BY#BZ%n#BZ$IS$w$IS$I_%n$I_$I|$w$I|$JO%n$JO$JT$w$JT$JU%n$JU$KV$w$KV$KW%n$KW\x26FU$w\x26FU\x26FV%n\x26FV~$wV'ppzQ!cS^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q!['g![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w~)yOx~R*Q[UPzQOr$wst*vtw$wwx+Zx!a$w!a!b+n!b#O$w#O#P%Y#P#Q$w#Q#R,R#R#S,f#S~$wR*}S!YPzQOr$ws#O$w#O#P%Y#P~$wR+bS!TPzQOr$ws#O$w#O#P%Y#P~$wR+uS!VPzQOr$ws#O$w#O#P%Y#P~$wR,YStPzQOr$ws#O$w#O#P%Y#P~$wR,mSRPzQOr$ws#O$w#O#P%Y#P~$wR-QScPzQOr$ws#O$w#O#P%Y#P~$wV-eSmTzQOr$ws#O$w#O#P%Y#P~$wR-xSlPzQOr$ws#O$w#O#P%Y#P~$wV._qzQ!cS^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P0f!P!Q'g!Q!R\x3ep!R![Kh![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wV0opzQ!cS^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q![2s![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wV3OtzQ!cSjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q![2s![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h5`!h!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y5`#Y#o'g#o$g$w$g##l'g##l~$wV5ipzQ!cS^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|7m|}$w}!O7m!O!P'g!P!Q'g!Q![9z![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wV7vpzQ!cS^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q![9z![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wV:VrzQ!cSjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q![9z![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!o'g!o!p\x3ca!p!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wV\x3clpzQ!cSjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q!['g![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wV\x3e{yzQ!cSjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!PAl!P!QFz!Q![Kh![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h5`!h!o'g!o!p\x3ca!p!q\x3ca!q!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y5`#Y#l'g#l#mN^#m#o'g#o$g$w$g##l'g##l~$wVAwvzQ!cSjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q![Al![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h5`!h!o'g!o!pD_!p!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y5`#Y#o'g#o$g$w$g##l'g##l~$wVDjtzQ!cSjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q!['g![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h5`!h!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y5`#Y#o'g#o$g$w$g##l'g##l~$wVGTpzQ!cS^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q![IX![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wVIdpzQ!cSjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q![IX![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wVKswzQ!cSjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!PAl!P!QFz!Q![Kh![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h5`!h!o'g!o!p\x3ca!p!q\x3ca!q!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y5`#Y#o'g#o$g$w$g##l'g##l~$wVNgrzQ!cS^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q![!!q![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!i!!q!i!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#Z!!q#Z#o'g#o$g$w$g##l'g##l~$wV!!|rzQ!cSjP^POq$wqr'gst'gtu'guv'gvw'gwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q'g!Q![!!q![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!i!!q!i!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#Z!!q#Z#o'g#o$g$w$g##l'g##l~$wR!%_ezQjPOr$ws!O$w!O!P!\x26p!P!Q!*n!Q![!+p![!g$w!g!h!'m!h!o$w!o!p!)j!p!q!)j!q#O$w#O#P%Y#P#U$w#U#V!,v#V#X$w#X#Y!'m#Y#c$w#c#d!.O#d#l$w#l#m!/Q#m~$wR!\x26w[zQjPOr$ws!Q$w!Q![!\x26p![!g$w!g!h!'m!h!o$w!o!p!)}!p#O$w#O#P%Y#P#X$w#X#Y!'m#Y~$wR!'rYzQOr$ws{$w{|!(b|}$w}!O!(b!O!Q$w!Q![!(y![#O$w#O#P%Y#P~$wR!(gUzQOr$ws!Q$w!Q![!(y![#O$w#O#P%Y#P~$wR!)QWzQjPOr$ws!Q$w!Q![!(y![!o$w!o!p!)j!p#O$w#O#P%Y#P~$wR!)qSzQjPOr$ws#O$w#O#P%Y#P~$wR!*UWzQjPOr$ws!g$w!g!h!'m!h#O$w#O#P%Y#P#X$w#X#Y!'m#Y~$wR!*sUzQOr$ws!Q$w!Q![!+V![#O$w#O#P%Y#P~$wR!+^UzQjPOr$ws!Q$w!Q![!+V![#O$w#O#P%Y#P~$wR!+w_zQjPOr$ws!O$w!O!P!\x26p!P!Q!*n!Q![!+p![!g$w!g!h!'m!h!o$w!o!p!)j!p!q!)j!q#O$w#O#P%Y#P#X$w#X#Y!'m#Y~$wR!,{VzQOr$ws!Q$w!Q!R!-b!R!S!-b!S#O$w#O#P%Y#P~$wR!-iVzQjPOr$ws!Q$w!Q!R!-b!R!S!-b!S#O$w#O#P%Y#P~$wR!.TUzQOr$ws!Q$w!Q!Y!.g!Y#O$w#O#P%Y#P~$wR!.nUzQjPOr$ws!Q$w!Q!Y!.g!Y#O$w#O#P%Y#P~$wR!/VYzQOr$ws!Q$w!Q![!/u![!c$w!c!i!/u!i#O$w#O#P%Y#P#T$w#T#Z!/u#Z~$wR!/|YzQjPOr$ws!Q$w!Q![!/u![!c$w!c!i!/u!i#O$w#O#P%Y#P#T$w#T#Z!/u#Z~$wV!0uokPzQ!mSOq$wqr!2vst$wtu!2vuv!2vvw!2vwz$wz{!2v{|!2v|}$w}!O!2v!O!P!2v!P!Q!2v!Q![$w![!]!5T!]!^$w!^!_!2v!_!`!2v!`!a!2v!a!b!2v!b!c$w!c!}!2v!}#O$w#O#P%Y#P#R$w#R#S!2v#S#T$w#T#o!2v#o$g$w$g##l!2v##l~$wV!3PpkPzQ!mSOq$wqr!2vst!2vtu!2vuv!2vvw!2vwx!2vxz$wz{!2v{|!2v|}$w}!O!2v!O!P!2v!P!Q!2v!Q![!2v![!]!2v!]!^$w!^!_!2v!_!`!2v!`!a!2v!a!b!2v!b!c$w!c!}!2v!}#O$w#O#P%Y#P#R$w#R#S!2v#S#T$w#T#o!2v#o$g$w$g##l!2v##l~$wV!5^mkPzQ!mSOq$wqr!2vst$wtu!2vuv!2vvw!2vwz$wz{!2v{|!2v|}$w}!O!2v!O!P!2v!P!Q!2v!Q!^$w!^!_!2v!_!`!2v!`!a!2v!a!b!2v!b!c$w!c!}!2v!}#O$w#O#P%Y#P#R$w#R#S!2v#S#T$w#T#o!2v#o$g$w$g##l!2v##l~$wR!7`VPPzQOY!7XYZ$wZr!7Xrs!7us#O!7X#O#P!8Q#P~!7XP!7zQPPOY!7uZ~!7uR!8XVPPzQOY!7XYZ$wZr!7Xrs!7Xs#O!7X#O#P!8Q#P~!7XR!8uSaPzQOr$ws#O$w#O#P%Y#P~$wR!9YSWPzQOr$ws#O$w#O#P%Y#P~$wR!9kczQOY!:vYZ$wZ]!:v]^$w^r!:vrs!:vs!c!:v!c!}!;Z!}#O!:v#O#P!\x3ck#P#T!:v#T#c!;Z#c#d!\x3dR#d#g!;Z#g#h!\x3ec#h#i!;Z#i#j!?Q#j#o!;Z#o~!:vR!:}S}PzQOr$ws#O$w#O#P%Y#P~$wR!;bW}PzQOr$ws!c$w!c!}!;z!}#O$w#O#P%Y#P#T$w#T#o!;z#o~$wR!\x3cRW}PzQOr$ws!c$w!c!}!;z!}#O$w#O#P%Y#P#T$w#T#o!;z#o~$wR!\x3crT}PzQOr$wrs$ws#O$w#O#P%Y#P~$wR!\x3dYY}PzQOr$ws!Q$w!Q![!\x3dx![!c$w!c!}!;z!}#O$w#O#P%Y#P#T$w#T#o!;z#o~$wR!\x3ePU}PzQOr$ws!Q$w!Q![!\x3dx![#O$w#O#P%Y#P~$wR!\x3ehWzQOr$ws!c$w!c!}!;z!}#O$w#O#P%Y#P#T$w#T#o!;z#o~$wR!?XY}PzQOr$ws!Q$w!Q![!?w![!c$w!c!}!;z!}#O$w#O#P%Y#P#T$w#T#o!;z#o~$wR!@OU}PzQOr$ws!Q$w!Q![!?w![#O$w#O#P%Y#P~$wR!@iSVPzQOr$ws#O$w#O#P%Y#P~$wR!@|SrPzQOr$ws#O$w#O#P%Y#P~$wR!AaSePzQOr$ws#O$w#O#P%Y#P~$wV!AtSZTzQOr$ws#O$w#O#P%Y#P~$wR!BXSYPzQOr$ws#O$w#O#P%Y#P~$wR!BlUgPzQOr$ws!b$w!b!c!CO!c#O$w#O#P%Y#P~$wR!CVSiPzQOr$ws#O$w#O#P%Y#P~$w",
tokenizers:[0,1,2],topRules:{Program:[0,59]},dynamicPrecedences:{31:1},specialized:[{term:14,get:wa=>Aa[wa]||-1}],tokenPrec:535});F.parser=Da;F.props=Ha};
shadow$provide[17]=function(Da,aa,lb,F){function Ha(Ja,La,va){var Ma=Ja.prop(0>La?wa.NodeProp.openedBy:wa.NodeProp.closedBy);return Ma?Ma:1==Ja.name.length&&(Ja=va.indexOf(Ja.name),-1<Ja&&Ja%2==(0>La?1:0))?[va[Ja+La]]:null}function Oa(Ja,La,va){var Ma=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},Va=Ma.maxScanDistance||ma;Ma=Ma.brackets||Qa;var ta=(0,Pa.syntaxTree)(Ja),ea=ta.resolve(La,va),q;if(q=Ha(ea.type,va,Ma)){a:{var y=ea.parent;Va={from:ea.from,to:ea.to};ta=0;if((y=null===y||void 0===
y?void 0:y.cursor)&&(0>va?y.childBefore(ea.from):y.childAfter(ea.to))){do if(0>va?y.to<=ea.from:y.from>=ea.to)if(0==ta&&-1<q.indexOf(y.type.name)){Ma={start:Va,end:{from:y.from,to:y.to},matched:!0};break a}else if(Ha(y.type,va,Ma))ta++;else if(Ha(y.type,-va,Ma)&&(ta--,0==ta)){Ma={start:Va,end:{from:y.from,to:y.to},matched:!1};break a}while(0>va?y.prevSibling():y.nextSibling())}Ma={start:Va,matched:!1}}return Ma}a:if(ea=ea.type,q=0>va?Ja.sliceDoc(La-1,La):Ja.sliceDoc(La,La+1),q=Ma.indexOf(q),0>q||
0==q%2!=0<va)Ma=null;else{y={from:0>va?La-1:La,to:0<va?La+1:La};for(var E=Ja.doc.iterRange(La,0<va?Ja.doc.length:0),P=0,Z=0;!E.next().done&&Z<=Va;){var l=E.value;0>va&&(Z+=l.length);for(var p=La+Z*va,t=0<va?0:l.length-1,r=0<va?l.length:-1;t!=r;t+=va){var v=Ma.indexOf(l[t]);if(!(0>v||ta.resolve(p+t,1).type!=ea))if(0==v%2==0<va)P++;else if(1==P){Ma={start:y,end:{from:p+t,to:p+t+1},matched:v>>1==q>>1};break a}else P--}0<va&&(Z+=l.length)}Ma=E.done?{start:y,matched:!1}:null}return Ma}Object.defineProperty(F,
"__esModule",{value:!0});F.bracketMatching=function(){return[oa.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),Fa]};F.matchBrackets=Oa;var Ia=aa(1),Pa=aa(8),Aa=aa(5),wa=aa(6);Da=Aa.EditorView.baseTheme({$matchingBracket:{color:"#0b0"},$nonmatchingBracket:{color:"#a22"}});var ma=1E4,Qa="()[]{}",oa=Ia.Facet.define({combine:function(Ja){return(0,Ia.combineConfig)(Ja,{afterCursor:!0,brackets:Qa,maxScanDistance:ma})}}),eb=Aa.Decoration.mark({"class":(0,Aa.themeClass)("matchingBracket")}),
ra=Aa.Decoration.mark({"class":(0,Aa.themeClass)("nonmatchingBracket")}),Fa=[Ia.StateField.define({create:function(){return Aa.Decoration.none},update:function(Ja,La){if(!La.docChanged&&!La.selection)return Ja;Ja=[];var va=La.state.facet(oa),Ma=!0,Va=!1,ta=void 0;try{for(var ea=La.state.selection.ranges[Symbol.iterator](),q;!(Ma=(q=ea.next()).done);Ma=!0){var y=q.value;if(y.empty){var E=Oa(La.state,y.head,-1,va)||0<y.head&&Oa(La.state,y.head-1,1,va)||va.afterCursor&&(Oa(La.state,y.head,1,va)||y.head<
La.state.doc.length&&Oa(La.state,y.head+1,-1,va));if(E){var P=E.matched?eb:ra;Ja.push(P.range(E.start.from,E.start.to));E.end&&Ja.push(P.range(E.end.from,E.end.to))}}}}catch(Z){Va=!0,ta=Z}finally{try{if(!Ma&&null!=ea["return"])ea["return"]()}finally{if(Va)throw ta;}}return Aa.Decoration.set(Ja,!0)},provide:[Aa.EditorView.decorations]}),Da]};
shadow$provide[18]=function(Da,aa,lb,F){function Ha(K,R){return E.EditorSelection.create(K.ranges.map(R),K.primaryIndex)}function Oa(K,R){return K.update({selection:R,scrollIntoView:!0,annotations:E.Transaction.userEvent.of("keyboardselection")})}function Ia(K,R){var qa=K.state;K=K.dispatch;R=Ha(qa.selection,R);if(R.eq(qa.selection))return!1;K(Oa(qa,R));return!0}function Pa(K,R){return E.EditorSelection.cursor(R?K.to:K.from)}function Aa(K,R){return Ia(K,function(qa){return qa.empty?K.moveByChar(qa,
R):Pa(qa,R)})}function wa(K,R){return Ia(K,function(qa){return qa.empty?K.moveByGroup(qa,R):Pa(qa,R)})}function ma(K,R,qa){var fa=(0,p.syntaxTree)(K).resolve(R.head),la=qa?t.NodeProp.closedBy:t.NodeProp.openedBy;for(R=R.head;;){var ka=qa?fa.childAfter(R):fa.childBefore(R);if(!ka)break;var Ka=K;var $a=ka;if($a.type.prop(la))Ka=!0;else{var jb=$a.to-$a.from;Ka=jb&&(2<jb||/[^\s,.;:]/.test(Ka.sliceDoc($a.from,$a.to)))||$a.firstChild}Ka?fa=ka:R=qa?ka.to:ka.from}var hb;K=fa.type.prop(la)&&(hb=qa?(0,l.matchBrackets)(K,
fa.from,1):(0,l.matchBrackets)(K,fa.to,-1))&&hb.matched?qa?hb.end.to:hb.end.from:qa?fa.to:fa.from;return E.EditorSelection.cursor(K,qa?-1:1)}function Qa(K,R){return Ia(K,function(qa){return qa.empty?K.moveVertically(qa,R):Pa(qa,R)})}function oa(K,R){return Ia(K,function(qa){return qa.empty?K.moveVertically(qa,R,K.dom.clientHeight):Pa(qa,R)})}function eb(K,R,qa){var fa=K.visualLineAt(R.head),la=K.moveToLineBoundary(R,qa);la.head==R.head&&la.head!=(qa?fa.to:fa.from)&&(la=K.moveToLineBoundary(R,qa,!1));
!qa&&la.head==fa.from&&fa.length&&(K=/^\s*/.exec(K.state.sliceDoc(fa.from,Math.min(fa.from+100,fa.to)))[0].length)&&R.head>fa.from+K&&(la=E.EditorSelection.cursor(fa.from+K));return la}function ra(K,R,qa){var fa=!1,la=Ha(K.selection,function(ka){var Ka=(0,l.matchBrackets)(K,ka.head,-1)||(0,l.matchBrackets)(K,ka.head,1)||0<ka.head&&(0,l.matchBrackets)(K,ka.head-1,1)||ka.head<K.doc.length&&(0,l.matchBrackets)(K,ka.head+1,-1);if(!Ka||!Ka.end)return ka;fa=!0;Ka=Ka.start.from==ka.head?Ka.end.to:Ka.end.from;
return qa?E.EditorSelection.range(ka.anchor,Ka):E.EditorSelection.cursor(Ka)});if(!fa)return!1;R(Oa(K,la));return!0}function Fa(K,R){var qa=Ha(K.state.selection,function(fa){var la=R(fa);return E.EditorSelection.range(fa.anchor,la.head,la.goalColumn)});if(qa.eq(K.state.selection))return!1;K.dispatch(Oa(K.state,qa));return!0}function Ja(K,R){return Fa(K,function(qa){return K.moveByChar(qa,R)})}function La(K,R){return Fa(K,function(qa){return K.moveByGroup(qa,R)})}function va(K,R){return Fa(K,function(qa){return K.moveVertically(qa,
R)})}function Ma(K,R){return Fa(K,function(qa){return K.moveVertically(qa,R,K.dom.clientHeight)})}function Va(K,R){var qa=K.state.changeByRange(function(fa){var la=fa.from,ka=fa.to;if(la==ka){var Ka=R(la);la=Math.min(la,Ka);ka=Math.max(ka,Ka)}return la==ka?{range:fa}:{changes:{from:la,to:ka},range:E.EditorSelection.cursor(la)}});if(qa.changes.empty)return!1;K.dispatch(qa,{scrollIntoView:!0,annotations:E.Transaction.userEvent.of("delete")});return!0}function ta(K){var R=[],qa=-1,fa=!0,la=!1,ka=void 0;
try{for(var Ka=K.selection.ranges[Symbol.iterator](),$a;!(fa=($a=Ka.next()).done);fa=!0){var jb=$a.value,hb=K.doc.lineAt(jb.from),Rb=K.doc.lineAt(jb.to);qa==hb.number?R[R.length-1].to=Rb.to:R.push({from:hb.from,to:Rb.to});qa=Rb.number}}catch(mc){la=!0,ka=mc}finally{try{if(!fa&&null!=Ka["return"])Ka["return"]()}finally{if(la)throw ka;}}return R}function ea(K,R,qa){var fa=[],la=!0,ka=!1,Ka=void 0;try{for(var $a=ta(K)[Symbol.iterator](),jb;!(la=(jb=$a.next()).done);la=!0){var hb=jb.value;if(qa?hb.to!=
K.doc.length:0!=hb.from){var Rb=K.doc.lineAt(qa?hb.to+1:hb.from-1);qa?fa.push({from:hb.to,to:Rb.to},{from:hb.from,insert:Rb.slice()+K.lineBreak}):fa.push({from:Rb.from,to:hb.from},{from:hb.to,insert:K.lineBreak+Rb.slice()})}}}catch(mc){ka=!0,Ka=mc}finally{try{if(!la&&null!=$a["return"])$a["return"]()}finally{if(ka)throw Ka;}}if(!fa.length)return!1;R(K.update({changes:fa,scrollIntoView:!0}));return!0}function q(K,R,qa){var fa=[],la=!0,ka=!1,Ka=void 0;try{for(var $a=ta(K)[Symbol.iterator](),jb;!(la=
(jb=$a.next()).done);la=!0){var hb=jb.value;qa?fa.push({from:hb.from,insert:K.doc.slice(hb.from,hb.to)+K.lineBreak}):fa.push({from:hb.to,insert:K.lineBreak+K.doc.slice(hb.from,hb.to)})}}catch(Rb){ka=!0,Ka=Rb}finally{try{if(!la&&null!=$a["return"])$a["return"]()}finally{if(ka)throw Ka;}}R(K.update({changes:fa,scrollIntoView:!0}));return!0}function y(K,R){var qa=-1;return K.changeByRange(function(fa){for(var la=[],ka=K.doc.lineAt(fa.from);;){ka.number>qa&&(R(ka,la,fa),qa=ka.number);if(fa.to<=ka.to)break;
ka=K.doc.lineAt(ka.to+1)}ka=K.changes(la);return{changes:la,range:E.EditorSelection.range(ka.mapPos(fa.anchor,1),ka.mapPos(fa.head,1))}})}Object.defineProperty(F,"__esModule",{value:!0});F.transposeChars=F.standardKeymap=F.splitLine=F.simplifySelection=F.selectSyntaxRight=F.selectSyntaxLeft=F.selectParentSyntax=F.selectPageUp=F.selectPageDown=F.selectMatchingBracket=F.selectLineUp=F.selectLineStart=F.selectLineEnd=F.selectLineDown=F.selectLineBoundaryForward=F.selectLineBoundaryBackward=F.selectLine=
F.selectGroupRight=F.selectGroupLeft=F.selectGroupForward=F.selectGroupBackward=F.selectDocStart=F.selectDocEnd=F.selectCharRight=F.selectCharLeft=F.selectCharForward=F.selectCharBackward=F.selectAll=F.moveLineUp=F.moveLineDown=F.insertNewlineAndIndent=F.insertNewline=F.indentSelection=F.indentMore=F.indentLess=F.emacsStyleKeymap=F.deleteTrailingWhitespace=F.deleteToLineEnd=F.deleteLine=F.deleteGroupForward=F.deleteGroupBackward=F.deleteCodePointForward=F.deleteCodePointBackward=F.deleteCharForward=
F.deleteCharBackward=F.defaultKeymap=F.cursorSyntaxRight=F.cursorSyntaxLeft=F.cursorPageUp=F.cursorPageDown=F.cursorMatchingBracket=F.cursorLineUp=F.cursorLineStart=F.cursorLineEnd=F.cursorLineDown=F.cursorLineBoundaryForward=F.cursorLineBoundaryBackward=F.cursorGroupRight=F.cursorGroupLeft=F.cursorGroupForward=F.cursorGroupBackward=F.cursorDocStart=F.cursorDocEnd=F.cursorCharRight=F.cursorCharLeft=F.cursorCharForward=F.cursorCharBackward=F.copyLineUp=F.copyLineDown=void 0;var E=aa(1),P=aa(0),Z=aa(5),
l=aa(17),p=aa(8),t=aa(6),r=function(K){return Aa(K,K.textDirection!=Z.Direction.LTR)};F.cursorCharLeft=r;var v=function(K){return Aa(K,K.textDirection==Z.Direction.LTR)};F.cursorCharRight=v;F.cursorCharForward=function(K){return Aa(K,!0)};F.cursorCharBackward=function(K){return Aa(K,!1)};var A=function(K){return wa(K,K.textDirection!=Z.Direction.LTR)};F.cursorGroupLeft=A;var C=function(K){return wa(K,K.textDirection==Z.Direction.LTR)};F.cursorGroupRight=C;var z=function(K){return wa(K,!0)};F.cursorGroupForward=
z;var x=function(K){return wa(K,!1)};F.cursorGroupBackward=x;Da=function(K){return Ia(K,function(R){return ma(K.state,R,K.textDirection!=Z.Direction.LTR)})};F.cursorSyntaxLeft=Da;aa=function(K){return Ia(K,function(R){return ma(K.state,R,K.textDirection==Z.Direction.LTR)})};F.cursorSyntaxRight=aa;var D=function(K){return Qa(K,!1)};F.cursorLineUp=D;var I=function(K){return Qa(K,!0)};F.cursorLineDown=I;var O=function(K){return oa(K,!1)};F.cursorPageUp=O;var Y=function(K){return oa(K,!0)};F.cursorPageDown=
Y;var ba=function(K){return Ia(K,function(R){return eb(K,R,!0)})};F.cursorLineBoundaryForward=ba;var na=function(K){return Ia(K,function(R){return eb(K,R,!1)})};F.cursorLineBoundaryBackward=na;var Ea=function(K){return Ia(K,function(R){return E.EditorSelection.cursor(K.visualLineAt(R.head).from,1)})};F.cursorLineStart=Ea;var Na=function(K){return Ia(K,function(R){return E.EditorSelection.cursor(K.visualLineAt(R.head).to,-1)})};F.cursorLineEnd=Na;lb=function(K){return ra(K.state,K.dispatch,!1)};F.cursorMatchingBracket=
lb;F.selectMatchingBracket=function(K){return ra(K.state,K.dispatch,!0)};var bb=function(K){return Ja(K,K.textDirection!=Z.Direction.LTR)};F.selectCharLeft=bb;var Wa=function(K){return Ja(K,K.textDirection==Z.Direction.LTR)};F.selectCharRight=Wa;F.selectCharForward=function(K){return Ja(K,!0)};F.selectCharBackward=function(K){return Ja(K,!1)};var fb=function(K){return La(K,K.textDirection!=Z.Direction.LTR)};F.selectGroupLeft=fb;var kb=function(K){return La(K,K.textDirection==Z.Direction.LTR)};F.selectGroupRight=
kb;var gb=function(K){return La(K,!0)};F.selectGroupForward=gb;var ob=function(K){return La(K,!1)};F.selectGroupBackward=ob;var sb=function(K){return Fa(K,function(R){return ma(K.state,R,K.textDirection!=Z.Direction.LTR)})};F.selectSyntaxLeft=sb;var wb=function(K){return Fa(K,function(R){return ma(K.state,R,K.textDirection==Z.Direction.LTR)})};F.selectSyntaxRight=wb;var mb=function(K){return va(K,!1)};F.selectLineUp=mb;var rb=function(K){return va(K,!0)};F.selectLineDown=rb;var Eb=function(K){return Ma(K,
!1)};F.selectPageUp=Eb;var xb=function(K){return Ma(K,!0)};F.selectPageDown=xb;var nb=function(K){return Fa(K,function(R){return eb(K,R,!0)})};F.selectLineBoundaryForward=nb;var yb=function(K){return Fa(K,function(R){return eb(K,R,!1)})};F.selectLineBoundaryBackward=yb;var ac=function(K){return Fa(K,function(R){return E.EditorSelection.cursor(K.visualLineAt(R.head).from)})};F.selectLineStart=ac;var vb=function(K){return Fa(K,function(R){return E.EditorSelection.cursor(K.visualLineAt(R.head).to)})};
F.selectLineEnd=vb;var Yb=function(K){var R=K.dispatch;R(Oa(K.state,{anchor:0}));return!0};F.cursorDocStart=Yb;var Qb=function(K){var R=K.state;K=K.dispatch;K(Oa(R,{anchor:R.doc.length}));return!0};F.cursorDocEnd=Qb;var U=function(K){var R=K.state;K=K.dispatch;K(Oa(R,{anchor:R.selection.primary.anchor,head:0}));return!0};F.selectDocStart=U;var G=function(K){var R=K.state;K=K.dispatch;K(Oa(R,{anchor:R.selection.primary.anchor,head:R.doc.length}));return!0};F.selectDocEnd=G;var J=function(K){var R=
K.state;K=K.dispatch;K(R.update({selection:{anchor:0,head:R.doc.length},annotations:E.Transaction.userEvent.of("keyboardselection")}));return!0};F.selectAll=J;var L=function(K){var R=K.state;K=K.dispatch;var qa=ta(R).map(function(fa){return E.EditorSelection.range(fa.from,Math.min(fa.to+1,R.doc.length))});K(R.update({selection:new E.EditorSelection(qa),annotations:E.Transaction.userEvent.of("keyboardselection")}));return!0};F.selectLine=L;var S=function(K){var R=K.state;K=K.dispatch;var qa=Ha(R.selection,
function(fa){for(var la,ka=(0,p.syntaxTree)(R).resolve(fa.head,1);!(ka.from<fa.from&&ka.to>=fa.to||ka.to>fa.to&&ka.from<=fa.from)&&(null===(la=ka.parent)||void 0===la?0:la.parent);)ka=ka.parent;return E.EditorSelection.range(ka.to,ka.from)});K(Oa(R,qa));return!0};F.selectParentSyntax=S;var W=function(K){var R=K.state;K=K.dispatch;var qa=R.selection,fa=null;1<qa.ranges.length?fa=new E.EditorSelection([qa.primary]):qa.primary.empty||(fa=new E.EditorSelection([E.EditorSelection.cursor(qa.primary.head)]));
if(!fa)return!1;K(Oa(R,fa));return!0};F.simplifySelection=W;var ca=function(K,R,qa){return Va(K,function(fa){var la=K.state,ka=la.doc.lineAt(fa),Ka;if(!R&&fa>ka.from&&fa<ka.from+200&&!/[^ \t]/.test(Ka=ka.slice(0,fa-ka.from))){if("\t"==Ka[Ka.length-1])return fa-1;la=(0,P.countColumn)(Ka,0,la.tabSize)%(0,p.getIndentUnit)(la)||(0,p.getIndentUnit)(la);for(ka=0;ka<la&&" "==Ka[Ka.length-1-ka];ka++)fa--;return fa}qa?(Ka=(Ka=ka.slice(fa-ka.from+(R?0:-2),fa-ka.from+(R?2:0)))?(0,P.codePointSize)((0,P.codePointAt)(Ka,
0)):1,Ka=R?Math.min(la.doc.length,fa+Ka):Math.max(0,fa-Ka)):Ka=ka.findClusterBreak(fa-ka.from,R)+ka.from;Ka==fa&&ka.number!=(R?la.doc.lines:1)&&(Ka+=R?1:-1);return Ka})},ia=function(K){return ca(K,!1,!0)};F.deleteCodePointBackward=ia;F.deleteCodePointForward=function(K){return ca(K,!0,!0)};var sa=function(K){return ca(K,!1,!1)};F.deleteCharBackward=sa;var za=function(K){return ca(K,!0,!1)};F.deleteCharForward=za;var Ga=function(K,R){return Va(K,function(qa){for(var fa=K.state,la=fa.doc.lineAt(qa),
ka=fa.charCategorizer(qa),Ka=null;;){if(qa==(R?la.to:la.from)){if(la.number==(R?fa.doc.lines:1))break;la=fa.doc.line(la.number+(R?1:-1));var $a=R?la.from:la.to;var jb="\n"}else $a=la.findClusterBreak(qa-la.from,R)+la.from,jb=la.slice(Math.min(qa,$a)-la.from,Math.max(qa,$a)-la.from);jb=ka(jb);if(null!=Ka&&jb!=Ka)break;jb!=E.CharCategory.Space&&(Ka=jb);qa=$a}return qa})},Ba=function(K){return Ga(K,!1)};F.deleteGroupBackward=Ba;var Ra=function(K){return Ga(K,!0)};F.deleteGroupForward=Ra;var Ta=function(K){return Va(K,
function(R){var qa=K.visualLineAt(R).to;return R<qa?qa:Math.max(K.state.doc.length,R+1)})};F.deleteToLineEnd=Ta;F.deleteTrailingWhitespace=function(K){var R=K.state;K=K.dispatch;for(var qa=[],fa=0,la="",ka=R.doc.iter();;){ka.next();if(ka.lineBreak||ka.done){var Ka=la.search(/\s+$/);-1<Ka&&qa.push({from:fa-(la.length-Ka),to:fa});if(ka.done)break;la=""}else la=ka.value;fa+=ka.value.length}if(!qa.length)return!1;K(R.update({changes:qa}));return!0};var ab=function(K){var R=K.state;K=K.dispatch;var qa=
R.changeByRange(function(fa){return{changes:{from:fa.from,to:fa.to,insert:P.Text.of(["",""])},range:E.EditorSelection.cursor(fa.from)}});K(R.update(qa,{scrollIntoView:!0,annotations:E.Transaction.userEvent.of("input")}));return!0};F.splitLine=ab;var cb=function(K){var R=K.state;K=K.dispatch;var qa=R.changeByRange(function(fa){if(!fa.empty||0==fa.from||fa.from==R.doc.length)return{range:fa};fa=fa.from;var la=R.doc.lineAt(fa),ka=fa==la.from?fa-1:la.findClusterBreak(fa-la.from,!1)+la.from;la=fa==la.to?
fa+1:la.findClusterBreak(fa-la.from,!0)+la.from;return{changes:{from:ka,to:la,insert:R.doc.slice(fa,la).append(R.doc.slice(ka,fa))},range:E.EditorSelection.cursor(la)}});if(qa.changes.empty)return!1;K(R.update(qa,{scrollIntoView:!0}));return!0};F.transposeChars=cb;var Ua=function(K){return ea(K.state,K.dispatch,!1)};F.moveLineUp=Ua;var tb=function(K){return ea(K.state,K.dispatch,!0)};F.moveLineDown=tb;var Bb=function(K){return q(K.state,K.dispatch,!1)};F.copyLineUp=Bb;var vc=function(K){return q(K.state,
K.dispatch,!0)};F.copyLineDown=vc;var Fb=function(K){var R=K.state,qa=R.changes(ta(R).map(function(la){var ka=la.from;la=la.to;0<ka?ka--:la<R.doc.length&&la++;return{from:ka,to:la}})),fa=Ha(R.selection,function(la){return K.moveVertically(la,!0)}).map(qa);K.dispatch({changes:qa,selection:fa,scrollIntoView:!0});return!0};F.deleteLine=Fb;F.insertNewline=function(K){var R=K.state;K=K.dispatch;K(R.update(R.replaceSelection(R.lineBreak),{scrollIntoView:!0}));return!0};var bc=function(K){var R=K.state;
K=K.dispatch;var qa=R.changeByRange(function(fa){var la=fa.from;fa=fa.to;var ka;if(ka=la==fa)if(ka=la,/\(\)|\[\]|\{\}/.test(R.sliceDoc(ka-1,ka+1)))ka={from:ka,to:ka};else{var Ka=(0,p.syntaxTree)(R).resolve(ka),$a=Ka.childBefore(ka);Ka=Ka.childAfter(ka);var jb;ka=$a&&Ka&&$a.to<=ka&&Ka.from>=ka&&(jb=$a.type.prop(t.NodeProp.closedBy))&&-1<jb.indexOf(Ka.name)?{from:$a.to,to:Ka.from}:null}jb=ka;ka=new p.IndentContext(R,{simulateBreak:la,simulateDoubleBreak:!!jb});$a=(0,p.getIndentation)(ka,la);null==$a&&
($a=/^\s*/.exec(R.doc.lineAt(la).slice(0,50))[0].length);for(Ka=R.doc.lineAt(la);fa<Ka.to&&/\s/.test(Ka.slice(fa-Ka.from,fa+1-Ka.from));)fa++;jb?(la=jb.from,fa=jb.to):la>Ka.from&&la<Ka.from+100&&!/\S/.test(Ka.slice(0,la))&&(la=Ka.from);var hb=["",(0,p.indentString)(R,$a)];jb&&hb.push((0,p.indentString)(R,ka.lineIndent(Ka)));return{changes:{from:la,to:fa,insert:P.Text.of(hb)},range:E.EditorSelection.cursor(la+1+$a)}});K(R.update(qa,{scrollIntoView:!0}));return!0};F.insertNewlineAndIndent=bc;var ic=
function(K){var R=K.state;K=K.dispatch;var qa=Object.create(null),fa=new p.IndentContext(R,{overrideIndentation:function(ka){ka=qa[ka];return null==ka?-1:ka}}),la=y(R,function(ka,Ka,$a){var jb=(0,p.getIndentation)(fa,ka.from);if(null!=jb){var hb=/^\s*/.exec(ka.slice(0,Math.min(ka.length,200)))[0],Rb=(0,p.indentString)(R,jb);if(hb!=Rb||$a.from<ka.from+hb.length)qa[ka.from]=jb,Ka.push({from:ka.from,to:ka.from+hb.length,insert:Rb})}});la.changes.empty||K(R.update(la));return!0};F.indentSelection=ic;
var jc=function(K){var R=K.state;K=K.dispatch;K(R.update(y(R,function(qa,fa){fa.push({from:qa.from,insert:R.facet(p.indentUnit)})})));return!0};F.indentMore=jc;var oc=function(K){var R=K.state;K=K.dispatch;K(R.update(y(R,function(qa,fa){var la=qa.slice(0,Math.min(qa.length,200));if(la=/^\s*/.exec(la)[0]){var ka=(0,P.countColumn)(la,0,R.tabSize),Ka=0;for(ka=(0,p.indentString)(R,Math.max(0,ka-(0,p.getIndentUnit)(R)));Ka<la.length&&Ka<ka.length&&la.charCodeAt(Ka)==ka.charCodeAt(Ka);)Ka++;fa.push({from:qa.from+
Ka,to:qa.from+la.length,insert:ka.slice(Ka)})}})));return!0};F.indentLess=oc;z=[{key:"Ctrl-b",run:r,shift:bb},{key:"Ctrl-f",run:v,shift:Wa},{key:"Ctrl-p",run:D,shift:mb},{key:"Ctrl-n",run:I,shift:rb},{key:"Ctrl-a",run:Ea,shift:ac},{key:"Ctrl-e",run:Na,shift:vb},{key:"Ctrl-d",run:za},{key:"Ctrl-h",run:sa},{key:"Ctrl-k",run:Ta},{key:"Alt-d",run:Ra},{key:"Ctrl-Alt-h",run:Ba},{key:"Ctrl-o",run:ab},{key:"Ctrl-t",run:cb},{key:"Alt-f",run:z,shift:gb},{key:"Alt-b",run:x,shift:ob},{key:"Alt-\x3c",run:Yb},
{key:"Alt-\x3e",run:Qb},{key:"Ctrl-v",run:Y},{key:"Alt-v",run:O}];F.emacsStyleKeymap=z;r=[{key:"ArrowLeft",run:r,shift:bb},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:A,shift:fb},{mac:"Cmd-ArrowLeft",run:Ea,shift:ac},{key:"ArrowRight",run:v,shift:Wa},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:C,shift:kb},{mac:"Cmd-ArrowRight",run:Na,shift:vb},{key:"ArrowUp",run:D,shift:mb},{mac:"Cmd-ArrowUp",run:Yb,shift:U},{mac:"Ctrl-ArrowUp",run:O,shift:Eb},{key:"ArrowDown",run:I,shift:rb},{mac:"Cmd-ArrowDown",
run:Qb,shift:G},{mac:"Ctrl-ArrowDown",run:Y,shift:xb},{key:"PageUp",run:O,shift:Eb},{key:"PageDown",run:Y,shift:xb},{key:"Home",run:na,shift:yb},{key:"Mod-Home",run:Yb,shift:U},{key:"End",run:ba,shift:nb},{key:"Mod-End",run:Qb,shift:G},{key:"Enter",run:bc},{key:"Mod-a",run:J},{key:"Backspace",run:ia},{key:"Delete",run:za},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ba},{key:"Mod-Delete",mac:"Alt-Delete",run:Ra}].concat(z.map(function(K){return{mac:K.key,run:K.run,shift:K.shift}}));F.standardKeymap=
r;Da=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Da,shift:sb},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:aa,shift:wb},{key:"Alt-ArrowUp",run:Ua},{key:"Shift-Alt-ArrowUp",run:Bb},{key:"Alt-ArrowDown",run:tb},{key:"Shift-Alt-ArrowDown",run:vc},{key:"Escape",run:W},{key:"Mod-l",run:L},{key:"Mod-i",run:S},{key:"Mod-[",run:oc},{key:"Mod-]",run:jc},{key:"Mod-Alt-\\",run:ic},{key:"Shift-Mod-k",run:Fb},{key:"Shift-Mod-\\",run:lb}].concat(r);F.defaultKeymap=Da};
var k,aa=this||self;
function q(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}var ba="closure_uid_"+(1E9*Math.random()>>>0),ca=0;function ea(a,b){a.sort(b||fa)}function ha(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||fa;ea(c,function(f,g){return e(f.value,g.value)||f.index-g.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function fa(a,b){return a>b?1:a<b?-1:0};function ia(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b};function ja(a,b){null!=a&&this.append.apply(this,arguments)}k=ja.prototype;k.xa="";k.set=function(a){this.xa=""+a};k.append=function(a,b,c){this.xa+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.xa+=arguments[d];return this};k.clear=function(){this.xa=""};k.toString=function(){return this.xa};var ka={},la={},ma,t={},na=null;function oa(){return new v(null,5,[pa,!0,qa,!0,ra,!1,sa,!1,ta,null],null)}function w(a){return null!=a&&!1!==a}function ua(a){return a instanceof Array}function va(a){return null==a?!0:!1===a?!0:!1}function wa(a){return null!=a}function x(a,b){return a[q(null==b?null:b)]?!0:a._?!0:!1}function y(a,b){var c=null==b?null:b.constructor;c=w(w(c)?c.Ab:c)?c.lb:q(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}
function ya(a){var b=a.lb;return w(b)?b:z.c(a)}var za="undefined"!==typeof Symbol&&"function"===q(Symbol)?Symbol.iterator:"@@iterator";function Aa(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ba(a){function b(d,e){d.push(e);return d}var c=[];return Ca?Ca(b,c,a):Da.call(null,b,c,a)}function Ea(a){return"symbol"===q(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Fa(){}
function Ga(a){if(null!=a&&null!=a.V)a=a.V(a);else{var b=Ga[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ga._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ICounted.-count",a);}return a}function Ha(){}function Ia(a){if(null!=a&&null!=a.W)a=a.W(a);else{var b=Ia[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ia._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IEmptyableCollection.-empty",a);}return a}function Ja(){}
function Ka(a,b){if(null!=a&&null!=a.Y)a=a.Y(a,b);else{var c=Ka[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ka._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("ICollection.-conj",a);}return a}function La(){}
var Oa=function(){function a(d,e,f){var g=Na[q(null==d?null:d)];if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);g=Na._;if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);throw y("IIndexed.-nth",d);}function b(d,e){var f=Na[q(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=Na._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw y("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.l=a;return c}(),Na=function Na(a){switch(arguments.length){case 2:return Na.g(arguments[0],arguments[1]);case 3:return Na.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};Na.g=function(a,b){return null!=a&&null!=a.R?a.R(a,b):Oa(a,b)};Na.l=function(a,b,c){return null!=a&&null!=a.ma?a.ma(a,b,c):Oa(a,b,c)};Na.F=3;
function A(a){if(null!=a&&null!=a.X)a=a.X(a);else{var b=A[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=A._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ISeq.-first",a);}return a}function Pa(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=Pa[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Pa._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ISeq.-rest",a);}return a}function Qa(){}function Ra(){}
var Ta=function(){function a(d,e,f){var g=Sa[q(null==d?null:d)];if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);g=Sa._;if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);throw y("ILookup.-lookup",d);}function b(d,e){var f=Sa[q(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw y("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.l=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.g(arguments[0],arguments[1]);case 3:return Sa.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};Sa.g=function(a,b){return null!=a&&null!=a.ka?a.ka(a,b):Ta(a,b)};Sa.l=function(a,b,c){return null!=a&&null!=a.K?a.K(a,b,c):Ta(a,b,c)};Sa.F=3;
function Ua(a,b,c){if(null!=a&&null!=a.va)a=a.va(a,b,c);else{var d=Ua[q(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=Ua._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw y("IAssociative.-assoc",a);}return a}function Va(a,b){if(null!=a&&null!=a.Ya)a=a.Ya(a,b);else{var c=Va[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Va._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IFind.-find",a);}return a}function Wa(){}
function Xa(a,b){if(null!=a&&null!=a.rb)a=a.rb(a,b);else{var c=Xa[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Xa._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IMap.-dissoc",a);}return a}function Ya(a){if(null!=a&&null!=a.Kb)a=a.key;else{var b=Ya[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ya._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IMapEntry.-key",a);}return a}
function Za(a){if(null!=a&&null!=a.Lb)a=a.O;else{var b=Za[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Za._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IMapEntry.-val",a);}return a}function $a(){}function ab(){}function bb(a){if(null!=a&&null!=a.qb)a=a.qb(a);else{var b=bb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=bb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IDeref.-deref",a);}return a}function cb(){}
function db(a){if(null!=a&&null!=a.S)a=a.S(a);else{var b=db[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=db._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IMeta.-meta",a);}return a}function eb(a,b){if(null!=a&&null!=a.U)a=a.U(a,b);else{var c=eb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IWithMeta.-with-meta",a);}return a}function fb(){}
var hb=function(){function a(d,e,f){var g=gb[q(null==d?null:d)];if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);g=gb._;if(null!=g)return g.l?g.l(d,e,f):g.call(null,d,e,f);throw y("IReduce.-reduce",d);}function b(d,e){var f=gb[q(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=gb._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw y("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.l=a;return c}(),gb=function gb(a){switch(arguments.length){case 2:return gb.g(arguments[0],arguments[1]);case 3:return gb.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};gb.g=function(a,b){return null!=a&&null!=a.ba?a.ba(a,b):hb(a,b)};gb.l=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):hb(a,b,c)};gb.F=3;function ib(){}
function jb(a,b,c){if(null!=a&&null!=a.jb)a=a.jb(a,b,c);else{var d=jb[q(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=jb._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw y("IKVReduce.-kv-reduce",a);}return a}function kb(a,b){if(null!=a&&null!=a.P)a=a.P(a,b);else{var c=kb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=kb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IEquiv.-equiv",a);}return a}
function lb(a){if(null!=a&&null!=a.T)a=a.T(a);else{var b=lb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=lb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IHash.-hash",a);}return a}function mb(){}function nb(a){if(null!=a&&null!=a.M)a=a.M(a);else{var b=nb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=nb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ISeqable.-seq",a);}return a}function ob(){}function pb(){}function qb(){}function rb(){}
function sb(a){if(null!=a&&null!=a.kb)a=a.kb(a);else{var b=sb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=sb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IReversible.-rseq",a);}return a}function tb(a,b){if(null!=a&&null!=a.zb)a=a.zb(a,b);else{var c=tb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=tb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IWriter.-write",a);}return a}function ub(){}
function vb(a,b,c){if(null!=a&&null!=a.N)a=a.N(a,b,c);else{var d=vb[q(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=vb._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw y("IPrintWithWriter.-pr-writer",a);}return a}function wb(a){if(null!=a&&null!=a.Sa)a=a.Sa(a);else{var b=wb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=wb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IEditableCollection.-as-transient",a);}return a}
function xb(a,b){if(null!=a&&null!=a.Ua)a=a.Ua(a,b);else{var c=xb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=xb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("ITransientCollection.-conj!",a);}return a}function yb(a){if(null!=a&&null!=a.$a)a=a.$a(a);else{var b=yb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=yb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("ITransientCollection.-persistent!",a);}return a}
function zb(a,b,c){if(null!=a&&null!=a.Ta)a=a.Ta(a,b,c);else{var d=zb[q(null==a?null:a)];if(null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else if(d=zb._,null!=d)a=d.l?d.l(a,b,c):d.call(null,a,b,c);else throw y("ITransientAssociative.-assoc!",a);}return a}function Ab(){}function Bb(a,b){if(null!=a&&null!=a.Ra)a=a.Ra(a,b);else{var c=Bb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Bb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IComparable.-compare",a);}return a}
function Cb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=Cb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Cb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IChunk.-drop-first",a);}return a}function Db(a){if(null!=a&&null!=a.pb)a=a.pb(a);else{var b=Db[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Db._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-first",a);}return a}
function Eb(a){if(null!=a&&null!=a.ib)a=a.ib(a);else{var b=Eb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Eb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-rest",a);}return a}function Fb(a,b){if(null!=a&&null!=a.Pb)a=a.Pb(a,b);else{var c=Fb[q(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Fb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw y("IReset.-reset!",a);}return a}
var Hb=function(){function a(f,g,h,l,m){var n=Gb[q(null==f?null:f)];if(null!=n)return n.ja?n.ja(f,g,h,l,m):n.call(null,f,g,h,l,m);n=Gb._;if(null!=n)return n.ja?n.ja(f,g,h,l,m):n.call(null,f,g,h,l,m);throw y("ISwap.-swap!",f);}function b(f,g,h,l){var m=Gb[q(null==f?null:f)];if(null!=m)return m.I?m.I(f,g,h,l):m.call(null,f,g,h,l);m=Gb._;if(null!=m)return m.I?m.I(f,g,h,l):m.call(null,f,g,h,l);throw y("ISwap.-swap!",f);}function c(f,g,h){var l=Gb[q(null==f?null:f)];if(null!=l)return l.l?l.l(f,g,h):l.call(null,
f,g,h);l=Gb._;if(null!=l)return l.l?l.l(f,g,h):l.call(null,f,g,h);throw y("ISwap.-swap!",f);}function d(f,g){var h=Gb[q(null==f?null:f)];if(null!=h)return h.g?h.g(f,g):h.call(null,f,g);h=Gb._;if(null!=h)return h.g?h.g(f,g):h.call(null,f,g);throw y("ISwap.-swap!",f);}var e=null;e=function(f,g,h,l,m){switch(arguments.length){case 2:return d.call(this,f,g);case 3:return c.call(this,f,g,h);case 4:return b.call(this,f,g,h,l);case 5:return a.call(this,f,g,h,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.g=d;e.l=c;e.I=b;e.ja=a;return e}(),Gb=function Gb(a){switch(arguments.length){case 2:return Gb.g(arguments[0],arguments[1]);case 3:return Gb.l(arguments[0],arguments[1],arguments[2]);case 4:return Gb.I(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Gb.ja(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};Gb.g=function(a,b){return null!=a&&null!=a.Rb?a.Rb(a,b):Hb(a,b)};
Gb.l=function(a,b,c){return null!=a&&null!=a.Sb?a.Sb(a,b,c):Hb(a,b,c)};Gb.I=function(a,b,c,d){return null!=a&&null!=a.Tb?a.Tb(a,b,c,d):Hb(a,b,c,d)};Gb.ja=function(a,b,c,d,e){return null!=a&&null!=a.Ub?a.Ub(a,b,c,d,e):Hb(a,b,c,d,e)};Gb.F=5;function Ib(){}function Jb(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=Jb[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IIterable.-iterator",a);}return a}
function Kb(a){this.Yb=a;this.j=1073741824;this.A=0}Kb.prototype.zb=function(a,b){return this.Yb.append(b)};function Lb(a){var b=new ja;a.N(null,new Kb(b),oa());return z.c(b)}var Mb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Nb(a){a=Mb(a|0,-862048943);return Mb(a<<15|a>>>-15,461845907)}
function Ob(a,b){a=(a|0)^(b|0);return Mb(a<<13|a>>>-13,5)+-430675100|0}function Pb(a,b){a=(a|0)^b;a=Mb(a^a>>>16,-2048144789);a=Mb(a^a>>>13,-1028477387);return a^a>>>16}function Qb(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Ob(c,Nb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return Pb(1===(a.length&1)?b^Nb(a.charCodeAt(a.length-1)):b,Mb(2,a.length))}var Rb={},Sb=0;
function Tb(a){255<Sb&&(Rb={},Sb=0);if(null==a)return 0;var b=Rb[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Mb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Rb[a]=b;Sb+=1;a=b}return a}
function Ub(a){if(null!=a&&(a.j&4194304||t===a.dc))return a.T(null)^0;if("number"===typeof a){if(w(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Tb(a),a=0===a?a:Pb(Ob(0,Nb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:lb(a)^0,a}function Vb(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Wb(a,b){if(a.str===b.str)return 0;if(w(va(a.ha)?b.ha:!1))return-1;if(w(a.ha)){if(va(b.ha))return 1;var c=fa(a.ha,b.ha);return 0===c?fa(a.name,b.name):c}return fa(a.name,b.name)}function Xb(a,b,c,d,e){this.ha=a;this.name=b;this.str=c;this.Qa=d;this.ta=e;this.j=2154168321;this.A=4096}k=Xb.prototype;k.toString=function(){return this.str};k.P=function(a,b){return b instanceof Xb?this.str===b.str:!1};
k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};k.c=function(a){return C.g?C.g(a,this):C.call(null,a,this)};k.g=function(a,b){return C.l?C.l(a,this,b):C.call(null,a,this,b)};k.S=function(){return this.ta};
k.U=function(a,b){return new Xb(this.ha,this.name,this.str,this.Qa,b)};k.T=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Vb(Qb(this.name),Tb(this.ha))};k.N=function(a,b){return tb(b,this.str)};var Yb=function Yb(a){switch(arguments.length){case 1:return Yb.c(arguments[0]);case 2:return Yb.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};
Yb.c=function(a){for(;;){if(a instanceof Xb)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Yb.g(null,a):Yb.g(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof E)a=a.oa;else throw Error("no conversion to symbol");}};Yb.g=function(a,b){var c=null!=a?[z.c(a),"/",z.c(b)].join(""):b;return new Xb(a,b,c,null,null)};Yb.F=2;function Zb(a){return null!=a?a.A&131072||t===a.ec?!0:a.A?!1:x(Ib,a):x(Ib,a)}
function G(a){if(null==a)return null;if(null!=a&&(a.j&8388608||t===a.Qb))return a.M(null);if(ua(a)||"string"===typeof a)return 0===a.length?null:new H(a,0,null);if(null!=a&&null!=a[za])return a=(null!==a&&za in a?a[za]:void 0).call(a),$b.c?$b.c(a):$b.call(null,a);if(x(mb,a))return nb(a);throw Error([z.c(a)," is not ISeqable"].join(""));}function I(a){if(null==a)return null;if(null!=a&&(a.j&64||t===a.u))return a.X(null);a=G(a);return null==a?null:A(a)}
function ac(a){return null!=a?null!=a&&(a.j&64||t===a.u)?a.da(null):(a=G(a))?a.da(null):J:J}function K(a){return null==a?null:null!=a&&(a.j&128||t===a.Za)?a.aa():G(ac(a))}var M=function M(a){switch(arguments.length){case 1:return M.c(arguments[0]);case 2:return M.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return M.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};M.c=function(){return!0};
M.g=function(a,b){return null==a?null==b:a===b||kb(a,b)};M.s=function(a,b,c){for(;;)if(M.g(a,b))if(K(c))a=b,b=I(c),c=K(c);else return M.g(b,I(c));else return!1};M.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};M.F=2;function bc(a){this.D=a}bc.prototype.next=function(){if(null!=this.D){var a=I(this.D);this.D=K(this.D);return{value:a,done:!1}}return{value:null,done:!0}};function cc(a){return new bc(G(a))}
function dc(a,b){this.value=a;this.Wa=b;this.nb=null;this.j=8388672;this.A=0}dc.prototype.M=function(){return this};dc.prototype.X=function(){return this.value};dc.prototype.da=function(){null==this.nb&&(this.nb=$b.c?$b.c(this.Wa):$b.call(null,this.Wa));return this.nb};function $b(a){var b=a.next();return w(b.done)?null:new dc(b.value,a)}function ec(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=Mb(31,c)+Ub(I(a))|0,a=K(a);else return Pb(Ob(0,Nb(c)),b)}var fc=Pb(Ob(0,Nb(1)),0);
function gc(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+Ub(I(a))|0,a=K(a);else return Pb(Ob(0,Nb(c)),b)}var hc=Pb(Ob(0,Nb(0)),0);Fa["null"]=!0;Ga["null"]=function(){return 0};Date.prototype.P=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Xa=t;Date.prototype.Ra=function(a,b){if(b instanceof Date)return fa(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};kb.number=function(a,b){return a===b};cb["function"]=!0;
db["function"]=function(){return null};lb._=function(a){return a[ba]||(a[ba]=++ca)};function ic(a){this.O=a;this.j=32768;this.A=0}ic.prototype.qb=function(){return this.O};function jc(a){return a instanceof ic}function kc(a){return bb(a)}function lc(a,b){var c=a.length;if(0===a.length)return b.B?b.B():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.g?b.g(d,f):b.call(null,d,f);if(jc(d))return bb(d);e+=1}else return d}
function mc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.g?b.g(e,f):b.call(null,e,f);if(jc(e))return bb(e);c+=1}else return e}function nc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.g?b.g(c,f):b.call(null,c,f);if(jc(c))return bb(c);d+=1}else return c}function oc(a){return null!=a?a.j&2||t===a.Db?!0:a.j?!1:x(Fa,a):x(Fa,a)}function pc(a){return null!=a?a.j&16||t===a.xb?!0:a.j?!1:x(La,a):x(La,a)}
function N(a,b,c){var d=O.c?O.c(a):O.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(M.g(qc?qc(a,c):rc.call(null,a,c),b))return c;c+=1}else return-1}function P(a,b,c){var d=O.c?O.c(a):O.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(M.g(qc?qc(a,c):rc.call(null,a,c),b))return c;--c}else return-1}function sc(a,b){this.h=a;this.i=b}sc.prototype.fa=function(){return this.i<this.h.length};
sc.prototype.next=function(){var a=this.h[this.i];this.i+=1;return a};function H(a,b,c){this.h=a;this.i=b;this.meta=c;this.j=166592766;this.A=139264}k=H.prototype;k.toString=function(){return Lb(this)};k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O.c?O.c(this):O.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.R=function(a,b){a=b+this.i;if(0<=a&&a<this.h.length)return this.h[a];throw Error("Index out of bounds");};k.ma=function(a,b,c){a=b+this.i;return 0<=a&&a<this.h.length?this.h[a]:c};
k.na=function(){return new sc(this.h,this.i)};k.S=function(){return this.meta};k.aa=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):null};k.V=function(){var a=this.h.length-this.i;return 0>a?0:a};k.kb=function(){var a=this.V(null);return 0<a?new tc(this,a-1,null):null};k.T=function(){return ec(this)};k.P=function(a,b){return uc.g?uc.g(this,b):uc.call(null,this,b)};k.W=function(){return J};k.ba=function(a,b){return nc(this.h,b,this.h[this.i],this.i+1)};
k.ca=function(a,b,c){return nc(this.h,b,c,this.i)};k.X=function(){return this.h[this.i]};k.da=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):J};k.M=function(){return this.i<this.h.length?this:null};k.U=function(a,b){return b===this.meta?this:new H(this.h,this.i,b)};k.Y=function(a,b){return Q.g?Q.g(b,this):Q.call(null,b,this)};H.prototype[za]=function(){return cc(this)};function vc(a){return 0<a.length?new H(a,0,null):null}
function tc(a,b,c){this.hb=a;this.i=b;this.meta=c;this.j=32374990;this.A=8192}k=tc.prototype;k.toString=function(){return Lb(this)};k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O.c?O.c(this):O.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.meta};k.aa=function(){return 0<this.i?new tc(this.hb,this.i-1,null):null};k.V=function(){return this.i+1};k.T=function(){return ec(this)};
k.P=function(a,b){return uc.g?uc.g(this,b):uc.call(null,this,b)};k.W=function(){return J};k.ba=function(a,b){return wc?wc(b,this):xc.call(null,b,this)};k.ca=function(a,b,c){return yc?yc(b,c,this):xc.call(null,b,c,this)};k.X=function(){return Na(this.hb,this.i)};k.da=function(){return 0<this.i?new tc(this.hb,this.i-1,null):J};k.M=function(){return this};k.U=function(a,b){return b===this.meta?this:new tc(this.hb,this.i,b)};k.Y=function(a,b){return Q.g?Q.g(b,this):Q.call(null,b,this)};
tc.prototype[za]=function(){return cc(this)};function zc(a){for(;;){var b=K(a);if(null!=b)a=b;else return I(a)}}kb._=function(a,b){return a===b};var Ac=function Ac(a){switch(arguments.length){case 0:return Ac.B();case 1:return Ac.c(arguments[0]);case 2:return Ac.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ac.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Ac.B=function(){return Bc};Ac.c=function(a){return a};
Ac.g=function(a,b){return null!=a?Ka(a,b):new Cc(null,b,null,1,null)};Ac.s=function(a,b,c){for(;;)if(w(c))a=Ac.g(a,b),b=I(c),c=K(c);else return Ac.g(a,b)};Ac.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};Ac.F=2;
function O(a){if(null!=a)if(null!=a&&(a.j&2||t===a.Db))a=a.V(null);else if(ua(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.j&8388608||t===a.Qb))a:{a=G(a);for(var b=0;;){if(oc(a)){a=b+Ga(a);break a}a=K(a);b+=1}}else a=Ga(a);else a=0;return a}function Dc(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?I(a):c;if(pc(a))return Na(a,b,c);if(G(a))a=K(a),--b;else return c}}
function rc(a){switch(arguments.length){case 2:return qc(arguments[0],arguments[1]);case 3:return S(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}
function qc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.j&16||t===a.xb))return a.R(null,b);if(ua(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.j&64||t===a.u)||null!=a&&(a.j&16777216||t===a.yb)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=I(a);break a}throw Error("Index out of bounds");}if(pc(a)){a=Na(a,b);break a}if(G(a))a=K(a),--b;else throw Error("Index out of bounds");}return a}if(x(La,a))return Na(a,b);throw Error(["nth not supported on this type ",z.c(ya(null==a?null:a.constructor))].join(""));}
function S(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.j&16||t===a.xb))return a.ma(null,b,c);if(ua(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.j&64||t===a.u)||null!=a&&(a.j&16777216||t===a.yb))return 0>b?c:Dc(a,b,c);if(x(La,a))return Na(a,b,c);throw Error(["nth not supported on this type ",z.c(ya(null==a?null:a.constructor))].join(""));}
var C=function C(a){switch(arguments.length){case 2:return C.g(arguments[0],arguments[1]);case 3:return C.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};C.g=function(a,b){return null==a?null:null!=a&&(a.j&256||t===a.Jb)?a.ka(null,b):ua(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:x(Ra,a)?Sa(a,b):null};
C.l=function(a,b,c){return null!=a?null!=a&&(a.j&256||t===a.Jb)?a.K(null,b,c):ua(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:x(Ra,a)?Sa(a,b,c):c:c};C.F=3;var Ec=function Ec(a){switch(arguments.length){case 3:return Ec.l(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ec.s(arguments[0],arguments[1],arguments[2],new H(c.slice(3),0,null))}};
Ec.l=function(a,b,c){if(null!=a&&(a.j&512||t===a.ac))a=a.va(null,b,c);else if(null!=a)a=Ua(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Fc(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new v(null,b.length/2,b,null)}return a};Ec.s=function(a,b,c,d){for(;;)if(a=Ec.l(a,b,c),w(d))b=I(d),c=I(K(d)),d=K(K(d));else return a};Ec.C=function(a){var b=I(a),c=K(a);a=I(c);var d=K(c);c=I(d);d=K(d);return this.s(b,a,c,d)};Ec.F=3;
var Gc=function Gc(a){switch(arguments.length){case 1:return Gc.c(arguments[0]);case 2:return Gc.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Gc.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Gc.c=function(a){return a};Gc.g=function(a,b){return null==a?null:Xa(a,b)};Gc.s=function(a,b,c){for(;;){if(null==a)return null;a=Gc.g(a,b);if(w(c))b=I(c),c=K(c);else return a}};
Gc.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};Gc.F=2;function Hc(a,b){this.o=a;this.meta=b;this.j=393217;this.A=0}k=Hc.prototype;k.S=function(){return this.meta};k.U=function(a,b){return new Hc(this.o,b)};
k.call=function(a){switch(arguments.length-1){case 0:return this.B();case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);case 3:return this.l(arguments[1],arguments[2],arguments[3]);case 4:return this.I(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ka(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ea(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ga(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=arguments[5],g=arguments[6],h=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],p=arguments[11],r=arguments[12],u=arguments[13],B=arguments[14],F=arguments[15],
D=arguments[16],R=arguments[17],X=arguments[18],da=arguments[19],xa=arguments[20],Ma=arguments[21];return Ic.Ib?Ic.Ib(this.o,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da,xa,Ma):Ic.call(null,this.o,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da,xa,Ma);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};k.B=function(){return this.o.B?this.o.B():this.o.call(null)};
k.c=function(a){return this.o.c?this.o.c(a):this.o.call(null,a)};k.g=function(a,b){return this.o.g?this.o.g(a,b):this.o.call(null,a,b)};k.l=function(a,b,c){return this.o.l?this.o.l(a,b,c):this.o.call(null,a,b,c)};k.I=function(a,b,c,d){return this.o.I?this.o.I(a,b,c,d):this.o.call(null,a,b,c,d)};k.ja=function(a,b,c,d,e){return this.o.ja?this.o.ja(a,b,c,d,e):this.o.call(null,a,b,c,d,e)};k.Ja=function(a,b,c,d,e,f){return this.o.Ja?this.o.Ja(a,b,c,d,e,f):this.o.call(null,a,b,c,d,e,f)};
k.Ka=function(a,b,c,d,e,f,g){return this.o.Ka?this.o.Ka(a,b,c,d,e,f,g):this.o.call(null,a,b,c,d,e,f,g)};k.La=function(a,b,c,d,e,f,g,h){return this.o.La?this.o.La(a,b,c,d,e,f,g,h):this.o.call(null,a,b,c,d,e,f,g,h)};k.Ma=function(a,b,c,d,e,f,g,h,l){return this.o.Ma?this.o.Ma(a,b,c,d,e,f,g,h,l):this.o.call(null,a,b,c,d,e,f,g,h,l)};k.ya=function(a,b,c,d,e,f,g,h,l,m){return this.o.ya?this.o.ya(a,b,c,d,e,f,g,h,l,m):this.o.call(null,a,b,c,d,e,f,g,h,l,m)};
k.za=function(a,b,c,d,e,f,g,h,l,m,n){return this.o.za?this.o.za(a,b,c,d,e,f,g,h,l,m,n):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n)};k.Aa=function(a,b,c,d,e,f,g,h,l,m,n,p){return this.o.Aa?this.o.Aa(a,b,c,d,e,f,g,h,l,m,n,p):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n,p)};k.Ba=function(a,b,c,d,e,f,g,h,l,m,n,p,r){return this.o.Ba?this.o.Ba(a,b,c,d,e,f,g,h,l,m,n,p,r):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n,p,r)};
k.Ca=function(a,b,c,d,e,f,g,h,l,m,n,p,r,u){return this.o.Ca?this.o.Ca(a,b,c,d,e,f,g,h,l,m,n,p,r,u):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n,p,r,u)};k.Da=function(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B){return this.o.Da?this.o.Da(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n,p,r,u,B)};k.Ea=function(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F){return this.o.Ea?this.o.Ea(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F)};
k.Fa=function(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D){return this.o.Fa?this.o.Fa(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D)};k.Ga=function(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R){return this.o.Ga?this.o.Ga(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R)};
k.Ha=function(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X){return this.o.Ha?this.o.Ha(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X)};k.Ia=function(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da){return this.o.Ia?this.o.Ia(a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da):this.o.call(null,a,b,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da)};function Jc(a,b){return"function"==q(a)?new Hc(a,b):null==a?null:eb(a,b)}
function Kc(a){return null!=a&&(null!=a?a.j&131072||t===a.Mb||(a.j?0:x(cb,a)):x(cb,a))?db(a):null}function Lc(a){return null==a?!1:null!=a?a.j&4096||t===a.mc?!0:a.j?!1:x($a,a):x($a,a)}function Mc(a){return null!=a?a.j&16777216||t===a.yb?!0:a.j?!1:x(ob,a):x(ob,a)}function Nc(a){return null==a?!1:null!=a?a.j&1024||t===a.ic?!0:a.j?!1:x(Wa,a):x(Wa,a)}function Oc(a){return null!=a?a.j&67108864||t===a.kc?!0:a.j?!1:x(qb,a):x(qb,a)}
function Pc(a){return null!=a?a.j&16384||t===a.nc?!0:a.j?!1:x(ab,a):x(ab,a)}function Qc(a){return null!=a?a.A&512||t===a.bc?!0:!1:!1}function Rc(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Sc={};function Tc(a){return null==a?!1:!1===a?!1:!0}function Uc(a,b){return C.l(a,b,Sc)===Sc?!1:!0}
function Vc(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return fa(a,b);throw Error(["Cannot compare ",z.c(a)," to ",z.c(b)].join(""));}if(null!=a?a.A&2048||t===a.Xa||(a.A?0:x(Ab,a)):x(Ab,a))return Bb(a,b);if("string"!==typeof a&&!ua(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",z.c(a)," to ",z.c(b)].join(""));return fa(a,b)}
function Wc(a,b){var c=O(a),d=O(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Vc(qc(a,d),qc(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Xc(a){return M.g(a,Vc)?Vc:function(b,c){var d=a.g?a.g(b,c):a.call(null,b,c);return"number"===typeof d?d:w(d)?-1:w(a.g?a.g(c,b):a.call(null,c,b))?1:0}}function Yc(a,b){return G(b)?(b=Zc.c?Zc.c(b):Zc.call(null,b),ha(b,Xc(a)),G(b)):J}
function $c(){return Yc(function(a,b){a=I.c?I.c(a):I.call(null,a);b=I.c?I.c(b):I.call(null,b);var c=Xc(Vc);return c.g?c.g(a,b):c.call(null,a,b)},ad)}function xc(a){switch(arguments.length){case 2:return wc(arguments[0],arguments[1]);case 3:return yc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function wc(a,b){var c=G(b);return c?(b=I(c),c=K(c),Ca?Ca(a,b,c):Da.call(null,a,b,c)):a.B?a.B():a.call(null)}
function yc(a,b,c){for(c=G(c);;)if(c){var d=I(c);b=a.g?a.g(b,d):a.call(null,b,d);if(jc(b))return bb(b);c=K(c)}else return b}function bd(a,b){a=Jb(a);if(w(a.fa()))for(var c=a.next();;)if(a.fa()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(jc(c))return bb(c)}else return c;else return b.B?b.B():b.call(null)}function cd(a,b,c){for(a=Jb(a);;)if(a.fa()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(jc(c))return bb(c)}else return c}
function Da(a){switch(arguments.length){case 2:return dd(arguments[0],arguments[1]);case 3:return Ca(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function dd(a,b){return null!=b&&(b.j&524288||t===b.Ob)?b.ba(null,a):ua(b)?lc(b,a):"string"===typeof b?lc(b,a):x(fb,b)?gb(b,a):Zb(b)?bd(b,a):wc(a,b)}
function Ca(a,b,c){return null!=c&&(c.j&524288||t===c.Ob)?c.ca(null,a,b):ua(c)?mc(c,a,b):"string"===typeof c?mc(c,a,b):x(fb,c)?gb(c,a,b):Zb(c)?cd(c,a,b):yc(a,b,c)}function ed(a,b,c){return null!=c?jb(c,a,b):b}function fd(a){return a}function gd(a,b,c,d){a=a.c?a.c(b):a.call(null,b);c=Ca(a,c,d);return a.c?a.c(c):a.call(null,c)}function hd(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}
function id(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}function jd(a){return 0>a}var z=function z(a){switch(arguments.length){case 0:return z.B();case 1:return z.c(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return z.s(arguments[0],new H(c.slice(1),0,null))}};z.B=function(){return""};z.c=function(a){return null==a?"":[a].join("")};
z.s=function(a,b){for(a=new ja(z.c(a));;)if(w(b))a=a.append(z.c(I(b))),b=K(b);else return a.toString()};z.C=function(a){var b=I(a);a=K(a);return this.s(b,a)};z.F=1;function uc(a,b){if(Mc(b))if(oc(a)&&oc(b)&&O(a)!==O(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&M.g(I(a),I(b)))a=K(a),b=K(b);else{a=!1;break a}}else a=null;return Tc(a)}function Cc(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.v=e;this.j=65937646;this.A=8192}k=Cc.prototype;
k.toString=function(){return Lb(this)};k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.meta};k.aa=function(){return 1===this.count?null:this.rest};k.V=function(){return this.count};k.T=function(){var a=this.v;return null!=a?a:this.v=a=ec(this)};k.P=function(a,b){return uc(this,b)};
k.W=function(){return eb(J,this.meta)};k.ba=function(a,b){return wc(b,this)};k.ca=function(a,b,c){return yc(b,c,this)};k.X=function(){return this.first};k.da=function(){return 1===this.count?J:this.rest};k.M=function(){return this};k.U=function(a,b){return b===this.meta?this:new Cc(b,this.first,this.rest,this.count,this.v)};k.Y=function(a,b){return new Cc(this.meta,b,this,this.count+1,null)};Cc.prototype[za]=function(){return cc(this)};function kd(a){this.meta=a;this.j=65937614;this.A=8192}k=kd.prototype;
k.toString=function(){return Lb(this)};k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.meta};k.aa=function(){return null};k.V=function(){return 0};k.T=function(){return fc};k.P=function(a,b){return(null!=b?b.j&33554432||t===b.hc||(b.j?0:x(pb,b)):x(pb,b))||Mc(b)?null==G(b):!1};k.W=function(){return this};
k.ba=function(a,b){return wc(b,this)};k.ca=function(a,b,c){return yc(b,c,this)};k.X=function(){return null};k.da=function(){return J};k.M=function(){return null};k.U=function(a,b){return b===this.meta?this:new kd(b)};k.Y=function(a,b){return new Cc(this.meta,b,null,1,null)};var J=new kd(null);kd.prototype[za]=function(){return cc(this)};function ld(a){return(null!=a?a.j&134217728||t===a.lc||(a.j?0:x(rb,a)):x(rb,a))?(a=sb(a))?a:J:Ca(Ac,J,a)}
function md(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.v=d;this.j=65929452;this.A=8192}k=md.prototype;k.toString=function(){return Lb(this)};k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.meta};k.aa=function(){return null==this.rest?null:G(this.rest)};k.T=function(){var a=this.v;return null!=a?a:this.v=a=ec(this)};k.P=function(a,b){return uc(this,b)};k.W=function(){return J};
k.ba=function(a,b){return wc(b,this)};k.ca=function(a,b,c){return yc(b,c,this)};k.X=function(){return this.first};k.da=function(){return null==this.rest?J:this.rest};k.M=function(){return this};k.U=function(a,b){return b===this.meta?this:new md(b,this.first,this.rest,this.v)};k.Y=function(a,b){return new md(null,b,this,null)};md.prototype[za]=function(){return cc(this)};
function Q(a,b){return null==b?new Cc(null,a,null,1,null):null!=b&&(b.j&64||t===b.u)?new md(null,a,b,null):new md(null,a,G(b),null)}function nd(a,b){if(a.oa===b.oa)return 0;if(w(va(a.ha)?b.ha:!1))return-1;if(w(a.ha)){if(va(b.ha))return 1;var c=fa(a.ha,b.ha);return 0===c?fa(a.name,b.name):c}return fa(a.name,b.name)}function E(a,b,c,d){this.ha=a;this.name=b;this.oa=c;this.Qa=d;this.j=2153775105;this.A=4096}k=E.prototype;k.toString=function(){return[":",z.c(this.oa)].join("")};
k.P=function(a,b){return b instanceof E?this.oa===b.oa:!1};k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};k.c=function(a){return C.g(a,this)};k.g=function(a,b){return C.l(a,this,b)};
k.T=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Vb(Qb(this.name),Tb(this.ha))+2654435769|0};k.N=function(a,b){return tb(b,[":",z.c(this.oa)].join(""))};function od(a){if(null!=a&&(a.A&4096||t===a.Nb))return a.ha;throw Error(["Doesn't support namespace: ",z.c(a)].join(""));}var pd=function pd(a){switch(arguments.length){case 1:return pd.c(arguments[0]);case 2:return pd.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};
pd.c=function(a){if(a instanceof E)return a;if(a instanceof Xb)return new E(od(a),qd.c?qd.c(a):qd.call(null,a),a.str,null);if(M.g("/",a))return new E(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new E(b[0],b[1],a,null):new E(null,b[0],a,null)}return null};
pd.g=function(a,b){a=a instanceof E?qd.c?qd.c(a):qd.call(null,a):a instanceof Xb?qd.c?qd.c(a):qd.call(null,a):a;b=b instanceof E?qd.c?qd.c(b):qd.call(null,b):b instanceof Xb?qd.c?qd.c(b):qd.call(null,b):b;return new E(a,b,[w(a)?[z.c(a),"/"].join(""):null,z.c(b)].join(""),null)};pd.F=2;function rd(a,b,c){this.meta=a;this.ab=b;this.D=null;this.v=c;this.j=32374988;this.A=1}k=rd.prototype;k.toString=function(){return Lb(this)};
function sd(a){null!=a.ab&&(a.D=a.ab.B?a.ab.B():a.ab.call(null),a.ab=null);return a.D}k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.meta};k.aa=function(){this.M(null);return null==this.D?null:K(this.D)};k.T=function(){var a=this.v;return null!=a?a:this.v=a=ec(this)};k.P=function(a,b){return uc(this,b)};
k.W=function(){return eb(J,this.meta)};k.ba=function(a,b){return wc(b,this)};k.ca=function(a,b,c){return yc(b,c,this)};k.X=function(){this.M(null);return null==this.D?null:I(this.D)};k.da=function(){this.M(null);return null!=this.D?ac(this.D):J};k.M=function(){sd(this);if(null==this.D)return null;for(var a=this.D;;)if(a instanceof rd)a=sd(a);else return this.D=a,G(this.D)};k.U=function(a,b){var c=this;return b===this.meta?c:new rd(b,function(){return c.M(null)},this.v)};
k.Y=function(a,b){return Q(b,this)};rd.prototype[za]=function(){return cc(this)};function td(a){this.ob=a;this.end=0;this.j=2;this.A=0}td.prototype.add=function(a){this.ob[this.end]=a;return this.end+=1};td.prototype.chunk=function(){var a=new ud(this.ob,0,this.end);this.ob=null;return a};td.prototype.V=function(){return this.end};function ud(a,b,c){this.h=a;this.off=b;this.end=c;this.j=524306;this.A=0}k=ud.prototype;k.V=function(){return this.end-this.off};
k.R=function(a,b){return this.h[this.off+b]};k.ma=function(a,b,c){return 0<=b&&b<this.end-this.off?this.h[this.off+b]:c};k.vb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new ud(this.h,this.off+1,this.end)};k.ba=function(a,b){return nc(this.h,b,this.h[this.off],this.off+1)};k.ca=function(a,b,c){return nc(this.h,b,c,this.off)};function vd(a,b,c,d){this.chunk=a;this.ra=b;this.meta=c;this.v=d;this.j=31850732;this.A=1536}k=vd.prototype;k.toString=function(){return Lb(this)};
k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.meta};k.aa=function(){return 1<Ga(this.chunk)?new vd(Cb(this.chunk),this.ra,null,null):null==this.ra?null:nb(this.ra)};k.T=function(){var a=this.v;return null!=a?a:this.v=a=ec(this)};
k.P=function(a,b){return uc(this,b)};k.W=function(){return J};k.X=function(){return Na(this.chunk,0)};k.da=function(){return 1<Ga(this.chunk)?new vd(Cb(this.chunk),this.ra,null,null):null==this.ra?J:this.ra};k.M=function(){return this};k.pb=function(){return this.chunk};k.ib=function(){return null==this.ra?J:this.ra};k.U=function(a,b){return b===this.meta?this:new vd(this.chunk,this.ra,b,this.v)};k.Y=function(a,b){return Q(b,this)};k.wb=function(){return null==this.ra?null:this.ra};
vd.prototype[za]=function(){return cc(this)};function wd(a,b){return 0===Ga(a)?b:new vd(a,b,null,null)}function xd(a,b){a.add(b)}function Zc(a){var b=[];for(a=G(a);;)if(null!=a)b.push(I(a)),a=K(a);else return b}function yd(a,b){if(oc(b))return O(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=K(b);else return c}
var zd=function zd(a){if(null==a)return null;var c=K(a);return null==c?G(I(a)):Q(I(a),zd.c?zd.c(c):zd.call(null,c))},Ad=function Ad(a){switch(arguments.length){case 0:return Ad.B();case 1:return Ad.c(arguments[0]);case 2:return Ad.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ad.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Ad.B=function(){return new rd(null,function(){return null},null)};
Ad.c=function(a){return new rd(null,function(){return a},null)};Ad.g=function(a,b){return new rd(null,function(){var c=G(a);return c?Qc(c)?wd(Db(c),Ad.g(Eb(c),b)):Q(I(c),Ad.g(ac(c),b)):b},null)};Ad.s=function(a,b,c){return function g(e,f){return new rd(null,function(){var h=G(e);return h?Qc(h)?wd(Db(h),g(Eb(h),f)):Q(I(h),g(ac(h),f)):w(f)?g(I(f),K(f)):null},null)}(Ad.g(a,b),c)};Ad.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};Ad.F=2;
var Bd=function Bd(a){switch(arguments.length){case 0:return Bd.B();case 1:return Bd.c(arguments[0]);case 2:return Bd.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Bd.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Bd.B=function(){return wb(Bc)};Bd.c=function(a){return a};Bd.g=function(a,b){return xb(a,b)};Bd.s=function(a,b,c){for(;;)if(a=xb(a,b),w(c))b=I(c),c=K(c);else return a};
Bd.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};Bd.F=2;
function Cd(a,b,c){var d=G(c);if(0===b)return a.B?a.B():a.call(null);c=A(d);var e=Pa(d);if(1===b)return a.c?a.c(c):a.call(null,c);d=A(e);var f=Pa(e);if(2===b)return a.g?a.g(c,d):a.call(null,c,d);e=A(f);var g=Pa(f);if(3===b)return a.l?a.l(c,d,e):a.call(null,c,d,e);f=A(g);var h=Pa(g);if(4===b)return a.I?a.I(c,d,e,f):a.call(null,c,d,e,f);g=A(h);var l=Pa(h);if(5===b)return a.ja?a.ja(c,d,e,f,g):a.call(null,c,d,e,f,g);h=A(l);var m=Pa(l);if(6===b)return a.Ja?a.Ja(c,d,e,f,g,h):a.call(null,c,d,e,f,g,h);l=
A(m);var n=Pa(m);if(7===b)return a.Ka?a.Ka(c,d,e,f,g,h,l):a.call(null,c,d,e,f,g,h,l);m=A(n);var p=Pa(n);if(8===b)return a.La?a.La(c,d,e,f,g,h,l,m):a.call(null,c,d,e,f,g,h,l,m);n=A(p);var r=Pa(p);if(9===b)return a.Ma?a.Ma(c,d,e,f,g,h,l,m,n):a.call(null,c,d,e,f,g,h,l,m,n);p=A(r);var u=Pa(r);if(10===b)return a.ya?a.ya(c,d,e,f,g,h,l,m,n,p):a.call(null,c,d,e,f,g,h,l,m,n,p);r=A(u);var B=Pa(u);if(11===b)return a.za?a.za(c,d,e,f,g,h,l,m,n,p,r):a.call(null,c,d,e,f,g,h,l,m,n,p,r);u=A(B);var F=Pa(B);if(12===
b)return a.Aa?a.Aa(c,d,e,f,g,h,l,m,n,p,r,u):a.call(null,c,d,e,f,g,h,l,m,n,p,r,u);B=A(F);var D=Pa(F);if(13===b)return a.Ba?a.Ba(c,d,e,f,g,h,l,m,n,p,r,u,B):a.call(null,c,d,e,f,g,h,l,m,n,p,r,u,B);F=A(D);var R=Pa(D);if(14===b)return a.Ca?a.Ca(c,d,e,f,g,h,l,m,n,p,r,u,B,F):a.call(null,c,d,e,f,g,h,l,m,n,p,r,u,B,F);D=A(R);var X=Pa(R);if(15===b)return a.Da?a.Da(c,d,e,f,g,h,l,m,n,p,r,u,B,F,D):a.call(null,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D);R=A(X);var da=Pa(X);if(16===b)return a.Ea?a.Ea(c,d,e,f,g,h,l,m,n,p,r,u,B,
F,D,R):a.call(null,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R);X=A(da);var xa=Pa(da);if(17===b)return a.Fa?a.Fa(c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X):a.call(null,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X);da=A(xa);var Ma=Pa(xa);if(18===b)return a.Ga?a.Ga(c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da):a.call(null,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da);xa=A(Ma);Ma=Pa(Ma);if(19===b)return a.Ha?a.Ha(c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da,xa):a.call(null,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da,xa);var ig=A(Ma);Pa(Ma);if(20===b)return a.Ia?
a.Ia(c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da,xa,ig):a.call(null,c,d,e,f,g,h,l,m,n,p,r,u,B,F,D,R,X,da,xa,ig);throw Error("Only up to 20 arguments supported on functions");}function Dd(a){return null!=a&&(a.j&128||t===a.Za)?a.aa():G(ac(a))}function Ed(a,b,c){return null==c?a.c?a.c(b):a.call(a,b):Fd(a,b,A(c),Dd(c))}function Fd(a,b,c,d){return null==d?a.g?a.g(b,c):a.call(a,b,c):Gd(a,b,c,A(d),Dd(d))}function Gd(a,b,c,d,e){return null==e?a.l?a.l(b,c,d):a.call(a,b,c,d):Hd(a,b,c,d,A(e),Dd(e))}
function Hd(a,b,c,d,e,f){if(null==f)return a.I?a.I(b,c,d,e):a.call(a,b,c,d,e);var g=A(f),h=K(f);if(null==h)return a.ja?a.ja(b,c,d,e,g):a.call(a,b,c,d,e,g);f=A(h);var l=K(h);if(null==l)return a.Ja?a.Ja(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);h=A(l);var m=K(l);if(null==m)return a.Ka?a.Ka(b,c,d,e,g,f,h):a.call(a,b,c,d,e,g,f,h);l=A(m);var n=K(m);if(null==n)return a.La?a.La(b,c,d,e,g,f,h,l):a.call(a,b,c,d,e,g,f,h,l);m=A(n);var p=K(n);if(null==p)return a.Ma?a.Ma(b,c,d,e,g,f,h,l,m):a.call(a,b,c,d,e,g,f,h,l,m);
n=A(p);var r=K(p);if(null==r)return a.ya?a.ya(b,c,d,e,g,f,h,l,m,n):a.call(a,b,c,d,e,g,f,h,l,m,n);p=A(r);var u=K(r);if(null==u)return a.za?a.za(b,c,d,e,g,f,h,l,m,n,p):a.call(a,b,c,d,e,g,f,h,l,m,n,p);r=A(u);var B=K(u);if(null==B)return a.Aa?a.Aa(b,c,d,e,g,f,h,l,m,n,p,r):a.call(a,b,c,d,e,g,f,h,l,m,n,p,r);u=A(B);var F=K(B);if(null==F)return a.Ba?a.Ba(b,c,d,e,g,f,h,l,m,n,p,r,u):a.call(a,b,c,d,e,g,f,h,l,m,n,p,r,u);B=A(F);var D=K(F);if(null==D)return a.Ca?a.Ca(b,c,d,e,g,f,h,l,m,n,p,r,u,B):a.call(a,b,c,d,
e,g,f,h,l,m,n,p,r,u,B);F=A(D);var R=K(D);if(null==R)return a.Da?a.Da(b,c,d,e,g,f,h,l,m,n,p,r,u,B,F):a.call(a,b,c,d,e,g,f,h,l,m,n,p,r,u,B,F);D=A(R);var X=K(R);if(null==X)return a.Ea?a.Ea(b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D):a.call(a,b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D);R=A(X);var da=K(X);if(null==da)return a.Fa?a.Fa(b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D,R):a.call(a,b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D,R);X=A(da);var xa=K(da);if(null==xa)return a.Ga?a.Ga(b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D,R,X):a.call(a,b,c,d,e,g,f,h,l,m,
n,p,r,u,B,F,D,R,X);da=A(xa);var Ma=K(xa);if(null==Ma)return a.Ha?a.Ha(b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D,R,X,da):a.call(a,b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D,R,X,da);xa=A(Ma);Ma=K(Ma);if(null==Ma)return a.Ia?a.Ia(b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D,R,X,da,xa):a.call(a,b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D,R,X,da,xa);b=[b,c,d,e,g,f,h,l,m,n,p,r,u,B,F,D,R,X,da,xa];for(c=Ma;;)if(c)b.push(A(c)),c=K(c);else break;return a.apply(a,b)}
function Ic(a){switch(arguments.length){case 2:return T(arguments[0],arguments[1]);case 3:return Id(arguments[0],arguments[1],arguments[2]);case 4:return Jd(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Kd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];d=arguments[1];var e=arguments[2],f=arguments[3],g=arguments[4];b=new H(b.slice(5),0,null);c.C?(b=zd(b),
d=Q(d,Q(e,Q(f,Q(g,b)))),e=c.F,b=4+yd(e-3,b),c=b<=e?Cd(c,b,d):c.C(d)):c=Hd(c,d,e,f,g,zd(b));return c}}function T(a,b){if(a.C){var c=a.F,d=yd(c+1,b);return d<=c?Cd(a,d,b):a.C(b)}b=G(b);return null==b?a.B?a.B():a.call(a):Ed(a,A(b),Dd(b))}function Id(a,b,c){if(a.C){b=Q(b,c);var d=a.F;c=yd(d,c)+1;return c<=d?Cd(a,c,b):a.C(b)}return Ed(a,b,G(c))}function Jd(a,b,c,d){return a.C?(b=Q(b,Q(c,d)),c=a.F,d=2+yd(c-1,d),d<=c?Cd(a,d,b):a.C(b)):Fd(a,b,c,G(d))}
function Kd(a,b,c,d,e){return a.C?(b=Q(b,Q(c,Q(d,e))),c=a.F,e=3+yd(c-2,e),e<=c?Cd(a,e,b):a.C(b)):Gd(a,b,c,d,G(e))}
function Ld(){if("undefined"===typeof ka||"undefined"===typeof la||"undefined"===typeof ma)ma=function(a){this.Xb=a;this.j=393216;this.A=0},ma.prototype.U=function(a,b){return new ma(b)},ma.prototype.S=function(){return this.Xb},ma.prototype.fa=function(){return!1},ma.prototype.next=function(){return Error("No such element")},ma.prototype.remove=function(){return Error("Unsupported operation")},ma.oc=function(){return new U(null,1,5,V,[Md],null)},ma.Ab=!0,ma.lb="cljs.core/t_cljs$core19718",ma.Vb=
function(a){return tb(a,"cljs.core/t_cljs$core19718")};return new ma(Nd)}function Od(a,b){for(;;){if(null==G(b))return!0;var c=I(b);c=a.c?a.c(c):a.call(null,c);if(w(c))b=K(b);else return!1}}function Pd(a,b){for(;;)if(b=G(b)){var c=I(b);c=a.c?a.c(c):a.call(null,c);if(w(c))return c;b=K(b)}else return null}
function Qd(a){return function(){function b(g,h){return va(a.g?a.g(g,h):a.call(null,g,h))}function c(g){return va(a.c?a.c(g):a.call(null,g))}function d(){return va(a.B?a.B():a.call(null))}var e=null,f=function(){function g(l,m,n){var p=null;if(2<arguments.length){p=0;for(var r=Array(arguments.length-2);p<r.length;)r[p]=arguments[p+2],++p;p=new H(r,0,null)}return h.call(this,l,m,p)}function h(l,m,n){return va(Jd(a,l,m,n))}g.F=2;g.C=function(l){var m=I(l);l=K(l);var n=I(l);l=ac(l);return h(m,n,l)};
g.s=h;return g}();e=function(g,h,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,g);case 2:return b.call(this,g,h);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new H(n,0,null)}return f.s(g,h,m)}throw Error("Invalid arity: "+arguments.length);};e.F=2;e.C=f.C;e.B=d;e.c=c;e.g=b;e.s=f.s;return e}()}
function Rd(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.F=0;b.C=function(c){G(c);return a};b.s=function(){return a};return b}()}function Sd(a){this.state=a;this.Cb=this.$b=this.meta=null;this.A=16386;this.j=6455296}Sd.prototype.P=function(a,b){return this===b};Sd.prototype.qb=function(){return this.state};Sd.prototype.S=function(){return this.meta};
Sd.prototype.T=function(){return this[ba]||(this[ba]=++ca)};
function Td(a,b){if(a instanceof Sd){var c=a.$b;if(null!=c&&!w(c.c?c.c(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Cb)a:for(var d=G(a.Cb),e=null,f=0,g=0;;)if(g<f){var h=e.R(null,g),l=S(h,0,null);h=S(h,1,null);h.I?h.I(l,a,c,b):h.call(null,l,a,c,b);g+=1}else if(d=G(d))Qc(d)?(e=Db(d),d=Eb(d),l=e,f=O(e),e=l):(e=I(d),l=S(e,0,null),h=S(e,1,null),h.I?h.I(l,a,c,b):h.call(null,l,a,c,b),d=K(d),e=null,f=0),g=0;else break a;return b}return Fb(a,b)}
var Ud=function Ud(a){switch(arguments.length){case 2:return Ud.g(arguments[0],arguments[1]);case 3:return Ud.l(arguments[0],arguments[1],arguments[2]);case 4:return Ud.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ud.s(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Ud.g=function(a,b){if(a instanceof Sd){var c=a.state;b=b.c?b.c(c):b.call(null,c);a=Td(a,b)}else a=Gb(a,b);return a};Ud.l=function(a,b,c){if(a instanceof Sd){var d=a.state;b=b.g?b.g(d,c):b.call(null,d,c);a=Td(a,b)}else a=Gb(a,b,c);return a};Ud.I=function(a,b,c,d){if(a instanceof Sd){var e=a.state;b=b.l?b.l(e,c,d):b.call(null,e,c,d);a=Td(a,b)}else a=Gb(a,b,c,d);return a};Ud.s=function(a,b,c,d,e){return a instanceof Sd?Td(a,Kd(b,a.state,c,d,e)):Gb(a,b,c,d,e)};
Ud.C=function(a){var b=I(a),c=K(a);a=I(c);var d=K(c);c=I(d);var e=K(d);d=I(e);e=K(e);return this.s(b,a,c,d,e)};Ud.F=4;
function Vd(a){return function(){function b(g,h,l){g=a.c?a.c(g):a.call(null,g);w(g)?(h=a.c?a.c(h):a.call(null,h),l=w(h)?a.c?a.c(l):a.call(null,l):h):l=g;return Tc(l)}function c(g,h){g=a.c?a.c(g):a.call(null,g);h=w(g)?a.c?a.c(h):a.call(null,h):g;return Tc(h)}function d(g){return Tc(a.c?a.c(g):a.call(null,g))}var e=null,f=function(){function g(l,m,n,p){var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+3],++r;r=new H(u,0,null)}return h.call(this,l,
m,n,r)}function h(l,m,n,p){l=e.l(l,m,n);p=w(l)?Od(a,p):l;return Tc(p)}g.F=3;g.C=function(l){var m=I(l);l=K(l);var n=I(l);l=K(l);var p=I(l);l=ac(l);return h(m,n,p,l)};g.s=h;return g}();e=function(g,h,l,m){switch(arguments.length){case 0:return!0;case 1:return d.call(this,g);case 2:return c.call(this,g,h);case 3:return b.call(this,g,h,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new H(p,0,null)}return f.s(g,h,l,n)}throw Error("Invalid arity: "+
arguments.length);};e.F=3;e.C=f.C;e.B=function(){return!0};e.c=d;e.g=c;e.l=b;e.s=f.s;return e}()}
function Wd(a,b){return function(){function c(h,l,m){return Tc(function(){var n=a.c?a.c(h):a.call(null,h);return w(n)?(n=a.c?a.c(l):a.call(null,l),w(n)?(n=a.c?a.c(m):a.call(null,m),w(n)?(n=b.c?b.c(h):b.call(null,h),w(n)?(n=b.c?b.c(l):b.call(null,l),w(n)?b.c?b.c(m):b.call(null,m):n):n):n):n):n}())}function d(h,l){return Tc(function(){var m=a.c?a.c(h):a.call(null,h);return w(m)?(m=a.c?a.c(l):a.call(null,l),w(m)?(m=b.c?b.c(h):b.call(null,h),w(m)?b.c?b.c(l):b.call(null,l):m):m):m}())}function e(h){var l=
a.c?a.c(h):a.call(null,h);h=w(l)?b.c?b.c(h):b.call(null,h):l;return Tc(h)}var f=null,g=function(){function h(m,n,p,r){var u=null;if(3<arguments.length){u=0;for(var B=Array(arguments.length-3);u<B.length;)B[u]=arguments[u+3],++u;u=new H(B,0,null)}return l.call(this,m,n,p,u)}function l(m,n,p,r){return Tc(function(){var u=f.l(m,n,p);return w(u)?Od(function(B){var F=a.c?a.c(B):a.call(null,B);return w(F)?b.c?b.c(B):b.call(null,B):F},r):u}())}h.F=3;h.C=function(m){var n=I(m);m=K(m);var p=I(m);m=K(m);var r=
I(m);m=ac(m);return l(n,p,r,m)};h.s=l;return h}();f=function(h,l,m,n){switch(arguments.length){case 0:return!0;case 1:return e.call(this,h);case 2:return d.call(this,h,l);case 3:return c.call(this,h,l,m);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new H(r,0,null)}return g.s(h,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=g.C;f.B=function(){return!0};f.c=e;f.g=d;f.l=c;f.s=g.s;return f}()}
function Xd(a,b){return function(){function c(h,l,m){var n=a.c?a.c(h):a.call(null,h);if(w(n))return n;n=a.c?a.c(l):a.call(null,l);if(w(n))return n;n=a.c?a.c(m):a.call(null,m);if(w(n))return n;h=b.c?b.c(h):b.call(null,h);if(w(h))return h;l=b.c?b.c(l):b.call(null,l);return w(l)?l:b.c?b.c(m):b.call(null,m)}function d(h,l){var m=a.c?a.c(h):a.call(null,h);if(w(m))return m;m=a.c?a.c(l):a.call(null,l);if(w(m))return m;h=b.c?b.c(h):b.call(null,h);return w(h)?h:b.c?b.c(l):b.call(null,l)}function e(h){var l=
a.c?a.c(h):a.call(null,h);return w(l)?l:b.c?b.c(h):b.call(null,h)}var f=null,g=function(){function h(m,n,p,r){var u=null;if(3<arguments.length){u=0;for(var B=Array(arguments.length-3);u<B.length;)B[u]=arguments[u+3],++u;u=new H(B,0,null)}return l.call(this,m,n,p,u)}function l(m,n,p,r){m=f.l(m,n,p);return w(m)?m:Pd(function(u){var B=a.c?a.c(u):a.call(null,u);return w(B)?B:b.c?b.c(u):b.call(null,u)},r)}h.F=3;h.C=function(m){var n=I(m);m=K(m);var p=I(m);m=K(m);var r=I(m);m=ac(m);return l(n,p,r,m)};h.s=
l;return h}();f=function(h,l,m,n){switch(arguments.length){case 0:return null;case 1:return e.call(this,h);case 2:return d.call(this,h,l);case 3:return c.call(this,h,l,m);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new H(r,0,null)}return g.s(h,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=g.C;f.B=function(){return null};f.c=e;f.g=d;f.l=c;f.s=g.s;return f}()}
var Yd=function Yd(a){switch(arguments.length){case 1:return Yd.c(arguments[0]);case 2:return Yd.g(arguments[0],arguments[1]);case 3:return Yd.l(arguments[0],arguments[1],arguments[2]);case 4:return Yd.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Yd.s(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Yd.c=function(a){return function(b){return function(){function c(h,l){l=a.c?a.c(l):a.call(null,l);return b.g?b.g(h,l):b.call(null,h,l)}function d(h){return b.c?b.c(h):b.call(null,h)}function e(){return b.B?b.B():b.call(null)}var f=null,g=function(){function h(m,n,p){var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new H(u,0,null)}return l.call(this,m,n,r)}function l(m,n,p){n=Id(a,n,p);return b.g?b.g(m,n):b.call(null,m,n)}h.F=2;h.C=function(m){var n=
I(m);m=K(m);var p=I(m);m=ac(m);return l(n,p,m)};h.s=l;return h}();f=function(h,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new H(p,0,null)}return g.s(h,l,n)}throw Error("Invalid arity: "+arguments.length);};f.F=2;f.C=g.C;f.B=e;f.c=d;f.g=c;f.s=g.s;return f}()}};
Yd.g=function(a,b){return new rd(null,function(){var c=G(b);if(c){if(Qc(c)){for(var d=Db(c),e=O(d),f=new td(Array(e)),g=0;;)if(g<e)xd(f,function(){var h=Na(d,g);return a.c?a.c(h):a.call(null,h)}()),g+=1;else break;return wd(f.chunk(),Yd.g(a,Eb(c)))}return Q(function(){var h=I(c);return a.c?a.c(h):a.call(null,h)}(),Yd.g(a,ac(c)))}return null},null)};
Yd.l=function(a,b,c){return new rd(null,function(){var d=G(b),e=G(c);if(d&&e){var f=I(d);var g=I(e);f=a.g?a.g(f,g):a.call(null,f,g);d=Q(f,Yd.l(a,ac(d),ac(e)))}else d=null;return d},null)};Yd.I=function(a,b,c,d){return new rd(null,function(){var e=G(b),f=G(c),g=G(d);if(e&&f&&g){var h=I(e);var l=I(f),m=I(g);h=a.l?a.l(h,l,m):a.call(null,h,l,m);e=Q(h,Yd.I(a,ac(e),ac(f),ac(g)))}else e=null;return e},null)};
Yd.s=function(a,b,c,d,e){return Yd.g(function(f){return T(a,f)},function h(g){return new rd(null,function(){var l=Yd.g(G,g);return Od(fd,l)?Q(Yd.g(I,l),h(Yd.g(ac,l))):null},null)}(Ac.s(e,d,vc([c,b]))))};Yd.C=function(a){var b=I(a),c=K(a);a=I(c);var d=K(c);c=I(d);var e=K(d);d=I(e);e=K(e);return this.s(b,a,c,d,e)};Yd.F=4;function Zd(a,b){return new rd(null,function(){if(0<a){var c=G(b);return c?Q(I(c),Zd(a-1,ac(c))):null}return null},null)}
function $d(a,b){return new rd(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=ac(d);else break a;return d},null)}var ae={};function be(a,b,c,d,e){this.meta=a;this.f=b;this.tb=c;this.mb=d;this.next=e;this.j=26083532;this.A=1}k=be.prototype;k.toString=function(){return Lb(this)};k.S=function(){return this.meta};k.aa=function(){return this.da(null)};k.W=function(){return J};
k.ba=function(a,b){a=this.X(null);var c=this.f.c?this.f.c(a):this.f.call(null,a);for(a=b.g?b.g(a,c):b.call(null,a,c);;){if(jc(a))return bb(a);c=this.f.c?this.f.c(c):this.f.call(null,c);a=b.g?b.g(a,c):b.call(null,a,c)}};k.ca=function(a,b,c){a=this.X(null);for(c=b.g?b.g(c,a):b.call(null,c,a);;){if(jc(c))return bb(c);a=this.f.c?this.f.c(a):this.f.call(null,a);c=b.g?b.g(c,a):b.call(null,c,a)}};k.X=function(){ae===this.mb&&(this.mb=this.f.c?this.f.c(this.tb):this.f.call(null,this.tb));return this.mb};
k.da=function(){null==this.next&&(this.next=new be(null,this.f,this.X(null),ae,null));return this.next};k.M=function(){return this};k.U=function(a,b){return b===this.meta?this:new be(b,this.f,this.tb,this.mb,this.next)};k.Y=function(a,b){return Q(b,this)};function ce(a,b){return new be(null,a,null,b,null)}function de(a,b){return T(Ad,Id(Yd,a,b))}
function ee(a,b){return new rd(null,function(){var c=G(b);if(c){if(Qc(c)){for(var d=Db(c),e=O(d),f=new td(Array(e)),g=0;;)if(g<e){var h=Na(d,g);h=a.c?a.c(h):a.call(null,h);w(h)&&(h=Na(d,g),f.add(h));g+=1}else break;return wd(f.chunk(),ee(a,Eb(c)))}d=I(c);c=ac(c);return w(a.c?a.c(d):a.call(null,d))?Q(d,ee(a,c)):ee(a,c)}return null},null)}function fe(a,b){return ee(Qd(a),b)}
var ge=function ge(a){switch(arguments.length){case 0:return ge.B();case 1:return ge.c(arguments[0]);case 2:return ge.g(arguments[0],arguments[1]);case 3:return ge.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}};ge.B=function(){return Bc};ge.c=function(a){return a};ge.g=function(a,b){return null!=a?null!=a&&(a.A&4||t===a.Eb)?eb(yb(Ca(xb,wb(a),b)),Kc(a)):Ca(Ka,a,b):Ca(Ac,a,b)};
ge.l=function(a,b,c){return null!=a&&(a.A&4||t===a.Eb)?eb(yb(gd(b,Bd,wb(a),c)),Kc(a)):gd(b,Ac,a,c)};ge.F=3;function he(a,b,c){return new rd(null,function(){var d=G(c);if(d){var e=Zd(a,d);return a===O(e)?Q(e,he(a,b,$d(b,d))):null}return null},null)}function ie(a,b){this.H=a;this.h=b}function je(a){return new ie(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function ke(a){a=a.m;return 32>a?0:a-1>>>5<<5}function le(a,b,c){for(;;){if(0===b)return c;var d=je(a);d.h[0]=c;c=d;b-=5}}var me=function me(a,b,c,d){var f=new ie(c.H,Aa(c.h)),g=a.m-1>>>b&31;5===b?f.h[g]=d:(c=c.h[g],null!=c?(b-=5,a=me.I?me.I(a,b,c,d):me.call(null,a,b,c,d)):a=le(null,b-5,d),f.h[g]=a);return f};function ne(a,b){if(b>=ke(a))return a.ia;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.h[b>>>a&31];a=d}else return c.h}
function oe(a,b){if(0<=b&&b<a.m)b=ne(a,b);else throw a=a.m,Error(["No item ",z.c(b)," in vector of length ",z.c(a)].join(""));return b}var pe=function pe(a,b,c,d,e){var g=new ie(c.H,Aa(c.h));if(0===b)g.h[d&31]=e;else{var h=d>>>b&31;b-=5;c=c.h[h];a=pe.ja?pe.ja(a,b,c,d,e):pe.call(null,a,b,c,d,e);g.h[h]=a}return g};function qe(a,b,c){this.base=this.i=0;this.h=a;this.Zb=b;this.start=0;this.end=c}qe.prototype.fa=function(){return this.i<this.end};
qe.prototype.next=function(){32===this.i-this.base&&(this.h=ne(this.Zb,this.i),this.base+=32);var a=this.h[this.i&31];this.i+=1;return a};function re(a,b,c,d){return c<d?se(a,b,qc(a,c),c+1,d):b.B?b.B():b.call(null)}function se(a,b,c,d,e){var f=c;c=d;for(d=ne(a,d);;)if(c<e){var g=c&31;d=0===g?ne(a,c):d;g=d[g];f=b.g?b.g(f,g):b.call(null,f,g);if(jc(f))return bb(f);c+=1}else return f}
function U(a,b,c,d,e,f){this.meta=a;this.m=b;this.shift=c;this.root=d;this.ia=e;this.v=f;this.j=167666463;this.A=139268}k=U.prototype;k.Ya=function(a,b){return 0<=b&&b<this.m?new te(b,ne(this,b)[b&31]):null};k.toString=function(){return Lb(this)};k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.ka=function(a,b){return this.K(null,b,null)};k.K=function(a,b,c){return"number"===typeof b?this.ma(null,b,c):c};
k.jb=function(a,b,c){a=0;for(var d=c;;)if(a<this.m){var e=ne(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=f+a,h=e[f];d=b.l?b.l(d,g,h):b.call(null,d,g,h);if(jc(d)){e=d;break a}f+=1}else{e=d;break a}if(jc(e))return bb(e);a+=c;d=e}else return d};k.R=function(a,b){return oe(this,b)[b&31]};k.ma=function(a,b,c){return 0<=b&&b<this.m?ne(this,b)[b&31]:c};
k.sb=function(a,b){if(0<=a&&a<this.m){if(ke(this)<=a){var c=Aa(this.ia);c[a&31]=b;return new U(this.meta,this.m,this.shift,this.root,c,null)}return new U(this.meta,this.m,this.shift,pe(this,this.shift,this.root,a,b),this.ia,null)}if(a===this.m)return this.Y(null,b);throw Error(["Index ",z.c(a)," out of bounds  [0,",z.c(this.m),"]"].join(""));};k.na=function(){var a=this.m;return new qe(0<O(this)?ne(this,0):null,this,a)};k.S=function(){return this.meta};k.V=function(){return this.m};
k.kb=function(){return 0<this.m?new tc(this,this.m-1,null):null};k.T=function(){var a=this.v;return null!=a?a:this.v=a=ec(this)};k.P=function(a,b){if(b instanceof U)if(this.m===O(b))for(a=this.na(null),b=b.na(null);;)if(a.fa()){var c=a.next(),d=b.next();if(!M.g(c,d))return!1}else return!0;else return!1;else return uc(this,b)};k.Sa=function(){return new ue(this.m,this.shift,ve.c?ve.c(this.root):ve.call(null,this.root),we.c?we.c(this.ia):we.call(null,this.ia))};k.W=function(){return eb(Bc,this.meta)};
k.ba=function(a,b){return re(this,b,0,this.m)};k.ca=function(a,b,c){a=0;for(var d=c;;)if(a<this.m){var e=ne(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=e[f];d=b.g?b.g(d,g):b.call(null,d,g);if(jc(d)){e=d;break a}f+=1}else{e=d;break a}if(jc(e))return bb(e);a+=c;d=e}else return d};k.va=function(a,b,c){if("number"===typeof b)return this.sb(b,c);throw Error("Vector's key for assoc must be a number.");};
k.M=function(){if(0===this.m)return null;if(32>=this.m)return new H(this.ia,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.h[0];else{a=a.h;break a}}return xe?xe(this,a,0,0):ye.call(null,this,a,0,0)};k.U=function(a,b){return b===this.meta?this:new U(b,this.m,this.shift,this.root,this.ia,this.v)};
k.Y=function(a,b){if(32>this.m-ke(this)){a=this.ia.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.ia[d],d+=1;else break;c[a]=b;return new U(this.meta,this.m+1,this.shift,this.root,c,null)}a=(c=this.m>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=je(null),c.h[0]=this.root,d=le(null,this.shift,new ie(null,this.ia)),c.h[1]=d):c=me(this,this.shift,this.root,new ie(null,this.ia));return new U(this.meta,this.m+1,a,c,[b],null)};
k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};k.c=function(a){return this.R(null,a)};k.g=function(a,b){return this.ma(null,a,b)};
var V=new ie(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Bc=new U(null,0,5,V,[],fc);U.prototype[za]=function(){return cc(this)};
function ze(a){if(w(Ae.c?Ae.c(a):Ae.call(null,a)))a=new U(null,2,5,V,[Be.c?Be.c(a):Be.call(null,a),Ce.c?Ce.c(a):Ce.call(null,a)],null);else if(Pc(a))a=Jc(a,null);else if(ua(a))a:{var b=a.length;if(32>b)a=new U(null,b,5,V,a,null);else for(var c=32,d=(new U(null,32,5,V,a.slice(0,32),null)).Sa(null);;)if(c<b){var e=c+1;d=Bd.g(d,a[c]);c=e}else{a=yb(d);break a}}else a=yb(Ca(xb,wb(Bc),a));return a}
function De(a,b,c,d,e){this.la=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.v=null;this.j=32375020;this.A=1536}k=De.prototype;k.toString=function(){return Lb(this)};k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.meta};k.aa=function(){if(this.off+1<this.node.length){var a=this.la;var b=this.node,c=this.i,d=this.off+1;a=xe?xe(a,b,c,d):ye.call(null,a,b,c,d);return null==a?null:a}return this.wb()};
k.T=function(){var a=this.v;return null!=a?a:this.v=a=ec(this)};k.P=function(a,b){return uc(this,b)};k.W=function(){return J};k.ba=function(a,b){return re(this.la,b,this.i+this.off,O(this.la))};k.ca=function(a,b,c){return se(this.la,b,c,this.i+this.off,O(this.la))};k.X=function(){return this.node[this.off]};k.da=function(){if(this.off+1<this.node.length){var a=this.la;var b=this.node,c=this.i,d=this.off+1;a=xe?xe(a,b,c,d):ye.call(null,a,b,c,d);return null==a?J:a}return this.ib(null)};k.M=function(){return this};
k.pb=function(){var a=this.node;return new ud(a,this.off,a.length)};k.ib=function(){var a=this.i+this.node.length;if(a<Ga(this.la)){var b=this.la,c=ne(this.la,a);return xe?xe(b,c,a,0):ye.call(null,b,c,a,0)}return J};k.U=function(a,b){return b===this.meta?this:Ee?Ee(this.la,this.node,this.i,this.off,b):ye.call(null,this.la,this.node,this.i,this.off,b)};k.Y=function(a,b){return Q(b,this)};
k.wb=function(){var a=this.i+this.node.length;if(a<Ga(this.la)){var b=this.la,c=ne(this.la,a);return xe?xe(b,c,a,0):ye.call(null,b,c,a,0)}return null};De.prototype[za]=function(){return cc(this)};
function ye(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new De(b,oe(b,c),c,d,null);case 4:return xe(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ee(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function xe(a,b,c,d){return new De(a,b,c,d,null)}function Ee(a,b,c,d,e){return new De(a,b,c,d,e)}
function Fe(a,b){return a===b.H?b:new ie(a,Aa(b.h))}function ve(a){return new ie({},Aa(a.h))}function we(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Rc(a,0,b,0,a.length);return b}var Ge=function Ge(a,b,c,d){c=Fe(a.root.H,c);var f=a.m-1>>>b&31;if(5===b)a=d;else{var g=c.h[f];null!=g?(b-=5,a=Ge.I?Ge.I(a,b,g,d):Ge.call(null,a,b,g,d)):a=le(a.root.H,b-5,d)}c.h[f]=a;return c};
function ue(a,b,c,d){this.m=a;this.shift=b;this.root=c;this.ia=d;this.A=88;this.j=275}k=ue.prototype;
k.Ua=function(a,b){if(this.root.H){if(32>this.m-ke(this))this.ia[this.m&31]=b;else{a=new ie(this.root.H,this.ia);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.ia=c;this.m>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=le(this.root.H,this.shift,a),this.root=new ie(this.root.H,b),this.shift=c):this.root=Ge(this,this.shift,this.root,a)}this.m+=1;return this}throw Error("conj! after persistent!");};k.$a=function(){if(this.root.H){this.root.H=null;var a=this.m-ke(this),b=Array(a);Rc(this.ia,0,b,0,a);return new U(null,this.m,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
k.Ta=function(a,b,c){if("number"===typeof b)return He(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function He(a,b,c){if(a.root.H){if(0<=b&&b<a.m){if(ke(a)<=b)a.ia[b&31]=c;else{var d=function h(f,g){g=Fe(a.root.H,g);if(0===f)g.h[b&31]=c;else{var l=b>>>f&31;f=h(f-5,g.h[l]);g.h[l]=f}return g}(a.shift,a.root);a.root=d}return a}if(b===a.m)return a.Ua(null,c);throw Error(["Index ",z.c(b)," out of bounds for TransientVector of length",z.c(a.m)].join(""));}throw Error("assoc! after persistent!");}k.V=function(){if(this.root.H)return this.m;throw Error("count after persistent!");};
k.R=function(a,b){if(this.root.H)return oe(this,b)[b&31];throw Error("nth after persistent!");};k.ma=function(a,b,c){return 0<=b&&b<this.m?this.R(null,b):c};k.ka=function(a,b){return this.K(null,b,null)};k.K=function(a,b,c){if(this.root.H)return"number"===typeof b?this.ma(null,b,c):c;throw Error("lookup after persistent!");};
k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};k.c=function(a){return this.ka(null,a)};k.g=function(a,b){return this.K(null,a,b)};function Ie(){this.j=2097152;this.A=0}Ie.prototype.P=function(){return!1};var Je=new Ie;
function Ke(a,b){return Tc(Nc(b)&&!Oc(b)?O(a)===O(b)?(null!=a?a.j&1048576||t===a.fc||(a.j?0:x(ib,a)):x(ib,a))?ed(function(c,d,e){return M.g(C.l(b,d,Je),e)?!0:new ic(!1)},!0,a):Od(function(c){return M.g(C.l(b,I(c),Je),I(K(c)))},a):null:null)}function Le(a){this.D=a}Le.prototype.next=function(){if(null!=this.D){var a=I(this.D),b=S(a,0,null);a=S(a,1,null);this.D=K(this.D);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Me(a){this.D=a}
Me.prototype.next=function(){if(null!=this.D){var a=I(this.D);this.D=K(this.D);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Fc(a,b){if(b instanceof E)a:{var c=a.length;b=b.oa;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof E&&b===a[d].oa){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Xb)a:for(c=a.length,b=b.str,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Xb&&b===a[d].str){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(M.g(b,a[d])){a=d;break a}d+=2}return a}function te(a,b){this.key=a;this.O=b;this.v=null;this.j=166619935;this.A=0}k=te.prototype;k.Ya=function(a,b){switch(b){case 0:return new te(0,this.key);case 1:return new te(1,this.O);default:return null}};
k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.ka=function(a,b){return this.ma(null,b,null)};k.K=function(a,b,c){return this.ma(null,b,c)};k.R=function(a,b){if(0===b)return this.key;if(1===b)return this.O;throw Error("Index out of bounds");};
k.ma=function(a,b,c){return 0===b?this.key:1===b?this.O:c};k.sb=function(a,b){return(new U(null,2,5,V,[this.key,this.O],null)).sb(a,b)};k.S=function(){return null};k.V=function(){return 2};k.Kb=function(){return this.key};k.Lb=function(){return this.O};k.kb=function(){return new H([this.O,this.key],0,null)};k.T=function(){var a=this.v;return null!=a?a:this.v=a=ec(this)};k.P=function(a,b){return uc(this,b)};k.W=function(){return null};
k.ba=function(a,b){a:if(a=this.V(null),0===a)b=b.B?b.B():b.call(null);else for(var c=this.R(null,0),d=1;;)if(d<a){var e=this.R(null,d);c=b.g?b.g(c,e):b.call(null,c,e);if(jc(c)){b=bb(c);break a}d+=1}else{b=c;break a}return b};k.ca=function(a,b,c){a:{a=this.V(null);var d=c;for(c=0;;)if(c<a){var e=this.R(null,c);d=b.g?b.g(d,e):b.call(null,d,e);if(jc(d)){b=bb(d);break a}c+=1}else{b=d;break a}}return b};k.va=function(a,b,c){return Ec.l(new U(null,2,5,V,[this.key,this.O],null),b,c)};
k.M=function(){return new H([this.key,this.O],0,null)};k.U=function(a,b){return Jc(new U(null,2,5,V,[this.key,this.O],null),b)};k.Y=function(a,b){return new U(null,3,5,V,[this.key,this.O,b],null)};k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};
k.c=function(a){return this.R(null,a)};k.g=function(a,b){return this.ma(null,a,b)};function Ae(a){return null!=a?a.j&2048||t===a.jc?!0:!1:!1}function Ne(a,b,c){this.h=a;this.i=b;this.ta=c;this.j=32374990;this.A=0}k=Ne.prototype;k.toString=function(){return Lb(this)};
k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.ta};k.aa=function(){return this.i<this.h.length-2?new Ne(this.h,this.i+2,null):null};k.V=function(){return(this.h.length-this.i)/2};k.T=function(){return ec(this)};
k.P=function(a,b){return uc(this,b)};k.W=function(){return J};k.ba=function(a,b){return wc(b,this)};k.ca=function(a,b,c){return yc(b,c,this)};k.X=function(){return new te(this.h[this.i],this.h[this.i+1])};k.da=function(){return this.i<this.h.length-2?new Ne(this.h,this.i+2,null):J};k.M=function(){return this};k.U=function(a,b){return b===this.ta?this:new Ne(this.h,this.i,b)};k.Y=function(a,b){return Q(b,this)};Ne.prototype[za]=function(){return cc(this)};
function Oe(a,b){this.h=a;this.i=0;this.m=b}Oe.prototype.fa=function(){return this.i<this.m};Oe.prototype.next=function(){var a=new te(this.h[this.i],this.h[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.m=b;this.h=c;this.v=d;this.j=16647951;this.A=139268}k=v.prototype;k.Ya=function(a,b){a=Fc(this.h,b);return-1===a?null:new te(this.h[a],this.h[a+1])};k.toString=function(){return Lb(this)};k.keys=function(){return cc(Pe.c?Pe.c(this):Pe.call(null,this))};k.entries=function(){return new Le(G(G(this)))};
k.values=function(){return cc(Qe.c?Qe.c(this):Qe.call(null,this))};k.has=function(a){return Uc(this,a)};k.get=function(a,b){return this.K(null,a,b)};k.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e),g=S(f,0,null);f=S(f,1,null);a.g?a.g(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Qc(b)?(c=Db(b),b=Eb(b),g=c,d=O(c),c=g):(c=I(b),g=S(c,0,null),f=S(c,1,null),a.g?a.g(f,g):a.call(null,f,g),b=K(b),c=null,d=0),e=0;else return null};k.ka=function(a,b){return this.K(null,b,null)};
k.K=function(a,b,c){a=Fc(this.h,b);return-1===a?c:this.h[a+1]};k.jb=function(a,b,c){a=this.h.length;for(var d=0;;)if(d<a){var e=this.h[d],f=this.h[d+1];c=b.l?b.l(c,e,f):b.call(null,c,e,f);if(jc(c))return bb(c);d+=2}else return c};k.na=function(){return new Oe(this.h,2*this.m)};k.S=function(){return this.meta};k.V=function(){return this.m};k.T=function(){var a=this.v;return null!=a?a:this.v=a=gc(this)};
k.P=function(a,b){if(Nc(b)&&!Oc(b))if(a=this.h.length,this.m===b.V(null))for(var c=0;;)if(c<a){var d=b.K(null,this.h[c],Sc);if(d!==Sc)if(M.g(this.h[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};k.Sa=function(){return new Re(this.h.length,Aa(this.h))};k.W=function(){return eb(Nd,this.meta)};k.ba=function(a,b){return bd(this,b)};k.ca=function(a,b,c){return cd(this,b,c)};
k.rb=function(a,b){if(0<=Fc(this.h,b)){a=this.h.length;var c=a-2;if(0===c)return this.W(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.m-1,c,null);M.g(b,this.h[d])?d+=2:(c[e]=this.h[d],c[e+1]=this.h[d+1],e+=2,d+=2)}}else return this};
k.va=function(a,b,c){a=Fc(this.h,b);if(-1===a){if(this.m<Se){a=this.h;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.m+1,e,null)}return eb(Ua(ge.g(Te,this),b,c),this.meta)}if(c===this.h[a+1])return this;b=Aa(this.h);b[a+1]=c;return new v(this.meta,this.m,b,null)};k.M=function(){var a=this.h;return 0<=a.length-2?new Ne(a,0,null):null};k.U=function(a,b){return b===this.meta?this:new v(b,this.m,this.h,this.v)};
k.Y=function(a,b){if(Pc(b))return this.va(null,Na(b,0),Na(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=I(b);if(Pc(c))a=Ua(a,Na(c,0),Na(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};
k.c=function(a){return this.ka(null,a)};k.g=function(a,b){return this.K(null,a,b)};var Nd=new v(null,0,[],hc),Se=8;v.prototype[za]=function(){return cc(this)};function Re(a,b){this.Va={};this.len=a;this.h=b;this.j=259;this.A=56}k=Re.prototype;k.V=function(){if(this.Va)return hd(this.len);throw Error("count after persistent!");};k.ka=function(a,b){return this.K(null,b,null)};k.K=function(a,b,c){if(this.Va)return a=Fc(this.h,b),-1===a?c:this.h[a+1];throw Error("lookup after persistent!");};
k.Ua=function(a,b){if(this.Va){if(Ae(b))return this.Ta(null,Be.c?Be.c(b):Be.call(null,b),Ce.c?Ce.c(b):Ce.call(null,b));if(Pc(b))return this.Ta(null,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));a=G(b);for(b=this;;){var c=I(a);if(w(c))a=K(a),b=zb(b,Be.c?Be.c(c):Be.call(null,c),Ce.c?Ce.c(c):Ce.call(null,c));else return b}}else throw Error("conj! after persistent!");};k.$a=function(){if(this.Va)return this.Va=!1,new v(null,hd(this.len),this.h,null);throw Error("persistent! called twice");};
k.Ta=function(a,b,c){if(this.Va){a=Fc(this.h,b);if(-1===a){if(this.len+2<=2*Se)return this.len+=2,this.h.push(b),this.h.push(c),this;a=Ue.g?Ue.g(this.len,this.h):Ue.call(null,this.len,this.h);return zb(a,b,c)}c!==this.h[a+1]&&(this.h[a+1]=c);return this}throw Error("assoc! after persistent!");};k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};
k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};k.c=function(a){return this.K(null,a,null)};k.g=function(a,b){return this.K(null,a,b)};function Ue(a,b){for(var c=wb(Te),d=0;;)if(d<a)c=zb(c,b[d],b[d+1]),d+=2;else return c}function Ve(){this.O=!1}function We(a,b){return a===b?!0:a===b||a instanceof E&&b instanceof E&&a.oa===b.oa?!0:M.g(a,b)}function Xe(a,b,c){a=Aa(a);a[b]=c;return a}
function Ye(a,b){var c=Array(a.length-2);Rc(a,0,c,0,2*b);Rc(a,2*(b+1),c,2*b,c.length-2*b);return c}function Ze(a,b,c,d){a=a.Na(b);a.h[c]=d;return a}function $e(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var g=a[e+1];c=b.l?b.l(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.fb(b,f):f;if(jc(c))return c;e+=2;f=c}else return f}function af(a){this.h=a;this.i=0;this.sa=this.gb=null}
af.prototype.advance=function(){for(var a=this.h.length;;)if(this.i<a){var b=this.h[this.i],c=this.h[this.i+1];null!=b?b=this.gb=new te(b,c):null!=c?(b=Jb(c),b=b.fa()?this.sa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};af.prototype.fa=function(){var a=null!=this.gb;return a?a:(a=null!=this.sa)?a:this.advance()};
af.prototype.next=function(){if(null!=this.gb){var a=this.gb;this.gb=null;return a}if(null!=this.sa)return a=this.sa.next(),this.sa.fa()||(this.sa=null),a;if(this.advance())return this.next();throw Error("No such element");};af.prototype.remove=function(){return Error("Unsupported operation")};function bf(a,b,c){this.H=a;this.J=b;this.h=c;this.A=131072;this.j=0}k=bf.prototype;
k.Na=function(a){if(a===this.H)return this;var b=id(this.J),c=Array(0>b?4:2*(b+1));Rc(this.h,0,c,0,2*b);return new bf(a,this.J,c)};k.cb=function(){return cf?cf(this.h):df.call(null,this.h)};k.fb=function(a,b){return $e(this.h,a,b)};k.Oa=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.J&e))return d;var f=id(this.J&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.Oa(a+5,b,c,d):We(c,e)?f:d};
k.qa=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),h=id(this.J&g-1);if(0===(this.J&g)){var l=id(this.J);if(2*l<this.h.length){a=this.Na(a);b=a.h;f.O=!0;c=2*(l-h);f=2*h+(c-1);for(l=2*(h+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*h]=d;b[2*h+1]=e;a.J|=g;return a}if(16<=l){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[c>>>b&31]=ef.qa(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.J>>>d&1)?
d+=1:(h[d]=null!=this.h[e]?ef.qa(a,b+5,Ub(this.h[e]),this.h[e],this.h[e+1],f):this.h[e+1],e+=2,d+=1);else break;return new ff(a,l+1,h)}b=Array(2*(l+4));Rc(this.h,0,b,0,2*h);b[2*h]=d;b[2*h+1]=e;Rc(this.h,2*h,b,2*(h+1),2*(l-h));f.O=!0;a=this.Na(a);a.h=b;a.J|=g;return a}l=this.h[2*h];g=this.h[2*h+1];if(null==l)return l=g.qa(a,b+5,c,d,e,f),l===g?this:Ze(this,a,2*h+1,l);if(We(d,l))return e===g?this:Ze(this,a,2*h+1,e);f.O=!0;f=b+5;d=gf?gf(a,f,l,g,c,d,e):hf.call(null,a,f,l,g,c,d,e);e=2*h;h=2*h+1;a=this.Na(a);
a.h[e]=null;a.h[h]=d;return a};
k.pa=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=id(this.J&f-1);if(0===(this.J&f)){var h=id(this.J);if(16<=h){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=ef.pa(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.J>>>c&1)?c+=1:(g[c]=null!=this.h[d]?ef.pa(a+5,Ub(this.h[d]),this.h[d],this.h[d+1],e):this.h[d+1],d+=2,c+=1);else break;return new ff(null,h+1,g)}a=Array(2*(h+1));Rc(this.h,
0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;Rc(this.h,2*g,a,2*(g+1),2*(h-g));e.O=!0;return new bf(null,this.J|f,a)}var l=this.h[2*g];f=this.h[2*g+1];if(null==l)return h=f.pa(a+5,b,c,d,e),h===f?this:new bf(null,this.J,Xe(this.h,2*g+1,h));if(We(c,l))return d===f?this:new bf(null,this.J,Xe(this.h,2*g+1,d));e.O=!0;e=this.J;h=this.h;a+=5;a=jf?jf(a,l,f,b,c,d):hf.call(null,a,l,f,b,c,d);c=2*g;g=2*g+1;d=Aa(h);d[c]=null;d[g]=a;return new bf(null,e,d)};
k.bb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.J&e))return d;var f=id(this.J&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.bb(a+5,b,c,d):We(c,e)?new te(e,f):d};k.eb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.J&d))return this;var e=id(this.J&d-1),f=this.h[2*e],g=this.h[2*e+1];return null==f?(a=g.eb(a+5,b,c),a===g?this:null!=a?new bf(null,this.J,Xe(this.h,2*e+1,a)):this.J===d?null:new bf(null,this.J^d,Ye(this.h,e))):We(c,f)?new bf(null,this.J^d,Ye(this.h,e)):this};k.na=function(){return new af(this.h)};
var ef=new bf(null,0,[]);function kf(a){this.h=a;this.i=0;this.sa=null}kf.prototype.fa=function(){for(var a=this.h.length;;){if(null!=this.sa&&this.sa.fa())return!0;if(this.i<a){var b=this.h[this.i];this.i+=1;null!=b&&(this.sa=Jb(b))}else return!1}};kf.prototype.next=function(){if(this.fa())return this.sa.next();throw Error("No such element");};kf.prototype.remove=function(){return Error("Unsupported operation")};function ff(a,b,c){this.H=a;this.m=b;this.h=c;this.A=131072;this.j=0}k=ff.prototype;
k.Na=function(a){return a===this.H?this:new ff(a,this.m,Aa(this.h))};k.cb=function(){return lf?lf(this.h):mf.call(null,this.h)};k.fb=function(a,b){for(var c=this.h.length,d=0;;)if(d<c){var e=this.h[d];if(null!=e){b=e.fb(a,b);if(jc(b))return b;d+=1}else d+=1}else return b};k.Oa=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.Oa(a+5,b,c,d):d};
k.qa=function(a,b,c,d,e,f){var g=c>>>b&31,h=this.h[g];if(null==h)return a=Ze(this,a,g,ef.qa(a,b+5,c,d,e,f)),a.m+=1,a;b=h.qa(a,b+5,c,d,e,f);return b===h?this:Ze(this,a,g,b)};k.pa=function(a,b,c,d,e){var f=b>>>a&31,g=this.h[f];if(null==g)return new ff(null,this.m+1,Xe(this.h,f,ef.pa(a+5,b,c,d,e)));a=g.pa(a+5,b,c,d,e);return a===g?this:new ff(null,this.m,Xe(this.h,f,a))};k.bb=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.bb(a+5,b,c,d):d};
k.eb=function(a,b,c){var d=b>>>a&31,e=this.h[d];if(null!=e){a=e.eb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.m)a:{e=this.h;a=e.length;b=Array(2*(this.m-1));c=0;for(var f=1,g=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,g|=1<<c,c+=1):c+=1;else{d=new bf(null,g,b);break a}}else d=new ff(null,this.m-1,Xe(this.h,d,a));else d=new ff(null,this.m,Xe(this.h,d,a));return d}return this};k.na=function(){return new kf(this.h)};
function nf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(We(c,a[d]))return d;d+=2}else return-1}function of(a,b,c,d){this.H=a;this.ua=b;this.m=c;this.h=d;this.A=131072;this.j=0}k=of.prototype;k.Na=function(a){if(a===this.H)return this;var b=Array(2*(this.m+1));Rc(this.h,0,b,0,2*this.m);return new of(a,this.ua,this.m,b)};k.cb=function(){return cf?cf(this.h):df.call(null,this.h)};k.fb=function(a,b){return $e(this.h,a,b)};
k.Oa=function(a,b,c,d){a=nf(this.h,this.m,c);return 0>a?d:We(c,this.h[a])?this.h[a+1]:d};
k.qa=function(a,b,c,d,e,f){if(c===this.ua){b=nf(this.h,this.m,d);if(-1===b){if(this.h.length>2*this.m)return b=2*this.m,c=2*this.m+1,a=this.Na(a),a.h[b]=d,a.h[c]=e,f.O=!0,a.m+=1,a;c=this.h.length;b=Array(c+2);Rc(this.h,0,b,0,c);b[c]=d;b[c+1]=e;f.O=!0;d=this.m+1;a===this.H?(this.h=b,this.m=d,a=this):a=new of(this.H,this.ua,d,b);return a}return this.h[b+1]===e?this:Ze(this,a,b+1,e)}return(new bf(a,1<<(this.ua>>>b&31),[null,this,null,null])).qa(a,b,c,d,e,f)};
k.pa=function(a,b,c,d,e){return b===this.ua?(a=nf(this.h,this.m,c),-1===a?(a=2*this.m,b=Array(a+2),Rc(this.h,0,b,0,a),b[a]=c,b[a+1]=d,e.O=!0,new of(null,this.ua,this.m+1,b)):M.g(this.h[a+1],d)?this:new of(null,this.ua,this.m,Xe(this.h,a+1,d))):(new bf(null,1<<(this.ua>>>a&31),[null,this])).pa(a,b,c,d,e)};k.bb=function(a,b,c,d){a=nf(this.h,this.m,c);return 0>a?d:We(c,this.h[a])?new te(this.h[a],this.h[a+1]):d};
k.eb=function(a,b,c){a=nf(this.h,this.m,c);return-1===a?this:1===this.m?null:new of(null,this.ua,this.m-1,Ye(this.h,hd(a)))};k.na=function(){return new af(this.h)};function hf(a){switch(arguments.length){case 6:return jf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return gf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}
function jf(a,b,c,d,e,f){var g=Ub(b);if(g===d)return new of(null,g,2,[b,c,e,f]);var h=new Ve;return ef.pa(a,g,b,c,h).pa(a,d,e,f,h)}function gf(a,b,c,d,e,f,g){var h=Ub(c);if(h===e)return new of(null,h,2,[c,d,f,g]);var l=new Ve;return ef.qa(a,b,h,c,d,l).qa(a,b,e,f,g,l)}function pf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.v=e;this.j=32374988;this.A=0}k=pf.prototype;k.toString=function(){return Lb(this)};
k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.meta};k.aa=function(){if(null==this.D){var a=this.nodes,b=this.i+2;return qf?qf(a,b,null):df.call(null,a,b,null)}a=this.nodes;b=this.i;var c=K(this.D);return qf?qf(a,b,c):df.call(null,a,b,c)};
k.T=function(){var a=this.v;return null!=a?a:this.v=a=ec(this)};k.P=function(a,b){return uc(this,b)};k.W=function(){return J};k.ba=function(a,b){return wc(b,this)};k.ca=function(a,b,c){return yc(b,c,this)};k.X=function(){return null==this.D?new te(this.nodes[this.i],this.nodes[this.i+1]):I(this.D)};
k.da=function(){var a=this,b=null==a.D?function(){var c=a.nodes,d=a.i+2;return qf?qf(c,d,null):df.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=K(a.D);return qf?qf(c,d,e):df.call(null,c,d,e)}();return null!=b?b:J};k.M=function(){return this};k.U=function(a,b){return b===this.meta?this:new pf(b,this.nodes,this.i,this.D,this.v)};k.Y=function(a,b){return Q(b,this)};pf.prototype[za]=function(){return cc(this)};
function df(a){switch(arguments.length){case 1:return cf(arguments[0]);case 3:return qf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function cf(a){return qf(a,0,null)}function qf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new pf(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.cb(),w(d)))return new pf(null,a,b+2,d,null);b+=2}else return null;else return new pf(null,a,b,c,null)}
function rf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.v=e;this.j=32374988;this.A=0}k=rf.prototype;k.toString=function(){return Lb(this)};k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.meta};k.aa=function(){var a=this.nodes,b=this.i,c=K(this.D);return sf?sf(a,b,c):mf.call(null,a,b,c)};k.T=function(){var a=this.v;return null!=a?a:this.v=a=ec(this)};
k.P=function(a,b){return uc(this,b)};k.W=function(){return J};k.ba=function(a,b){return wc(b,this)};k.ca=function(a,b,c){return yc(b,c,this)};k.X=function(){return I(this.D)};k.da=function(){var a=this.nodes;var b=this.i,c=K(this.D);a=sf?sf(a,b,c):mf.call(null,a,b,c);return null!=a?a:J};k.M=function(){return this};k.U=function(a,b){return b===this.meta?this:new rf(b,this.nodes,this.i,this.D,this.v)};k.Y=function(a,b){return Q(b,this)};rf.prototype[za]=function(){return cc(this)};
function mf(a){switch(arguments.length){case 1:return lf(arguments[0]);case 3:return sf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function lf(a){return sf(a,0,null)}function sf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.cb(),w(d)))return new rf(null,a,b+1,d,null);b+=1}else return null;else return new rf(null,a,b,c,null)}function tf(a,b){this.ea=a;this.Bb=b;this.ub=!1}
tf.prototype.fa=function(){return!this.ub||this.Bb.fa()};tf.prototype.next=function(){if(this.ub)return this.Bb.next();this.ub=!0;return new te(null,this.ea)};tf.prototype.remove=function(){return Error("Unsupported operation")};function uf(a,b,c,d,e,f){this.meta=a;this.m=b;this.root=c;this.ga=d;this.ea=e;this.v=f;this.j=16123663;this.A=139268}k=uf.prototype;k.Ya=function(a,b){return null==b?this.ga?new te(null,this.ea):null:null==this.root?null:this.root.bb(0,Ub(b),b,null)};k.toString=function(){return Lb(this)};
k.keys=function(){return cc(Pe.c?Pe.c(this):Pe.call(null,this))};k.entries=function(){return new Le(G(G(this)))};k.values=function(){return cc(Qe.c?Qe.c(this):Qe.call(null,this))};k.has=function(a){return Uc(this,a)};k.get=function(a,b){return this.K(null,a,b)};
k.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e),g=S(f,0,null);f=S(f,1,null);a.g?a.g(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Qc(b)?(c=Db(b),b=Eb(b),g=c,d=O(c),c=g):(c=I(b),g=S(c,0,null),f=S(c,1,null),a.g?a.g(f,g):a.call(null,f,g),b=K(b),c=null,d=0),e=0;else return null};k.ka=function(a,b){return this.K(null,b,null)};k.K=function(a,b,c){return null==b?this.ga?this.ea:c:null==this.root?c:this.root.Oa(0,Ub(b),b,c)};
k.jb=function(a,b,c){a=this.ga?b.l?b.l(c,null,this.ea):b.call(null,c,null,this.ea):c;jc(a)?b=bb(a):null!=this.root?(b=this.root.fb(b,a),b=jc(b)?kc.c?kc.c(b):kc.call(null,b):b):b=a;return b};k.na=function(){var a=this.root?Jb(this.root):Ld();return this.ga?new tf(this.ea,a):a};k.S=function(){return this.meta};k.V=function(){return this.m};k.T=function(){var a=this.v;return null!=a?a:this.v=a=gc(this)};k.P=function(a,b){return Ke(this,b)};k.Sa=function(){return new vf(this.root,this.m,this.ga,this.ea)};
k.W=function(){return eb(Te,this.meta)};k.rb=function(a,b){if(null==b)return this.ga?new uf(this.meta,this.m-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.eb(0,Ub(b),b);return a===this.root?this:new uf(this.meta,this.m-1,a,this.ga,this.ea,null)};
k.va=function(a,b,c){if(null==b)return this.ga&&c===this.ea?this:new uf(this.meta,this.ga?this.m:this.m+1,this.root,!0,c,null);a=new Ve;b=(null==this.root?ef:this.root).pa(0,Ub(b),b,c,a);return b===this.root?this:new uf(this.meta,a.O?this.m+1:this.m,b,this.ga,this.ea,null)};k.M=function(){if(0<this.m){var a=null!=this.root?this.root.cb():null;return this.ga?Q(new te(null,this.ea),a):a}return null};k.U=function(a,b){return b===this.meta?this:new uf(b,this.m,this.root,this.ga,this.ea,this.v)};
k.Y=function(a,b){if(Pc(b))return this.va(null,Na(b,0),Na(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=I(b);if(Pc(c))a=Ua(a,Na(c,0),Na(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};
k.c=function(a){return this.ka(null,a)};k.g=function(a,b){return this.K(null,a,b)};var Te=new uf(null,0,null,!1,null,hc);function wf(a,b){for(var c=a.length,d=0,e=wb(Te);;)if(d<c){var f=d+1;e=zb(e,a[d],b[d]);d=f}else return yb(e)}uf.prototype[za]=function(){return cc(this)};function vf(a,b,c,d){this.H={};this.root=a;this.count=b;this.ga=c;this.ea=d;this.j=259;this.A=56}
function xf(a,b,c){if(a.H){if(null==b)a.ea!==c&&(a.ea=c),a.ga||(a.count+=1,a.ga=!0);else{var d=new Ve;b=(null==a.root?ef:a.root).qa(a.H,0,Ub(b),b,c,d);b!==a.root&&(a.root=b);d.O&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}k=vf.prototype;k.V=function(){if(this.H)return this.count;throw Error("count after persistent!");};k.ka=function(a,b){return null==b?this.ga?this.ea:null:null==this.root?null:this.root.Oa(0,Ub(b),b)};
k.K=function(a,b,c){return null==b?this.ga?this.ea:c:null==this.root?c:this.root.Oa(0,Ub(b),b,c)};k.Ua=function(a,b){a:if(this.H)if(Ae(b))a=xf(this,Be.c?Be.c(b):Be.call(null,b),Ce.c?Ce.c(b):Ce.call(null,b));else if(Pc(b))a=xf(this,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));else for(a=G(b),b=this;;){var c=I(a);if(w(c))a=K(a),b=xf(b,Be.c?Be.c(c):Be.call(null,c),Ce.c?Ce.c(c):Ce.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
k.$a=function(){if(this.H){this.H=null;var a=new uf(null,this.count,this.root,this.ga,this.ea,null)}else throw Error("persistent! called twice");return a};k.Ta=function(a,b,c){return xf(this,b,c)};k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};
k.c=function(a){return this.ka(null,a)};k.g=function(a,b){return this.K(null,a,b)};var W=function W(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return W.s(0<c.length?new H(c.slice(0),0,null):null)};W.s=function(a){for(var b=G(a),c=wb(Te);;)if(b){a=K(K(b));var d=I(b);b=I(K(b));c=zb(c,d,b);b=a}else return yb(c)};W.F=0;W.C=function(a){return this.s(G(a))};function yf(a,b){this.G=a;this.ta=b;this.j=32374988;this.A=0}k=yf.prototype;k.toString=function(){return Lb(this)};
k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.ta};k.aa=function(){var a=(null!=this.G?this.G.j&128||t===this.G.Za||(this.G.j?0:x(Qa,this.G)):x(Qa,this.G))?this.G.aa():K(this.G);return null==a?null:new yf(a,null)};k.T=function(){return ec(this)};
k.P=function(a,b){return uc(this,b)};k.W=function(){return J};k.ba=function(a,b){return wc(b,this)};k.ca=function(a,b,c){return yc(b,c,this)};k.X=function(){return this.G.X(null).key};k.da=function(){var a=(null!=this.G?this.G.j&128||t===this.G.Za||(this.G.j?0:x(Qa,this.G)):x(Qa,this.G))?this.G.aa():K(this.G);return null!=a?new yf(a,null):J};k.M=function(){return this};k.U=function(a,b){return b===this.ta?this:new yf(this.G,b)};k.Y=function(a,b){return Q(b,this)};yf.prototype[za]=function(){return cc(this)};
function Pe(a){return(a=G(a))?new yf(a,null):null}function Be(a){return Ya(a)}function zf(a,b){this.G=a;this.ta=b;this.j=32374988;this.A=0}k=zf.prototype;k.toString=function(){return Lb(this)};k.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
k.lastIndexOf=function(){function a(c){return P(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return P(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return P(this,c,d)};return b}();k.S=function(){return this.ta};k.aa=function(){var a=(null!=this.G?this.G.j&128||t===this.G.Za||(this.G.j?0:x(Qa,this.G)):x(Qa,this.G))?this.G.aa():K(this.G);return null==a?null:new zf(a,null)};k.T=function(){return ec(this)};
k.P=function(a,b){return uc(this,b)};k.W=function(){return J};k.ba=function(a,b){return wc(b,this)};k.ca=function(a,b,c){return yc(b,c,this)};k.X=function(){return this.G.X(null).O};k.da=function(){var a=(null!=this.G?this.G.j&128||t===this.G.Za||(this.G.j?0:x(Qa,this.G)):x(Qa,this.G))?this.G.aa():K(this.G);return null!=a?new zf(a,null):J};k.M=function(){return this};k.U=function(a,b){return b===this.ta?this:new zf(this.G,b)};k.Y=function(a,b){return Q(b,this)};zf.prototype[za]=function(){return cc(this)};
function Qe(a){return(a=G(a))?new zf(a,null):null}function Ce(a){return Za(a)}function Af(a){this.Wa=a}Af.prototype.fa=function(){return this.Wa.fa()};Af.prototype.next=function(){if(this.Wa.fa())return this.Wa.next().key;throw Error("No such element");};Af.prototype.remove=function(){return Error("Unsupported operation")};function Bf(a,b,c){this.meta=a;this.wa=b;this.v=c;this.j=15077647;this.A=139268}k=Bf.prototype;k.toString=function(){return Lb(this)};k.keys=function(){return cc(G(this))};
k.entries=function(){return new Me(G(G(this)))};k.values=function(){return cc(G(this))};k.has=function(a){return Uc(this,a)};k.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e),g=S(f,0,null);f=S(f,1,null);a.g?a.g(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Qc(b)?(c=Db(b),b=Eb(b),g=c,d=O(c),c=g):(c=I(b),g=S(c,0,null),f=S(c,1,null),a.g?a.g(f,g):a.call(null,f,g),b=K(b),c=null,d=0),e=0;else return null};k.ka=function(a,b){return this.K(null,b,null)};
k.K=function(a,b,c){a=Va(this.wa,b);return w(a)?Ya(a):c};k.na=function(){return new Af(Jb(this.wa))};k.S=function(){return this.meta};k.V=function(){return Ga(this.wa)};k.T=function(){var a=this.v;return null!=a?a:this.v=a=gc(this)};k.P=function(a,b){if(Lc(b))if(O(this)===O(b))try{return ed(function(c,d){return(c=Uc(b,d))?c:new ic(!1)},!0,this.wa)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};k.Sa=function(){return new Cf(wb(this.wa))};k.W=function(){return eb(Df,this.meta)};
k.M=function(){return Pe(this.wa)};k.U=function(a,b){return b===this.meta?this:new Bf(b,this.wa,this.v)};k.Y=function(a,b){return new Bf(this.meta,Ec.l(this.wa,b,null),null)};k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};k.c=function(a){return this.ka(null,a)};
k.g=function(a,b){return this.K(null,a,b)};var Df=new Bf(null,Nd,hc);Bf.prototype[za]=function(){return cc(this)};function Cf(a){this.Pa=a;this.A=136;this.j=259}k=Cf.prototype;k.Ua=function(a,b){this.Pa=zb(this.Pa,b,null);return this};k.$a=function(){return new Bf(null,yb(this.Pa),null)};k.V=function(){return O(this.Pa)};k.ka=function(a,b){return this.K(null,b,null)};k.K=function(a,b,c){return Sa(this.Pa,b,Sc)===Sc?c:b};
k.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length-1)].join(""));}};k.apply=function(a,b){return this.call.apply(this,[this].concat(Aa(b)))};k.c=function(a){return Sa(this.Pa,a,Sc)===Sc?null:a};k.g=function(a,b){return Sa(this.Pa,a,Sc)===Sc?b:a};
function qd(a){if(null!=a&&(a.A&4096||t===a.Nb))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",z.c(a)].join(""));}function Ef(a,b){return new rd(null,function(){var c=G(b);if(c){var d=I(c);d=a.c?a.c(d):a.call(null,d);c=w(d)?Q(I(c),Ef(a,ac(c))):null}else c=null;return c},null)}
function Ff(){var a=Gf;return function(){function b(h,l,m){return new U(null,2,5,V,[a.l?a.l(h,l,m):a.call(null,h,l,m),fd.l?fd.l(h,l,m):fd.call(null,h,l,m)],null)}function c(h,l){return new U(null,2,5,V,[a.g?a.g(h,l):a.call(null,h,l),fd.g?fd.g(h,l):fd.call(null,h,l)],null)}function d(h){return new U(null,2,5,V,[a.c?a.c(h):a.call(null,h),fd.c?fd.c(h):fd.call(null,h)],null)}function e(){return new U(null,2,5,V,[a.B?a.B():a.call(null),fd.B?fd.B():fd.call(null)],null)}var f=null,g=function(){function h(m,
n,p,r){var u=null;if(3<arguments.length){u=0;for(var B=Array(arguments.length-3);u<B.length;)B[u]=arguments[u+3],++u;u=new H(B,0,null)}return l.call(this,m,n,p,u)}function l(m,n,p,r){return new U(null,2,5,V,[Kd(a,m,n,p,r),Kd(fd,m,n,p,r)],null)}h.F=3;h.C=function(m){var n=I(m);m=K(m);var p=I(m);m=K(m);var r=I(m);m=ac(m);return l(n,p,r,m)};h.s=l;return h}();f=function(h,l,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,l);case 3:return b.call(this,
h,l,m);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new H(r,0,null)}return g.s(h,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=g.C;f.B=e;f.c=d;f.g=c;f.l=b;f.s=g.s;return f}()}
var Hf=function Hf(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:ze(d);return Q(f,new rd(null,function(){var g=e.length;g=d.index+(1>g?1:g);return g<=b.length?(g=b.substring(g),Hf.g?Hf.g(a,g):Hf.call(null,a,g)):null},null))};
function If(a,b,c,d,e,f,g){var h=na;na=null==na?null:na-1;try{if(null!=na&&0>na)return tb(a,"#");tb(a,c);if(0===ta.c(f))G(g)&&tb(a,function(){var u=Jf.c(f);return w(u)?u:"..."}());else{if(G(g)){var l=I(g);b.l?b.l(l,a,f):b.call(null,l,a,f)}for(var m=K(g),n=ta.c(f)-1;;)if(!m||null!=n&&0===n){G(m)&&0===n&&(tb(a,d),tb(a,function(){var u=Jf.c(f);return w(u)?u:"..."}()));break}else{tb(a,d);var p=I(m);c=a;g=f;b.l?b.l(p,c,g):b.call(null,p,c,g);var r=K(m);c=n-1;m=r;n=c}}return tb(a,e)}finally{na=h}}
function Kf(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e);tb(a,f);e+=1}else if(b=G(b))c=b,Qc(c)?(b=Db(c),d=Eb(c),c=b,f=O(b),b=d,d=f):(f=I(c),tb(a,f),b=K(c),c=null,d=0),e=0;else return null}var Lf={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Mf(a){return['"',z.c(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Lf[b]})),'"'].join("")}function Nf(a,b){return Tc(C.g(a,ra))?null!=b&&(b.j&131072||t===b.Mb)?null!=Kc(b):!1:!1}
function Of(a,b,c){if(null==a)return tb(b,"nil");if(Nf(c,a)){tb(b,"^");var d=Kc(a);Pf.l?Pf.l(d,b,c):Pf.call(null,d,b,c);tb(b," ")}if(a.Ab)return a.Vb(b);if(null!=a?a.j&2147483648||t===a.Z||(a.j?0:x(ub,a)):x(ub,a))return vb(a,b,c);if(!0===a||!1===a)return tb(b,z.c(a));if("number"===typeof a)return tb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":z.c(a));if(null!=a&&a.constructor===Object)return tb(b,"#js "),d=Yd.g(function(f){var g=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;
if("string"===typeof f)g=g.exec(f),g=null!=g&&M.g(g[0],f)?1===g.length?g[0]:ze(g):null;else throw new TypeError("re-matches must match against a string.");return new te(null!=g?pd.c(f):f,a[f])},ia(a)),Qf.I?Qf.I(d,Pf,b,c):Qf.call(null,d,Pf,b,c);if(ua(a))return If(b,Pf,"#js ["," ","]",c,a);if("string"==typeof a)return w(qa.c(c))?tb(b,Mf(a)):tb(b,a);if("function"==q(a)){var e=a.name;c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Kf(b,vc(["#object[",c,w(!1)?[' "',
z.c(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,g){for(f=z.c(f);;)if(f.length<g)f=["0",f].join("");else return f},Kf(b,vc(['#inst "',z.c(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Kf(b,vc(['#"',a.source,'"']));if(Ea(a))return Kf(b,vc(["#object[",a.toString(),"]"]));if(w(function(){var f=null==
a?null:a.constructor;return null==f?null:f.lb}()))return Kf(b,vc(["#object[",a.constructor.lb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Kf(b,vc(["#object[",c,"]"])):Kf(b,vc(["#object[",c," ",z.c(a),"]"]))}function Pf(a,b,c){var d=Rf.c(c);return w(d)?(c=Ec.l(c,Sf,Of),d.l?d.l(a,b,c):d.call(null,a,b,c)):Of(a,b,c)}
function Tf(a,b){var c=new ja;a:{var d=new Kb(c);Pf(I(a),d,b);a=G(K(a));for(var e=null,f=0,g=0;;)if(g<f){var h=e.R(null,g);tb(d," ");Pf(h,d,b);g+=1}else if(a=G(a))e=a,Qc(e)?(a=Db(e),f=Eb(e),e=a,h=O(a),a=f,f=h):(h=I(e),tb(d," "),Pf(h,d,b),a=K(e),e=null,f=0),g=0;else break a}return c}function Uf(a){return a instanceof Xb?Yb.g(null,qd(a)):pd.g(null,qd(a))}
function Vf(a){if(w(!1)){var b=G(a),c=G(b),d=I(c);K(c);S(d,0,null);S(d,1,null);c=null==a?null:null!=a&&(a.j&4||t===a.Fb)?a.W(null):(null!=a?a.j&4||t===a.Fb||(a.j?0:x(Ha,a)):x(Ha,a))?Ia(a):null;for(a=null;;){d=a;b=G(b);a=I(b);var e=K(b),f=a;a=S(f,0,null);b=S(f,1,null);if(w(f))if(a instanceof E||a instanceof Xb)if(w(d))if(M.g(d,od(a)))c=Ec.l(c,Uf(a),b),a=d,b=e;else return null;else if(d=od(a),w(d))c=Ec.l(c,Uf(a),b),a=d,b=e;else return null;else return null;else return new U(null,2,5,V,[d,c],null)}}else return null}
function Wf(a,b,c,d,e){return If(d,function(f,g,h){var l=Ya(f);c.l?c.l(l,g,h):c.call(null,l,g,h);tb(g," ");f=Za(f);return c.l?c.l(f,g,h):c.call(null,f,g,h)},[z.c(a),"{"].join(""),", ","}",e,G(b))}function Qf(a,b,c,d){var e=Nc(a)?Vf(a):null,f=S(e,0,null);e=S(e,1,null);return w(f)?Wf(["#:",z.c(f)].join(""),e,b,c,d):Wf(null,a,b,c,d)}H.prototype.Z=t;H.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};rd.prototype.Z=t;rd.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};
te.prototype.Z=t;te.prototype.N=function(a,b,c){return If(b,Pf,"["," ","]",c,this)};pf.prototype.Z=t;pf.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};Ne.prototype.Z=t;Ne.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};dc.prototype.Z=t;dc.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};De.prototype.Z=t;De.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};md.prototype.Z=t;md.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};
be.prototype.Z=t;be.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};tc.prototype.Z=t;tc.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};uf.prototype.Z=t;uf.prototype.N=function(a,b,c){return Qf(this,Pf,b,c)};rf.prototype.Z=t;rf.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};Bf.prototype.Z=t;Bf.prototype.N=function(a,b,c){return If(b,Pf,"#{"," ","}",c,this)};vd.prototype.Z=t;vd.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};
Sd.prototype.Z=t;Sd.prototype.N=function(a,b,c){tb(b,"#object[cljs.core.Atom ");Pf(new v(null,1,[Xf,this.state],null),b,c);return tb(b,"]")};zf.prototype.Z=t;zf.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};U.prototype.Z=t;U.prototype.N=function(a,b,c){return If(b,Pf,"["," ","]",c,this)};kd.prototype.Z=t;kd.prototype.N=function(a,b){return tb(b,"()")};v.prototype.Z=t;v.prototype.N=function(a,b,c){return Qf(this,Pf,b,c)};yf.prototype.Z=t;
yf.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};Cc.prototype.Z=t;Cc.prototype.N=function(a,b,c){return If(b,Pf,"("," ",")",c,this)};Xb.prototype.Xa=t;Xb.prototype.Ra=function(a,b){if(b instanceof Xb)return Wb(this,b);throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};E.prototype.Xa=t;E.prototype.Ra=function(a,b){if(b instanceof E)return nd(this,b);throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};U.prototype.Xa=t;
U.prototype.Ra=function(a,b){if(Pc(b))return Wc(this,b);throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};te.prototype.Xa=t;te.prototype.Ra=function(a,b){if(Pc(b))return Wc(this,b);throw Error(["Cannot compare ",z.c(this)," to ",z.c(b)].join(""));};function Yf(){}
function Zf(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Zf[q(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Zf._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw y("IEncodeJS.-clj-\x3ejs",a);}return a}function $f(a,b){(null!=a?t===a.Gb||(a.Wb?0:x(Yf,a)):x(Yf,a))?a=Zf(a):"string"===typeof a||"number"===typeof a||a instanceof E||a instanceof Xb?a=b.c?b.c(a):b.call(null,a):(a=vc([a]),b=oa(),a=null==a||va(G(a))?"":z.c(Tf(a,b)));return a}
var ag=function ag(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ag.s(arguments[0],1<c.length?new H(c.slice(1),0,null):null)};
ag.s=function(a,b){b=null!=b&&(b.j&64||t===b.u)?T(W,b):b;var c=C.l(b,bg,qd),d=function g(f){if(null==f)return null;if(null!=f?t===f.Gb||(f.Wb?0:x(Yf,f)):x(Yf,f))return Zf(f);if(f instanceof E)return c.c?c.c(f):c.call(null,f);if(f instanceof Xb)return z.c(f);if(Nc(f)){var h={};f=G(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.R(null,n),r=S(p,0,null);p=S(p,1,null);r=$f(r,d);p=g(p);h[r]=p;n+=1}else if(f=G(f))Qc(f)?(m=Db(f),f=Eb(f),l=m,m=O(m)):(m=I(f),l=S(m,0,null),m=S(m,1,null),l=$f(l,d),m=g(m),h[l]=m,
f=K(f),l=null,m=0),n=0;else break;return h}if(null==f?0:null!=f?f.j&8||t===f.cc||(f.j?0:x(Ja,f)):x(Ja,f)){h=[];f=G(Yd.g(g,f));l=null;for(n=m=0;;)if(n<m)r=l.R(null,n),h.push(r),n+=1;else if(f=G(f))l=f,Qc(l)?(f=Db(l),n=Eb(l),l=f,m=O(f),f=n):(f=I(l),h.push(f),f=K(l),l=null,m=0),n=0;else break;return h}return f};return d(a)};ag.F=1;ag.C=function(a){var b=I(a);a=K(a);return this.s(b,a)};var cg=new E(null,"cursorGroupBackward","cursorGroupBackward",-1004717331),dg=new E("cursor","mapped","cursor/mapped",1625530272),eg=new E(null,"slurp-forward","slurp-forward",-866284566),fg=new E(null,"selection-return","selection-return",267226206),Ih=new E(null,"DefLike","DefLike",851541087),gg=new E(null,"selectGroupForward","selectGroupForward",1344873433),hg=new E(null,"table","table",-564943036),Xf=new E(null,"val","val",128701612),jg=new E(null,"doc","doc",1913296891),kg=new E(null,"selectLineEnd",
"selectLineEnd",-1578526086),lg=new E(null,"cursorDocStart","cursorDocStart",2008312830),ra=new E(null,"meta","meta",1499536964),mg=new E(null,"barf-backward","barf-backward",434854195),ng=new E(null,"cursorPageDown","cursorPageDown",-1143253131),Qi=new E(null,"Discard!","Discard!",-1586397699),og=new E(null,"mac","mac",-1879391650),pg=new E(null,"barf-forward","barf-forward",1278612337),qg=new E(null,"from","from",1815293044),rg=new E(null,"selectPageDown","selectPageDown",226562613),sg=new E(null,
"deleteCharBackward","deleteCharBackward",-618312025),tg=new E(null,"cursorPageUp","cursorPageUp",-716828715),ug=new E(null,"selectCharLeft","selectCharLeft",1894248154),vg=new E(null,"spec","spec",347520401),wg=new E(null,"nav-left","nav-left",845947876),Jj=new E(null,"RegExp","RegExp",137681940),xg=new E(null,"class","class",-2030961996),yg=new E(null,"cursorLineDown","cursorLineDown",180576864),zg=new E(null,"range","range",1639692286),Ag=new E(null,"selectDocEnd","selectDocEnd",496449813),Bg=
new E(null,"cursor","cursor",1011937484),Cg=new E(null,"nav-right","nav-right",591041267),Dg=new E(null,"shift","shift",997140064),Nj=new E(null,"Number","Number",2146289584),Md=new Xb(null,"meta19719","meta19719",1333101962,null),Rf=new E(null,"alt-impl","alt-impl",670969595),Eg=new E(null,"selectDocStart","selectDocStart",-217268371),Oj=new E(null,"LineComment","LineComment",1087879618),Fg=new E(null,"deleteCharForward","deleteCharForward",823474956),Pj=new E(null,"Keyword","Keyword",1804369776),
Gg=new E(null,"deleteGroupBackward","deleteGroupBackward",616768113),Hg=new E(null,"selectLineUp","selectLineUp",-255594686),Ig=new E(null,"selectAll","selectAll",869127842),Jg=new E(null,"cursorDocEnd","cursorDocEnd",-1298653903),Qj=new E(null,"Nil","Nil",-1671759041),sa=new E(null,"dup","dup",556298533),Kg=new E(null,"cursorGroupForward","cursorGroupForward",1231480632),Lg=new E(null,"nav-select-right","nav-select-right",-455278613),Mg=new E(null,"cellpadding","cellpadding",-1752450238),ta=new E(null,
"print-length","print-length",1931866356),Ng=new E(null,"unwrap","unwrap",-1399175462),Og=new E(null,"selectLineDown","selectLineDown",1741100604),Rj=new E(null,"StringContent","StringContent",-877262859),pa=new E(null,"flush-on-newline","flush-on-newline",-151457939),Pg=new E(null,"selectGroupBackward","selectGroupBackward",1569543117),Qg=new E(null,"nav-select-left","nav-select-left",-1033285138),Sj=new E(null,"Boolean","Boolean",20610060),Rg=new E(null,"selection-grow","selection-grow",1627169352),
Sg=new E(null,"cursorLineUp","cursorLineUp",-1375841219),Tg=new E(null,"selectCharRight","selectCharRight",1049825195),Y=new E(null,"key","key",-1516042587),Ug=new E(null,"tr","tr",-1424774646),Vg=new E(null,"selectLineBoundaryForward","selectLineBoundaryForward",904508598),Wg=new E(null,"to","to",192099007),Xg=new E(null,"b","b",1482224470),Yg=new E(null,"selectPageUp","selectPageUp",152840428),Zg=new E(null,"splitLine","splitLine",-1338533189),$g=new E(null,"td","td",1479933353),ah=new E(null,"run",
"run",-1821166653),bh=new E(null,"cursorLineBoundaryForward","cursorLineBoundaryForward",-1283359997),ch=new E(null,"changes","changes",1492088),dh=new E(null,"enter-and-indent","enter-and-indent",-1825406873),eh=new E(null,"cursorLineBoundaryBackward","cursorLineBoundaryBackward",1373049802),fh=new E(null,"kill","kill",-12335575),gh=new E(null,"div","div",1057191632),Sf=new E(null,"fallback-impl","fallback-impl",-1501286995),hh=new E(null,"insertNewlineAndIndent","insertNewlineAndIndent",-542382007),
ih=new E(null,"preventDefault","preventDefault",-1714933772),qa=new E(null,"readably","readably",1129599760),jh=new E(null,"deleteGroupForward","deleteGroupForward",596007091),kh=new E(null,"selectLineBoundaryBackward","selectLineBoundaryBackward",-1443564123),bg=new E(null,"keyword-fn","keyword-fn",-64566675),lh=new E(null,"cursorCharRight","cursorCharRight",-739900583),mh=new E(null,"transposeChars","transposeChars",1566260285),nh=new E(null,"cursorCharLeft","cursorCharLeft",-1572589780),oh=new E(null,
"indent","indent",-148200125),ph=new E(null,"insert","insert",1286475395),qh=new E(null,"cursorLineStart","cursorLineStart",-1505072960),rh=new E(null,"slurp-backward","slurp-backward",-1615745159),sh=new E(null,"undoSelection","undoSelection",628691449),th=new E(null,"from-to","from-to",-640428401),uh=new E(null,"cursorLineEnd","cursorLineEnd",-234219178),vh=new E(null,"selectLineStart","selectLineStart",1211557745),Jf=new E(null,"more-marker","more-marker",-14717935);var wh={},xh={},yh=[];function zh(a,b){var c=xh[a];if(void 0!==c)return c;try{yh.push(a);var d=wh[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};wh[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,zh,d,d.exports)}catch(g){throw console.warn("shadow-cljs - failed to load",a),g;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{yh.pop()}return d.exports}zh.cache={};zh.resolve=function(a){return a};
function Ah(a){return zh(a,{})};Ah(0);var Ch=Ah(1);Ah(4);var Dh=Ah(5);var Bh=Ah(6);var Gh=Ah(7);var Tj=Ah(8);Ah(9);var Eh=Ah(10);var Fh=Ah(11);var Hh=Ah(12);Ah(14);var Jh=Ah(15);function Kh(a){return a instanceof E?qd(a):a};function Lh(a,b){var c=G(b);I(c);c=K(c);I(c);for(K(c);;){c=G(b);b=I(c);c=K(c);var d=I(c);c=K(c);a[Kh(b)]=d;if(c)b=c;else break}}var Mh=function Mh(a){switch(arguments.length){case 1:return Mh.c(arguments[0]);case 2:return Mh.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Mh.s(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Mh.c=function(a){return a};
Mh.g=function(a,b){a=null!=a?a:{};if(null!=b)for(var c=G(ia(b)),d=null,e=0,f=0;;)if(f<e){var g=d.R(null,f);Lh(a,vc([g,b[Kh(g)]]));f+=1}else if(c=G(c))d=c,Qc(d)?(c=Db(d),f=Eb(d),d=c,e=O(c),c=f):(c=I(d),Lh(a,vc([c,b[Kh(c)]])),c=K(d),d=null,e=0),f=0;else break;return a};Mh.s=function(a,b,c){return Ca(Mh,Mh.g(a,b),c)};Mh.C=function(a){var b=I(a),c=K(a);a=I(c);c=K(c);return this.s(b,a,c)};Mh.F=2;var Nh=Ah(16);function Oh(a,b){b=0<b?b:0;a=a.doc.length;return b<a?b:a};function Ph(a,b){return w(b.c?b.c(a):b.call(null,a))?a:null}function Qh(a,b){return a>b?{from:b,to:a}:{from:a,to:b}}function Rh(a,b){return w(b)?(a.dispatch(b),!0):!1}function Kj(a,b,c){return new v(null,2,[ch,new v(null,3,[ph,c,qg,a,Wg,b],null),Bg,a+c.length],null)}function Lj(a,b){M.g(a,b)&&(--a,a=0>a?0:a);return new v(null,2,[Bg,a,ch,new v(null,2,[qg,a,Wg,b],null)],null)}function Sh(a,b){return Th(a,null,b)}
function Th(a,b,c){return a.update(Mh.g(a.changeByRange(function(d){var e=c.c?c.c(d):c.call(null,d);if(null==e)e=null;else{e=Ph(e,Nc);e=null!=e&&(e.j&64||t===e.u)?T(W,e):e;var f=C.g(e,dg),g=C.g(e,Bg),h=C.g(e,th),l=C.g(e,zg);e=C.g(e,ch);e=w(e)?a.changes(ag(e)):null;w(l)?h=l:(w(f)?h=Ch.EditorSelection.cursor(e.mapPos(f)):w(g)?h=Ch.EditorSelection.cursor(g):w(h)?(f=h.c?h.c(0):h.call(null,0),h=h.c?h.c(1):h.call(null,1),h=Ch.EditorSelection.range(f,h)):h=null,h=w(h)?h:d);h={range:h};w(e)&&(h.changes=e);
e=h}return w(e)?e:{range:d}}),b))}function Uh(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return Vh(arguments[0],arguments[1],2<b.length?new H(b.slice(2),0,null):null)}
function Vh(a,b,c){c=S(c,0,null);c=null!=c&&(c.j&64||t===c.u)?T(W,c):c;var d=C.l(c,qg,0),e=C.g(c,Wg);c=C.g(c,vg);for(var f=a.doc.iterLines(0),g=f.next(),h=[],l=d,m=1;;){var n=g,p=null!=n&&(n.j&64||t===n.u)?T(W,n):n,r=function(){var D=p;if(null!=D&&"done"in D)return D.done}(),u=function(){var D=p;if(null!=D&&"value"in D)return D.value}();if(w(function(){var D=r;return w(D)?D:d>e}()))return a.update(Mh.g({changes:a.changes(h)},c));g=f.next();n=function(){var D=b.l?b.l(l,u,m):b.call(null,l,u,m);if(w(D)){var R=
h;R.push(D);return R}return h}();var B=l+1+u.length,F=m+1;h=n;l=B;m=F}}
function Wh(a,b){var c=new Sd(-1),d=a.doc;return a.changeByRange(function(e){var f=null!=e&&(e.j&64||t===e.u)?T(W,e):e;var g=null!=f&&"from"in f?f.from:void 0;var h=null!=f&&"to"in f?f.to:void 0;var l=null!=f&&"anchor"in f?f.anchor:void 0;var m=null!=f&&"head"in f?f.head:void 0;for(var n=[],p=d.lineAt(g);;){var r=p,u=null!=r&&(r.j&64||t===r.u)?T(W,r):r,B=function(){var D=u;if(null!=D&&"number"in D)return D.number}(),F=function(){var D=u;if(null!=D&&"to"in D)return D.to}();p.number>bb(c)&&(Td(c,B),
b.l?b.l(p,n,f):b.call(null,p,n,f));p=h>F?Ph(d.lineAt(F+1),function(D,R,X,da){return function(xa){return xa.number>da}}(p,r,u,B,F,n,e,f,f,g,h,l,m,c,d)):!1;if(!w(p))return e=a.changes(n),{changes:n,range:Ch.EditorSelection.range(e.mapPos(l,1),e.mapPos(m,1))}}})}
function Xh(a,b){var c=null!=a&&(a.j&64||t===a.u)?T(W,a):a;a=null!=c&&"state"in c?c.state:void 0;var d=null!=a&&(a.j&64||t===a.u)?T(W,a):a;var e=null!=d&&"doc"in d?d.doc:void 0;var f=null!=c&&"changes"in c?c.changes:void 0;a=null!=c&&"effects"in c?c.effects:void 0;var g=null!=c&&"selection"in c?c.selection:void 0;var h=new Sd(-1),l=[];f.iterChanges(function(p,r,u,B){p=e.lineAt(u);u=null!=p&&(p.j&64||t===p.u)?T(W,p):p;p=null!=u&&"number"in u?u.number:void 0;r=null!=u&&"to"in u?u.to:void 0;for(;;){p>
bb(h)&&(Td(h,p),b.g?b.g(u,l):b.call(null,u,l));if(B<=r)return null;var F=e.lineAt(r+1),D=F;if(w(w(D)?F.number>u.number:D))u=F;else return null}});var m=d.changes(l);if(G(l)){var n=function(){if(null!=c){var p={};"annotations"in c&&(p.annotations=c.annotations);"scrollIntoView"in c&&(p.scrollIntoView=c.scrollIntoView);"reconfigure"in c&&(p.reconfigure=c.reconfigure)}else p={};p=null!=p?p:{};p.changes=f.compose(m);return p}();g=w(g)?function(){var p=null!=n?n:{};p.selection=d.selection.map(m);return p}():
n;return w(a)?(g=null!=g?g:{},g.effects=Ch.StateEffect.mapEffects(a,m),g):g}return c}function Yh(a){a=null!=a&&(a.j&64||t===a.u)?T(W,a):a;a=null!=a&&"selection"in a?a.selection:void 0;a=null!=a&&(a.j&64||t===a.u)?T(W,a):a;a=null!=a&&"ranges"in a?a.ranges:void 0;return!Od(function(b){return b.empty},a)};var Zh=Nh.props.coll,$h=Nh.props.prefixColl,ai=Nh.props.prefixEdge,bi=Nh.props.prefixContainer,ci=Bh.NodeProp.closedBy,di=Bh.NodeProp.openedBy,ei=Nh.props.sameEdge;function fi(a){for(var b=0;;){a=a.parent;if(null==a)return b;b+=1}}function gi(a){return a.parent.childBefore(a.from)}function hi(a){return a.parent.childAfter(a.to)}function ii(a){return a.type.prop(ai)}function ji(a){return a.type.prop(bi)}function ki(a){return a.type.prop(ci)}function li(a){return a.type.prop(di)}
function mi(a){a=a.type;return a.prop(ci)||a.prop(ei)||a.prop(ai)}function ni(a){return a.prop(di)||a.prop(ei)}function oi(a){a=a.type.prop(Bh.NodeProp.closedBy);return null==a?null:a[0]}function pi(a){a=a.type.prop(Bh.NodeProp.openedBy);return null==a?null:a[0]}function qi(a){return a.type.isTop}function ri(a){return"String"===a.name}function si(a){return"LineComment"===a.name}function ti(a){return a.type.prop(Zh)}
function ui(a){return a.isTop?!1:w(a.prop($h))?!1:w(a.prop(Zh))?!1:"Meta"===a.name?!1:!0}function vi(a){var b=null!=a&&(a.j&64||t===a.u)?T(W,a):a;a=null!=b&&"firstChild"in b?b.firstChild:void 0;b=null!=b&&"lastChild"in b?b.lastChild:void 0;var c=oi(a);return w(c)?M.g(c,b.name)&&!M.g(a.to,b.to):!0}var wi=function wi(a){var c=a.parent;return null==c?null:Q(c,new rd(null,function(){return wi.c?wi.c(c):wi.call(null,c)},null))};
function xi(a,b){return w(b.c?b.c(a):b.call(null,a))?a:Ca(function(c,d){return w(b.c?b.c(d):b.call(null,d))?new ic(d):null},null,wi(a))}function yi(a,b){return Ca(function(c,d){return w(b.c?b.c(d):b.call(null,d))?d:new ic(c)},null,Q(a,wi(a)))}
function zi(a,b,c){a:switch(c){case 1:var d=a.childAfter(b);break a;case -1:d=a.childBefore(b);break a;default:throw Error(["No matching clause: ",z.c(c)].join(""));}return null==d?null:Q(d,new rd(null,function(){var e=zi;a:switch(c){case 1:var f=d.to;break a;case -1:f=d.from;break a;default:throw Error(["No matching clause: ",z.c(c)].join(""));}return e(a,f,c)},null))}function Ai(a,b){return a.from===b.from&&a.to===b.to&&fi(a)===fi(b)}function Ci(a){return{from:a.from,to:a.to}}
function Di(a,b){return Tc(a.from<=b.from&&a.to>=b.to&&fi(a)<fi(b))}function Ei(a,b){if(Ai(a,b))return null;var c=Vc(b.from,a.from);switch(c){case 0:return Di(b,a)?a.parent:Di(a,b)?a.firstChild:null;case -1:if(Di(a,b))return a.lastChild;b=gi(a);return w(b)?b:a.parent;case 1:if(Di(a,b))return a.firstChild;b=hi(a);return w(b)?b:a.parent;default:throw Error(["No matching clause: ",z.c(c)].join(""));}}function Fi(a,b){return Ef(fd,ce(function(c){return Ei(c,b)},a))}
function Gi(a){var b=ti(a);return w(b)?b:ri(a)||"RegExp"===a.name}function Hi(a){switch(arguments.length){case 1:return Tj.syntaxTree(arguments[0]);case 2:var b=arguments[1];return Tj.syntaxTree(arguments[0]).resolve(b);case 3:b=arguments[1];var c=arguments[2];return Tj.syntaxTree(arguments[0]).resolve(b,c);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}
function Ii(a){switch(arguments.length){case 1:return arguments[0].cursor();case 2:return arguments[0].cursor(arguments[1]);case 3:return arguments[0].cursor(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.c(arguments.length)].join(""));}}function Ji(a){var b=a.from,c=yi(a,function(d){return M.g(b,d.from)});return w(c)?c:a}
function Ki(a,b,c){a=Ji(Ii(a,b,1).node).cursor;for(b=Bc;;){var d=a.type;if(a.from>c)return b;if(ui(d)||d.isError){if(b=Ac.g(b,{type:d,from:a.from,to:a.to}),a.lastChild(),!w(a.next()))return b}else if(!w(a.next()))return b}}
function Li(a,b,c){c=Yc(Vc,new U(null,2,5,V,[b,c],null));b=S(c,0,null);c=S(c,1,null);var d=Hi(a,b,1),e=Hi(a,c,-1);a=w(Gi(d))?d.from:b;b=w(Gi(e))?e.to:c;b=Ca(function(f,g){var h=S(f,0,null);f=S(f,1,null);return new U(null,2,5,V,[Di(g,d)?g.from:h,Di(g,e)?g.to:f],null)},new U(null,2,5,V,[a,b],null),Yd.g(function(f){var g=f.type;return g.prop(ci)||g.prop(di)||g.prop(ei)||g.prop($h)?f.parent:f},Fi(d,e)));a=S(b,0,null);b=S(b,1,null);return Ch.EditorSelection.range(a,b)}
function Gf(a){a=null!=a&&(a.j&64||t===a.u)?T(W,a):a;var b=null!=a&&"firstChild"in a?a.firstChild:void 0;var c=null!=a&&"lastChild"in a?a.lastChild:void 0;return{from:mi(b)?b.to:a.from,to:ni(c.type)?c.from:a.to}}function Mi(a){a=a.parent;if(null==a)return null;var b=Ph(a,ji);return w(b)?b:Ph(a.firstChild,ii)}function Ni(a,b){return[z.c(function(){var c=Mi(b);return null==c?null:a.doc.slice(c.from,c.to)}()),b.firstChild.name].join("")}function Oi(a){return w(Mi(a))?a.parent:a}
function Bi(a,b){a=Hi(a,b,-1);return null==a?null:Ph(a,function(c){return M.g(b,c.to)})};(function(a){if(Lc(a))return Jc(a,null);a=G(a);if(null==a)return Df;if(a instanceof H&&0===a.i){a=a.h;for(var b=a.length,c=wb(Df),d=0;;)if(d<b)xb(c,a[d]),d+=1;else break;return yb(c)}for(c=wb(Df);;)if(null!=a)b=K(a),c=xb(c,A(a)),a=b;else return yb(c)})(Yd.g(function(a){return a.charCodeAt(0)},new U(null,4,5,V,[" ","n","r",","],null)));var Z=Ah(18);var Pi=Tj.indentNodeProp.add(function(a){var b=null!=a&&(a.j&64||t===a.u)?T(W,a):a;var c=null!=b&&"name"in b?b.name:void 0;return function(d){d=null!=d&&(d.j&64||t===d.u)?T(W,d):d;var e=null!=d&&"node"in d?d.node:void 0;if(M.g("Program",c))return 0;if(w(b.prop(Zh))){d=d.column(e.firstChild.to);if(M.g("List",c)){e=null==e?null:e.firstChild;e=null==e?null:hi(e);e=null==e?null:e.name;var f=new Bf(null,new v(null,2,["DefLike",null,"Operator",null],null),null);e=f.c?f.c(e):f.call(null,e)}else e=!1;return w(e)?
d+1:d}return-1}});
function Ri(a,b,c){var d=ld(ee(function(e){return b<=e.from&&e.from<=c||b<=e.to&&e.to<=c},Ki(Hi(a),b,c)));a=function(){var e=I(d);e=null==e?null:e.to;return null==e?null:e<c}();return Ca(function(e,f){var g=S(f,0,null),h=null!=g&&(g.j&64||t===g.u)?T(W,g):g;g=null!=h&&"type"in h?h.type:void 0;h=null!=h&&"from"in h?h.from:void 0;f=S(f,1,null);var l=null!=f&&(f.j&64||t===f.u)?T(W,f):f;f=null!=l&&"to"in l?l.to:void 0;l=null!=l&&"type"in l?l.type:void 0;g=l.prop(ci)||l.prop(ai)||g.prop(di)||g.prop(ei)?
0:1;switch(Vc(h-f,g)){case 0:return e;case 1:return e.push({from:0===g?f:f+1,to:h}),e;case -1:return e.push({from:f,insert:" "}),e;default:return e}},w(a)?[{from:I(d).to,to:c}]:[],he(2,1,d))}function Si(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.R(null,e);a.push(f);e+=1}else if(b=G(b))c=b,Qc(c)?(b=Db(c),e=Eb(c),c=b,d=O(b),b=e):(b=I(c),a.push(b),b=K(c),c=null,d=0),e=0;else break;return a}
function Ti(a,b,c,d,e){var f=/^\s*/.exec(d)[0].length,g=Ph(Tj.getIndentation(b.state,c),Qd(jd));b=w(g)?function(){var h=Vc(g,f);switch(h){case 0:return null;case 1:return{from:c+f,insert:Tj.indentString(a,g-f)};case -1:return{from:c+g,to:c+f};default:throw Error(["No matching clause: ",z.c(h)].join(""));}}():null;d=w(!0)?Ri(a,c+f,c+O(d)):null;e=w(d)?Si(e,d):e;w(b)&&e.push(b);return e}
function Ui(a){var b=new Tj.IndentContext(a);return Wh(a,function(c,d){var e=null!=c&&(c.j&64||t===c.u)?T(W,c):c;c=null!=e&&"from"in e?e.from:void 0;e=null!=e&&"content"in e?e.content:void 0;return Ti(a,b,c,e,d)})}function Vi(a){var b=new Tj.IndentContext(a);return Uh(a,function(c,d){return Ti(a,b,c,d,[])})};function Wi(){var a=Xi,b=new U(null,2,5,V,["",Bc],null);a:{var c=Hf(/\||<[^>]*?>|[^<>|]+/,'(defn lezer-clojure\n  "This is a showcase for `lezer-clojure`, a grammar for Clojure/Script to enable a decent editor experience in the browser."\n  {:added "0.1"}\n  [demo]\n  nil ;; nil\n  (+ 1 1.0 1/5 1E3 042 +042 -042) ;; numbers\n  :hi :hi/ho ::ho :*+!-_? :abc:def:ghi ;; keywords\n  true false ;; booleans\n  :hello #_ :ignored ;; ignore next form\n  #"[A-Z]" ;; regex\n  ^{:meta/data \'is-data} \'too\n  (if (test? \x3cdemo\x3e)\n    (inc demo)|\n    (dec demo)))\n  #\n    [ ]\n    #"a"\na b(c|)d e');
break a;throw new TypeError("re-seq must match against a string.");}c=Ca(function(d,e){var f=S(d,0,null);d=S(d,1,null);if(M.g(e,"|"))e=new U(null,2,5,V,[f,Ac.g(d,Ch.EditorSelection.cursor(f.length))],null);else if(0==e.lastIndexOf("\x3c",0)){var g=V,h=O(e)-1;e=new U(null,2,5,g,[[f,e.substring(1,h)].join(""),Ac.g(d,Ch.EditorSelection.range(f.length,f.length+(O(e)-2)))],null)}else e=new U(null,2,5,V,[[f,z.c(e)].join(""),d],null);return e},b,c);b=S(c,0,null);c=S(c,1,null);return Ch.EditorState.create({doc:b,
selection:G(c)?Ch.EditorSelection.create(Zc(c)):void 0,extensions:function(){var d=[Ch.EditorState.allowMultipleSelections.of(!0)];w(a)&&d.push(a);return d}()})};function Yi(a){return Pd(function(b){return va(b.empty)},a.ranges)}
var Zi=Ch.StateField.define({create:Rd(J),update:function(a,b){b=null!=b&&(b.j&64||t===b.u)?T(W,b):b;var c=null!=b&&"state"in b?b.state:void 0;c=null!=c&&(c.j&64||t===c.u)?T(W,c):c;var d=null!=c&&"selection"in c?c.selection:void 0;b=null!=b&&"docChanged"in b?b.docChanged:void 0;return w(b)?J:va(Yi(d))?new Cc(null,d,null,1,null):w(function(){var e=null==a?null:I(K(a));return null==e?null:e.eq(d)}())?$d(1,a):w(function(){var e=null==a?null:I(a);return null==e?null:e.eq(d)}())?a:Ac.g(a,d)}});function $i(a){return function(b){var c=null!=b&&(b.j&64||t===b.u)?T(W,b):b;b=null!=c&&"state"in c?c.state:void 0;c=null!=c&&"dispatch"in c?c.dispatch:void 0;b=a.c?a.c(b):a.call(null,b);null!=b&&(c.c?c.c(b):c.call(null,b));return!0}}
function aj(a){var b=document;b=null!=b&&"activeElement"in b?b.activeElement:void 0;var c=document.createElement("input");c.setAttribute("class","clipboard-input");c.setAttribute("value",a);document.body.appendChild(c);c.focus();c.select();document.execCommand("copy");document.body.removeChild(c);b.focus()}
function bj(a,b,c){var d=function(){var e=xi(Hi(a,b),function(g){var h=ti(g);return w(h)?h:ri(g)||qi(g)});e=null==e?null:zi(e,b,c);e=null==e?null:I(e);if(null==e)return null;a:switch(c){case -1:var f=qg;break a;case 1:f=Wg;break a;default:throw Error(["No matching clause: ",z.c(c)].join(""));}f=Kh(f);if(null!=e&&f in e)return e[f]}();return w(d)?d:Oh(a,b+c)}
function cj(a){return function(b){return Sh(b,function(c){var d=null!=c&&(c.j&64||t===c.u)?T(W,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[Bg,bj(b,c,a)],null);else{c=Qh(c,e);b:switch(a){case -1:e=qg;break b;case 1:e=Wg;break b;default:throw Error(["No matching clause: ",z.c(a)].join(""));}e=Kh(e);c=null!=c&&e in c?c[e]:void 0;c=new v(null,1,[Bg,c],null)}return c})}}
function dj(a){return function(b){return Sh(b,function(c){var d=null!=c&&(c.j&64||t===c.u)?T(W,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[zg,Li(b,c,bj(b,c,a))],null);else{a:switch(c=Qh(c,e),e=null!=c&&(c.j&64||t===c.u)?T(W,c):c,c=null!=e&&"from"in e?e.from:void 0,e=null!=e&&"to"in e?e.to:void 0,a){case 1:c=Li(b,c,bj(b,e,a));break a;case -1:c=Li(b,bj(b,c,a),e);break a;default:throw Error(["No matching clause: ",
z.c(a)].join(""));}c=new v(null,1,[zg,c],null)}return c})}}function ej(a,b){var c=function(){var g=Hi(a,b,-1);return null==g?null:Ph(g,function(h){h=null!=h&&(h.j&64||t===h.u)?T(W,h):h;h=null!=h&&"to"in h?h.to:void 0;return M.g(b,h)})}(),d=function(){var g=Hi(a,b,1);return null==g?null:Ph(g,function(h){h=null!=h&&(h.j&64||t===h.u)?T(W,h):h;h=null!=h&&"from"in h?h.from:void 0;return M.g(b,h)})}(),e=Hi(a,b);var f=Ph(c,Wd(wa,Qd(mi)));return w(f)?f:w(d)?d:w(c)?c:e}
function fj(a,b,c){a=ej(a,c);return I(ee(function(d){var e=null!=d&&(d.j&64||t===d.u)?T(W,d):d;d=null!=e&&"from"in e?e.from:void 0;e=null!=e&&"to"in e?e.to:void 0;return d<=b&&e>=c&&!(d===b&&e===c)},Q(a,de(Ff(),vc([wi(a)])))))}
function gj(a){return function(b){return Sh(b,function(c){var d=null!=c&&(c.j&64||t===c.u)?T(W,c):c;c=null!=d&&"from"in d?d.from:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d)){var e=xi(Hi(b,c),Wd(ti,function(g){a:switch(a){case 1:g=null==g?null:Oi(g);g=null==g?null:hi(g);g=null==g?null:li(g);break a;case -1:g=null==g?null:Oi(g);g=null==g?null:gi(g);g=null==g?null:ki(g);break a;default:throw Error(["No matching clause: ",z.c(a)].join(""));}return va(g)}));if(w(e)){a:switch(a){case 1:var f=I(fe(si,
Ef(fd,ce(hi,hi(Oi(e))))));break a;case -1:f=I(fe(si,Ef(fd,ce(gi,gi(Oi(e))))));break a;default:throw Error(["No matching clause: ",z.c(a)].join(""));}return w(f)?new v(null,2,[dg,c,ch,function(){switch(a){case 1:var g=e.lastChild,h=V,l=new v(null,2,[qg,f.to,ph,g.name],null);g=Ci(g);g=null!=g?g:{};g.insert=" ";return new U(null,2,5,h,[l,g],null);case -1:return g=Ni(b,e),h=Oi(e).from,new U(null,2,5,V,[new v(null,3,[qg,h,Wg,h+g.length,ph," "],null),new v(null,2,[qg,f.from,ph,g],null)],null);default:throw Error(["No matching clause: ",
z.c(a)].join(""));}}()],null):null}}return null})}}
function hj(a){return function(b){return Sh(b,function(c){c=null!=c&&(c.j&64||t===c.u)?T(W,c):c;var d=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;if(w(c)){var e=xi(Hi(b,d),ti);if(w(e))switch(a){case 1:c=function(){var l=e.lastChild;l=null==l?null:Ef(fd,ce(gi,gi(l)));l=null==l?null:fe(si,l);l=null==l?null:$d(1,l);return null==l?null:I(l)}();if(w(c)){var f=c;return new v(null,2,[Bg,function(){var l=f.to;return l<d?l:d}(),ch,new U(null,2,5,V,[new v(null,2,[qg,f.to,ph,e.lastChild.name],
null),function(){var l=Ci(e.lastChild);l=null!=l?l:{};l.insert=" ";return l}()],null)],null)}return null;case -1:c=function(){var l=e.firstChild;l=null==l?null:Ef(fd,ce(hi,hi(l)));l=null==l?null:fe(si,l);l=null==l?null:$d(1,l);return null==l?null:I(l)}();if(w(c)){var g=c,h=Ni(b,e);c=Oi(e).from;return new v(null,2,[Bg,function(){var l=g.from+(h.length+1);return d>l?d:l}(),ch,new U(null,2,5,V,[new v(null,2,[qg,g.from,ph,[" ",h].join("")],null),new v(null,3,[qg,c,Wg,c+h.length,ph,Tj.indentString(b,h.length)],
null)],null)],null)}return null;default:throw Error(["No matching clause: ",z.c(a)].join(""));}else return null}else return null})}}
var ij=wf([qh,yg,Ig,Hg,bh,kh,sg,hh,eh,Tg,Yg,Fg,nh,cg,Eg,Pg,Jg,Gg,vh,jh,Ag,rg,ng,tg,Vg,uh,Kg,lh,gg,kg,ug,Zg,Og,mh,Sg,lg],[Z.cursorLineStart,Z.cursorLineDown,Z.selectAll,Z.selectLineUp,Z.cursorLineBoundaryForward,Z.selectLineBoundaryBackward,Z.deleteCharBackward,Z.insertNewlineAndIndent,Z.cursorLineBoundaryBackward,Z.selectCharRight,Z.selectPageUp,Z.deleteCharForward,Z.cursorCharLeft,Z.cursorGroupBackward,Z.selectDocStart,Z.selectGroupBackward,Z.cursorDocEnd,Z.deleteGroupBackward,Z.selectLineStart,
Z.deleteGroupForward,Z.selectDocEnd,Z.selectPageDown,Z.cursorPageDown,Z.cursorPageUp,Z.selectLineBoundaryForward,Z.cursorLineEnd,Z.cursorGroupForward,Z.cursorCharRight,Z.selectGroupForward,Z.selectLineEnd,Z.selectCharLeft,Z.splitLine,Z.selectLineDown,Z.transposeChars,Z.cursorLineUp,Z.cursorDocStart]),jj=wf([oh,wg,dh,Rg,fh,eg,Lg,Qg,pg,mg,Cg,rh,Ng,fg],[$i(function(a){return Yh(a)?a.update(Ui(a)):Vi(a)}),$i(cj(-1)),$i(function(a){var b=new Tj.IndentContext(a);return Sh(a,function(c){var d=null!=c&&(c.j&
64||t===c.u)?T(W,c):c;c=null!=d&&"from"in d?d.from:void 0;d=null!=d&&"to"in d?d.to:void 0;var e=Gf(xi(Hi(a,c),Xd(ti,qi))).from;e=Tj.getIndentation(b.state,e);e=["\n",z.c(Tj.indentString(a,e))].join("");return new v(null,2,[Bg,c+e.length,ch,new U(null,1,5,V,[new v(null,3,[qg,c,Wg,d,ph,e],null)],null)],null)})}),$i(function(a){return Sh(a,function(b){var c=null!=b&&(b.j&64||t===b.u)?T(W,b):b;var d=null!=c&&"from"in c?c.from:void 0;var e=null!=c&&"to"in c?c.to:void 0;b=null!=c&&"empty"in c?c.empty:void 0;
return w(b)?new v(null,1,[zg,function(){var f=ej(a,d);f=null==f?null:Li(a,f.from,f.to);return w(f)?f:c}()],null):new v(null,1,[zg,function(){var f=fj(a,d,e);f=null==f?null:Ch.EditorSelection.range(f.from,f.to);return w(f)?f:c}()],null)})}),$i(function(a){return Sh(a,function(b){var c=null!=b&&(b.j&64||t===b.u)?T(W,b):b;var d=null!=c&&"from"in c?c.from:void 0;b=null!=c&&"to"in c?c.to:void 0;c=null!=c&&"empty"in c?c.empty:void 0;if(w(c)){b=Hi(a,d);var e=xi(b,function(h){var l=ti(h);return w(l)?l:ri(h)||
qi(h)}),f=a.doc.lineAt(d).to,g=w(e)?zi(e,d,1):null;b=w(e)?function(){var h=null==g?null:Ef(Vd(function(l){return l.from<=f}),g);return null==h?null:zc(h)}():null;b=ri(e)?function(){var h=z.c(a.doc.slice(e.from,e.to)).substring(d-e.from).indexOf("\n");return 0>h?e.to-1:d+h+1}():w(b)?li(b)?b.from:b.to:w(function(){var h=I(g);h=null==h?null:h.from;return null==h?null:h>f}())?I(g).from:null;aj(a.doc.slice(d,b));return w(b)?new v(null,2,[Bg,d,ch,new v(null,2,[qg,d,Wg,b],null)],null):null}aj(a.doc.slice(d,
b));return new v(null,2,[Bg,d,ch,Qh(d,b)],null)})}),$i(gj(1)),$i(dj(1)),$i(dj(-1)),$i(hj(1)),$i(hj(-1)),$i(cj(1)),$i(gj(-1)),$i(function(a){return Sh(a,function(b){var c=null!=b&&(b.j&64||t===b.u)?T(W,b):b;b=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;return w(c)?(c=Hi(a,b,-1),c=null==c?null:xi(c,ti),c=null==c?null:Ph(c,vi),w(c)?new v(null,2,[Bg,b-1,ch,new U(null,2,5,V,[Ci(c.firstChild),Ci(c.lastChild)],null)],null):null):null})}),$i(function(a){var b=I(K(a.field(Zi)));
return w(b)?a.update({selection:b}):Sh(a,function(c){return new v(null,1,[Bg,c.from],null)})})]),kj=function(a){return w(Pd(fd,a))?dd(function(b,c){return Ac.g(w(b)?b:Nd,c)},a):null}(vc([ij,jj]));ed(function(a,b,c){return Ec.l(a,c,b)},Nd,kj);function Mj(a,b){a=Hi(a,b).name;b=new Bf(null,new v(null,2,["StringContent",null,"String",null],null),null);return b.c?b.c(a):b.call(null,a)}function Uj(a,b){var c=b-1;return M.g("\\",a.doc.slice(0>c?0:c,b).toString())}
function lj(a){var b=null!=a&&(a.j&64||t===a.u)?T(W,a):a;return w(M.g(1,b.selection.ranges.length)?function(){var c=null!=b&&"selection"in b?b.selection:void 0;c=null!=c&&"ranges"in c?c.ranges:void 0;c=null!=c&&0 in c?c[0]:void 0;var d=c.empty;return w(d)?M.g(0,c.from):d}():!1)?null:Th(b,{annotations:Ch.Transaction.userEvent.of("delete")},function(c){var d=null!=c&&(c.j&64||t===c.u)?T(W,c):c;var e=null!=d&&"empty"in d?d.empty:void 0;c=null!=d&&"head"in d?d.head:void 0;d=null!=d&&"anchor"in d?d.anchor:
void 0;c=Qh(c,d);d=null!=c&&(c.j&64||t===c.u)?T(W,c):c;c=null!=d&&"from"in d?d.from:void 0;d=null!=d&&"to"in d?d.to:void 0;var f=Hi(b).resolve(c,-1),g=f.parent;e=va(e);e||(e=(e=M.g("StringContent",Hi(b,c,-1).name))?e:w(g)?!vi(g)&&mi(f):g);w(e)?c=Lj(c,d):ni(f.type)&&c===g.to?c=new v(null,1,[Bg,c-1],null):(ki(f)||f.type.prop(ei))&&f.from===g.from?(d=f.parent,e=d.name,c=(w(ti(d))?Ai(hi(d.firstChild),d.lastChild):M.g("String",e)&&d.firstChild.to===d.lastChild.from)?new v(null,2,[Bg,g.from,ch,new U(null,
1,5,V,[Qh(g.from,g.to)],null)],null):new v(null,1,[Bg,c],null)):(e=Bi(b,c-1),e=null==e?null:Ph(e,si),w(e)&&(e=b.doc,e=e.lineAt.call(e,c),e=e.slice.call(e),e=!/^[\s\xa0]*$/.test(null==e?"":String(e))),c=w(e)?new v(null,1,[Bg,c-1],null):Lj(c,d));return c})}var mj=new v(null,4,'()[]{}""'.split(""),null);
function nj(a,b){var c=mj.c?mj.c(b):mj.call(null,b);return Th(a,{annotations:Ch.Transaction.userEvent.of("input")},function(d){var e=null!=d&&(d.j&64||t===d.u)?T(W,d):d;d=null!=e&&"from"in e?e.from:void 0;var f=null!=e&&"to"in e?e.to:void 0;var g=null!=e&&"head"in e?e.head:void 0;var h=null!=e&&"anchor"in e?e.anchor:void 0;e=null!=e&&"empty"in e?e.empty:void 0;return w(Mj(a,d))?M.g(b,'"')?Kj(g,g,'\\"'):Kj(d,f,b):Uj(a,d)?Kj(d,f,b):w(e)?new v(null,2,[ch,new v(null,2,[ph,[b,c].join(""),qg,g],null),Bg,
g+b.length],null):new v(null,2,[ch,new U(null,2,5,V,[new v(null,2,[ph,b,qg,d],null),new v(null,2,[ph,c,qg,f],null)],null),th,new U(null,2,5,V,[h+b.length,g+b.length],null)],null)})}
function oj(a,b){return Th(a,{annotations:Ch.Transaction.userEvent.of("input")},function(c){var d=null!=c&&(c.j&64||t===c.u)?T(W,c):c;c=null!=d&&"empty"in d?d.empty:void 0;var e=null!=d&&"head"in d?d.head:void 0;var f=null!=d&&"from"in d?d.from:void 0;d=null!=d&&"to"in d?d.to:void 0;if(w(function(){var g=Mj(a,f);return w(g)?g:Uj(a,f)}()))return Kj(f,d,b);if(w(c)){c=function(){var g=function(){var m=Hi(a,e,-1);m=null==m?null:wi(m);m=null==m?null:ee(Wd(ti,Qd(vi)),m);return null==m?null:I(m)}(),h=function(){var m=
null==g?null:g.firstChild;return null==m?null:oi(m)}(),l=null==g?null:g.to;return w(w(h)?M.g(h,b):h)?new v(null,2,[ch,new v(null,2,[qg,l,ph,h],null),Bg,l+1],null):null}();if(w(c))return c;c=function(){var g=function(){a:{var h=Hi(a);for(var l=e;;){var m=Ii(h,l,1);if(m.type.isTop){h=null;break a}if(ui(m.type)){h=m;break a}l=1+l}}if(w(h))for(;;){if(ni(h.type))return h.to;if(!w(h.next()))return null}else return null}();return w(g)?new v(null,1,[Bg,g],null):null}();return w(c)?c:new v(null,1,[Bg,e],null)}return null})}
function pj(a){return function(b){b=null!=b&&(b.j&64||t===b.u)?T(W,b):b;var c=null!=b&&"state"in b?b.state:void 0;return Rh(b,nj(c,a))}}function qj(a){return function(b){b=null!=b&&(b.j&64||t===b.u)?T(W,b):b;var c=null!=b&&"state"in b?b.state:void 0;return Rh(b,oj(c,a))}};var rj=Dh.EditorView.baseTheme({$matchingBracket:{color:"#0b0"},$nonmatchingBracket:{color:"#a22"}}),sj=Dh.Decoration.mark({"class":Dh.themeClass("matchingBracket")}),tj=Dh.Decoration.mark({"class":Dh.themeClass("nonmatchingBracket")});function uj(a,b){return b.range(a.from,a.to)}
var vj=Ch.StateField.define({create:Rd(Dh.Decoration.none),update:function(a,b){var c=null!=b&&(b.j&64||t===b.u)?T(W,b):b;var d=null!=c&&"state"in c?c.state:void 0;b=null!=c&&"docChanged"in c?c.docChanged:void 0;var e=null!=c&&"selection"in c?c.selection:void 0;return w(w(b)?b:e)?(a=Ca(function(f,g){g=null!=g&&(g.j&64||t===g.u)?T(W,g):g;var h=null!=g&&"head"in g?g.head:void 0;var l=null!=g&&"empty"in g?g.empty:void 0;g=function(){var m=w(l)?I(ee(Xd(ki,li),new U(null,2,5,V,[Hi(d,h,-1),Hi(d,h,1)],null))):
l;if(w(m)){var n=ki(m)&&M.g(m.from,m.parent.from)?Ph(m.parent.lastChild,function(p){return M.g(p.name,oi(m))}):li(m)&&M.g(m.to,m.parent.to)?Ph(m.parent.firstChild,function(p){return M.g(p.name,pi(m))}):null;return w(n)?Ac.s(f,uj(m,sj),vc([uj(n,sj)])):Ac.g(f,uj(m,tj))}return null}();if(w(g))return g;g=function(){if(va(xi(Hi(d,h),ri))){var m=c.state.doc.slice(h,h+1).toString();var n=new Bf(null,new v(null,3,[")",null,"]",null,"}",null],null),null);m=n.c?n.c(m):n.call(null,m)}else m=!1;return w(m)?Ac.g(f,
uj({from:h,to:h+1},tj)):null}();return w(g)?g:f},Bc,c.state.selection.ranges),Dh.Decoration.set(Ba(a),!0)):a},provide:[Dh.EditorView.decorations]});function wj(a){return ed(function(b,c,d){var e=C.g(b,c);return null==e?Gc.g(b,c):Ec.l(b,c,d.c?d.c(e):d.call(null,e))},a,new v(null,2,[ah,kj,Dg,kj],null))}function xj(a){return ag(ed(function(b,c,d){return ge.g(b,Yd.g(function(e){return wj(Ec.l(e,ah,c))},d))},Bc,a))}
var yj=wf([yg,Ig,bh,sg,eh,Fg,nh,cg,Jg,Gg,jh,ng,tg,uh,Kg,sh,lh,Zg,mh,Sg,lg],[new U(null,2,5,V,[new v(null,2,[Y,"ArrowDown",Dg,Og],null),new v(null,2,[og,"Ctrl-n",Dg,Og],null)],null),new U(null,1,5,V,[new v(null,1,[Y,"Mod-a"],null)],null),new U(null,1,5,V,[new v(null,2,[Y,"End",Dg,Vg],null)],null),new U(null,2,5,V,[new v(null,1,[Y,"Backspace"],null),new v(null,1,[og,"Ctrl-h"],null)],null),new U(null,2,5,V,[new v(null,3,[Y,"Home",Dg,kh,og,"Ctrl-a"],null),new v(null,2,[og,"Cmd-ArrowLeft",Dg,kh],null)],
null),new U(null,2,5,V,[new v(null,1,[Y,"Delete"],null),new v(null,1,[og,"Ctrl-d"],null)],null),new U(null,2,5,V,[new v(null,2,[Y,"ArrowLeft",Dg,ug],null),new v(null,2,[og,"Ctrl-b",Dg,ug],null)],null),new U(null,1,5,V,[new v(null,2,[og,"Alt-b",Dg,Pg],null)],null),new U(null,3,5,V,[new v(null,2,[og,"Cmd-ArrowDown",Dg,Ag],null),new v(null,2,[Y,"Mod-End",Dg,Ag],null),new v(null,1,[og,"Alt-\x3e"],null)],null),new U(null,2,5,V,[new v(null,2,[Y,"Mod-Backspace",og,"Alt-Backspace"],null),new v(null,1,[og,
"Ctrl-Alt-h"],null)],null),new U(null,3,5,V,[new v(null,2,[Y,"Mod-Delete",og,"Ctrl-Alt-Backspace"],null),new v(null,1,[og,"Alt-Delete"],null),new v(null,1,[og,"Alt-d"],null)],null),new U(null,3,5,V,[new v(null,2,[og,"Ctrl-ArrowDown",Dg,rg],null),new v(null,2,[Y,"PageDown",Dg,rg],null),new v(null,1,[og,"Ctrl-v"],null)],null),new U(null,3,5,V,[new v(null,2,[og,"Ctrl-ArrowUp",Dg,Yg],null),new v(null,2,[Y,"PageUp",Dg,Yg],null),new v(null,1,[og,"Alt-v"],null)],null),new U(null,2,5,V,[new v(null,1,[og,
"Cmd-ArrowRight"],null),new v(null,2,[og,"Ctrl-e",Dg,kg],null)],null),new U(null,1,5,V,[new v(null,2,[og,"Alt-f",Dg,gg],null)],null),new U(null,1,5,V,[new v(null,2,[Y,"Mod-u",ih,!0],null)],null),new U(null,2,5,V,[new v(null,2,[Y,"ArrowRight",Dg,Tg],null),new v(null,2,[og,"Ctrl-f",Dg,Tg],null)],null),new U(null,1,5,V,[new v(null,1,[og,"Ctrl-o"],null)],null),new U(null,1,5,V,[new v(null,1,[og,"Ctrl-t"],null)],null),new U(null,2,5,V,[new v(null,2,[Y,"ArrowUp",Dg,Hg],null),new v(null,2,[og,"Ctrl-p",Dg,
Hg],null)],null),new U(null,3,5,V,[new v(null,2,[og,"Cmd-ArrowUp",Dg,Eg],null),new v(null,2,[Y,"Mod-Home",Dg,Eg],null),new v(null,1,[og,"Alt-\x3c"],null)],null)]),ad=wf([oh,wg,dh,Rg,fh,eg,pg,mg,Cg,rh,Ng,fg],[new U(null,1,5,V,[new v(null,2,[Y,"Tab",jg,"Indent document (or selection)"],null)],null),new U(null,1,5,V,[new v(null,4,[Y,"Alt-ArrowLeft",Dg,Qg,jg,"Move cursor one unit to the left (shift: selects this region)",ih,!0],null)],null),new U(null,1,5,V,[new v(null,2,[Y,"Enter",jg,"Insert newline and indent"],
null)],null),new U(null,2,5,V,[new v(null,2,[jg,"Grow selections",Y,"Alt-ArrowUp"],null),new v(null,1,[Y,"Mod-1"],null)],null),new U(null,1,5,V,[new v(null,3,[Y,"Ctrl-k",jg,"Remove all forms from cursor to end of line",ih,!0],null)],null),new U(null,2,5,V,[new v(null,3,[Y,"Ctrl-ArrowRight",jg,"Expand collection to include form to the right",ih,!0],null),new v(null,2,[Y,"Mod-Shift-k",ih,!0],null)],null),new U(null,2,5,V,[new v(null,3,[Y,"Ctrl-ArrowLeft",jg,"Shrink collection forwards by one form",
ih,!0],null),new v(null,2,[Y,"Mod-Shift-j",ih,!0],null)],null),new U(null,1,5,V,[new v(null,2,[jg,"Shrink collection backwards by one form",Y,"Ctrl-Alt-ArrowRight"],null)],null),new U(null,1,5,V,[new v(null,4,[Y,"Alt-ArrowRight",Dg,Lg,jg,"Move cursor one unit to the right (shift: selects this region)",ih,!0],null)],null),new U(null,1,5,V,[new v(null,3,[jg,"Grow collection backwards by one form",Y,"Ctrl-Alt-ArrowLeft",ih,!0],null)],null),new U(null,1,5,V,[new v(null,3,[Y,"Alt-s",jg,"Lift contents of collection into parent",
ih,!0],null)],null),new U(null,2,5,V,[new v(null,2,[jg,"Shrink selections",Y,"Alt-ArrowDown"],null),new v(null,1,[Y,"Mod-2"],null)],null)]),zj=xj(yj),Aj=xj(ad).concat(zj);var Bj=function(){function a(b){return{from:b.from+1,to:b.to-1}}return{Vector:a,Map:a,List:a}}(),Cj=ag(wf([Oj,'"\\""',"VarName/Symbol","DocString/...",Sj,Pj,Nj,Jj,Rj,"Operator/Symbol",Qi,Ih,Qj],[Gh.tags.lineComment,Gh.tags.string,Gh.tags.definition(Gh.tags.variableName),Gh.tags.emphasis,Gh.tags.atom,Gh.tags.atom,Gh.tags.number,Gh.tags.regexp,Gh.tags.string,Gh.tags.keyword,Gh.tags.comment,Gh.tags.keyword,Gh.tags.null])),Dj=[Tj.LezerLanguage.define({parser:Nh.parser.configure({props:[Pi,Tj.foldNodeProp.add(Bj),
Gh.styleTags(Cj)]})},{languageData:{commentTokens:{line:";;"}}}),Dh.keymap([{key:"Backspace",run:function(a){a=null!=a&&(a.j&64||t===a.u)?T(W,a):a;var b=null!=a&&"state"in a?a.state:void 0;return Rh(a,lj(b))}},{key:"(",run:pj("(")},{key:"[",run:pj("[")},{key:"{",run:pj("{")},{key:'"',run:pj('"')},{key:")",run:qj(")")},{key:"]",run:qj("]")},{key:"}",run:qj("}")}]),[rj,vj],Zi,Ch.EditorState.transactionFilter.of(function(a){var b=a.annotation(Ch.Transaction.userEvent),c=function(){switch(b){case "input":case "delete":case "keyboardselection":case "pointerselection":case "cut":case "noformat":return null;
case "format-selections":return Ui(a.state);default:var d=a.state,e=new Tj.IndentContext(d);return Xh(a,function(f,g){return Ti(d,e,f.from,f.content,g)})}}();return w(c)?a.startState.update(function(){var d=null!=c?c:{};d.filter=!1;return d}()):a}),Dh.EditorView.lineWrapping];Jh.buildParser('@external prop prefixColl from "./props"\n@external prop coll from "./props"\n@external prop prefixEdge from "./props"\n@external prop sameEdge from "./props"\n@external prop prefixContainer from "./props"\n\n@top Program { expression* }\n\n@skip { whitespace | LineComment | Discard }\nexpression { Constructor | Boolean | Nil | Deref | Quote | SyntaxQuote | Unquote | UnquoteSplice | Symbol | Number | Keyword | List | Vector | Map | String | Character | Set | NamespacedMap | RegExp | Var | ReaderConditional | DataLiteral | SymbolicValue | AnonymousFunction | Meta\x3cexpression\x3e }\nDiscard { "#_" expression }\n@precedence { docString @left, operator @left, meta @right, prefixLiteral @right }\n\nlistContents {\n   defList { defLikeWithMeta varNameWithMeta (DocString expression+ | expression+)? } |\n   anyList { operatorWithMeta? expression* }\n }\n\nDocString { !docString String }\nList[coll] { "(" listContents ")" }\nVector[coll] { "[" expression* "]" }\nMap[coll] { "{" expression* "}" }\nVarName { Symbol }\n\ncoll[@isGroup\x3dColl] {\n  List | Vector | Map\n}\nprefixColl[@isGroup\x3dPrefixColl] {\n  Set |\n  AnonymousFunction |\n  NamespacedMap |\n  Constructor |\n  ReaderConditional |\n  ReaderMetadata |\n  Metadata |\n  Deref |\n  Quote |\n  SyntaxQuote |\n  Unquote |\n  UnquoteSplice\n}\n\nprefixEdge[@isGroup\x3dPrefixEdge] {\n KeywordPrefix |\n ConstructorPrefix |\n "#" |\n "##" |\n "#\'" |\n "#?" |\n "#^" |\n "#_" |\n "\'" |\n "`" |\n "~" |\n "~@" |\n "^" |\n "@"\n}\n\n@skip {} {\n  dataLiteral { "#" ident }\n  DataLiteral { dataLiteral }\n  SymbolicValue { "##" ident }\n  Set[prefixColl] { "#" Map }\n  AnonymousFunction[prefixColl] { "#" List }\n\n  KeywordPrefix[prefixEdge] { "#" keyword }\n  NamespacedMap[prefixColl] { KeywordPrefix Map }\n\n  ConstructorPrefix[prefixEdge] { !prefixLiteral  dataLiteral }\n  Constructor[prefixColl] { ConstructorPrefix (Vector | Map) }\n\n  RegExp[prefixColl] { "#" String }\n  Var[prefixColl] { "#\'" Symbol }\n  ReaderConditional[prefixColl] { "#?" (List | Deref) }\n  ReaderMetadata[prefixColl] { "#^" expression }\n  Metadata[prefixColl] { "^" expression }\n  String { \'"\' StringContent? \'"\' }\n}\n\nMeta[prefixContainer]\x3ct\x3e { (Metadata | ReaderMetadata) !meta t }\n\nDeref[prefixColl] { "@" expression }\nQuote[prefixColl] { "\'" expression }\nSyntaxQuote[prefixColl] { "`" expression }\nUnquote[prefixColl] { "~" expression }\nUnquoteSplice[prefixColl] { "~@" expression }\noperatorWithMeta { Operator | Meta\x3coperatorWithMeta\x3e }\ndefLikeWithMeta { DefLike | Meta\x3cdefLikeWithMeta\x3e }\nvarNameWithMeta { VarName | Meta\x3cvarNameWithMeta\x3e }\n\nOperator { !operator Symbol }\n\n@tokens {\n\n\n  "["\n  "{"\n  "("\n\n  "#"[prefixEdge]\n  "##"[prefixEdge]\n  "#\'"[prefixEdge]\n  "#?"[prefixEdge]\n  "#^"[prefixEdge]\n  "#_"[prefixEdge]\n\n  \'"\'[sameEdge, closedBy\x3d\'"\', openedBy\x3d\'"\']\n  "\'"[prefixEdge]\n  "`"[prefixEdge]\n  "~"[prefixEdge]\n  "~@"[prefixEdge]\n  "^"[prefixEdge]\n  "@"[prefixEdge]\n\n\n  "]"\n  "}"\n  ")"\n\n  whitespace { (std.whitespace | ",")+ }\n\n  LineComment { ";" ![\\n]* }\n\n  identStart { std.asciiLetter | $[\x3c\x3e\x26%._\x3d?!*+\\-$\\u{a1}-\\u{10ff}/] }\n  identChar { identStart | std.digit | ":" | "\'" | "#" | "/"}\n  ident { identStart identChar* }\n  Symbol { ident }\n\n  keyword { ":" ":"? ident? } // the invalid token :: can also be considered as a keyword\n  Keyword { keyword }\n\n  Number {\n    ("+" | "-")? (std.digit+ ("." std.digit* "M"?)? | "." std.digit+) (("e" | "E") ("+" | "-")? std.digit+ "M"?)? |\n    ("+" | "-")? std.digit+ ("M" | "N") |\n    ("+" | "-")? std.digit+ "/" std.digit+ |\n    ("+" | "-")? "0x" (std.digit | $[a-fA-F])+ |\n    "0b" $[01]+ |\n    "0o" $[0-7]+\n  }\n  @precedence { Number, Symbol }\n\n  StringContent {\n    (!["] | "\\\\" _)+\n  }\n\n  Character { "\\\\" (std.asciiLetter | std.digit | "@")+ }\n\n}\n\nBoolean { @specialize\x3cSymbol, "true" | "false"\x3e }\nNil { @specialize\x3cSymbol, "nil"\x3e }\nDefLike[@dynamicPrecedence\x3d1] { @extend\x3cSymbol, "def" | "defn" | "defn-" | "defmacro" | "definline" | "defonce" | "deftest" | "defcard"\x3e }\n\n@detectDelim\n',
{externalProp:function(a){switch(a){case "prefixColl":return $h;case "coll":return Zh;case "prefixEdge":return ai;case "prefixContainer":return bi;case "sameEdge":return ei;default:throw Error(["No matching clause: ",z.c(a)].join(""));}}});var Ej=Dh.EditorView.theme({$content:{"white-space":"pre-wrap"},$$focused:{outline:"none"},$line:{padding:"0 9px","line-height":"1.6","font-size":"16px","font-family":"var(--code-font)"},$matchingBracket:{"border-bottom":"1px solid var(--teal-color)",color:"inherit"},$cursor:{visibility:"hidden"},"$$focused $cursor":{visibility:"visible"}}),Xi=[Dh.EditorView.lineWrapping,Ej,Hh.history(),Gh.defaultHighlightStyle,Dh.drawSelection(),Eh.lineNumbers(),Fh.foldGutter(),Ch.EditorState.allowMultipleSelections.of(!0),
Dj,Dh.keymap(Aj),Dh.keymap(Hh.historyKeymap)],Fj=new Sd(Bc);function Gj(){var a=Wi();Ud.l(Fj,Ac,new Dh.EditorView({state:a,parent:document.querySelector("#editor")}))}function Hj(a,b){var c=Nc(I(b))?new U(null,2,5,V,[I(b),ac(b)],null):new U(null,2,5,V,[null,b],null);b=S(c,0,null);c=S(c,1,null);return["\x3c",qd(a),z.c(ed(function(d,e,f){return[z.c(d)," ",qd(e),"\x3d'",z.c(f),"'"].join("")},"",b)),"\x3e",z.c(T(z,c)),"\x3c/",qd(a),"\x3e"].join("")}
function Ij(){for(var a=G(bb(Fj)),b=null,c=0,d=0;;)if(d<c){var e=b.R(null,d);e.destroy.call(e);d+=1}else if(a=G(a))b=a,Qc(b)?(a=Db(b),d=Eb(b),b=a,c=O(a),a=d):(a=I(b),a.destroy.call(a),a=K(b),b=null,c=0),d=0;else break;Gj();a=document.getElementById("docs");(null!=a?a:{}).innerHTML=Hj(gh,vc([Hj(hg,vc([new v(null,2,[Mg,0,xg,"w-full"],null),Ca(function(f,g){var h=S(g,0,null);g=S(g,1,null);g=S(g,0,null);var l=null!=g&&(g.j&64||t===g.u)?T(W,g):g;g=C.g(l,Y);var m=C.g(l,Dg);l=C.g(l,jg);return[z.c(f),Hj(Ug,
vc([new v(null,1,[xg,"border-t even:bg-gray-100"],null),Hj($g,vc([new v(null,1,[xg,"px-3 py-1 align-top"],null),Hj(Xg,vc([qd(h)]))])),Hj($g,vc([new v(null,1,[xg,"px-3 py-1 align-top monospace text-sm"],null),g])),Hj($g,vc([new v(null,1,[xg,"px-3 py-1 align-top"],null),l]))])),w(m)?Hj(Ug,vc([new v(null,1,[xg,"border-t even:bg-gray-100"],null),Hj($g,vc([new v(null,1,[xg,"px-3 py-1 align-top"],null),Hj(Xg,vc([qd(m)]))])),Hj($g,vc([new v(null,1,[xg,"px-3 py-1 align-top monospace text-sm"],null),["Shift-",
z.c(g)].join("")])),Hj($g,vc([new v(null,1,[xg,"px-3 py-1 align-top"],null),""]))])):null].join("")},"",$c()),"\x3c/table\x3e"]))]));zc(bb(Fj)).focus()};try{Ij()}catch(a){throw console.error("An error occurred when calling (codemirror-next.clojure.demo/render)"),a;};
}).call(this);